/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@zxing/browser@0.1.5/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{IllegalArgumentException as t,InvertedLuminanceSource as e,LuminanceSource as n,ArgumentException as r,NotFoundException as o,ChecksumException as i,FormatException as a,DecodeHintType as c,HybridBinarizer as s,BinaryBitmap as u,AztecCodeReader as l,MultiFormatOneDReader as d,DataMatrixReader as f,MultiFormatReader as h,PDF417Reader as p,QRCodeReader as m,EncodeHintType as v,QRCodeDecoderErrorCorrectionLevel as y,QRCodeEncoder as w,IllegalStateException as g}from"/npm/@zxing/library@0.21.0/+esm";export{BarcodeFormat}from"/npm/@zxing/library@0.21.0/+esm";var b,E=(b=function(t,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},b(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(n){function r(t){var e=n.call(this,t.width,t.height)||this;return e.canvas=t,e.tempCanvasElement=null,e.buffer=r.makeBufferFromCanvasImageData(t),e}return E(r,n),r.makeBufferFromCanvasImageData=function(t){var e;try{e=t.getContext("2d",{willReadFrequently:!0})}catch(n){e=t.getContext("2d")}if(!e)throw new Error("Couldn't get canvas context.");var n=e.getImageData(0,0,t.width,t.height);return r.toGrayscaleBuffer(n.data,t.width,t.height)},r.toGrayscaleBuffer=function(t,e,n){for(var r=new Uint8ClampedArray(e*n),o=0,i=0,a=t.length;o<a;o+=4,i++){var c=void 0;if(0===t[o+3])c=255;else c=306*t[o]+601*t[o+1]+117*t[o+2]+512>>10;r[i]=c}return r},r.prototype.getRow=function(e,n){if(e<0||e>=this.getHeight())throw new t("Requested row is outside the image: "+e);var r=this.getWidth(),o=e*r;return null===n?n=this.buffer.slice(o,o+r):(n.length<r&&(n=new Uint8ClampedArray(r)),n.set(this.buffer.slice(o,o+r))),n},r.prototype.getMatrix=function(){return this.buffer},r.prototype.isCropSupported=function(){return!0},r.prototype.crop=function(t,e,r,o){return n.prototype.crop.call(this,t,e,r,o),this},r.prototype.isRotateSupported=function(){return!0},r.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},r.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},r.prototype.invert=function(){return new e(this)},r.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},r.prototype.rotate=function(t){var e=this.getTempCanvasElement();if(!e)throw new Error("Could not create a Canvas element.");var n=t*r.DEGREE_TO_RADIANS,o=this.canvas.width,i=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(n))*o+Math.abs(Math.sin(n))*i),c=Math.ceil(Math.abs(Math.sin(n))*o+Math.abs(Math.cos(n))*i);e.width=a,e.height=c;var s=e.getContext("2d");if(!s)throw new Error("Could not create a Canvas Context element.");return s.translate(a/2,c/2),s.rotate(n),s.drawImage(this.canvas,o/-2,i/-2),this.buffer=r.makeBufferFromCanvasImageData(e),this},r.DEGREE_TO_RADIANS=Math.PI/180,r}(n);function C(){return"undefined"!=typeof navigator}function O(){return!!(C()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)}var _=function(){return _=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_.apply(this,arguments)},T=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},I=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},M=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},V={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},A=function(){function t(t,e,n){void 0===e&&(e=new Map),void 0===n&&(n={}),this.reader=t,this.hints=e,this.options=_(_({},V),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(t){this.hints.set(c.POSSIBLE_FORMATS,t)},enumerable:!1,configurable:!0}),t.addVideoSource=function(t,e){try{t.srcObject=e}catch(t){console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(t,e){return T(this,void 0,void 0,(function(){return I(this,(function(n){switch(n.label){case 0:return[4,t.applyConstraints({advanced:[{fillLightMode:e?"flash":"off",torch:!!e}]})];case 1:return n.sent(),[2]}}))}))},t.mediaStreamIsTorchCompatible=function(e){var n,r,o=e.getVideoTracks();try{for(var i=M(o),a=i.next();!a.done;a=i.next()){var c=a.value;if(t.mediaStreamIsTorchCompatibleTrack(c))return!0}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(t){try{return"torch"in t.getCapabilities()}catch(t){return console.error(t),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&t.readyState>2},t.getMediaElement=function(t,e){var n=document.getElementById(t);if(!n)throw new r("element with id '".concat(t,"' not found"));if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new r("element with id '".concat(t,"' must be an ").concat(e," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return t.getMediaElement(e,"video");if(!e&&"undefined"!=typeof document){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return t.getMediaElement(e,"img");if(void 0===e){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},t.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.createBinaryBitmapFromCanvas=function(t){var e=new S(t),n=new s(e);return new u(n)},t.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},t.getMediaElementDimensions=function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new r("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var n=document.createElement("canvas"),o=t.getMediaElementDimensions(e),i=o.width,a=o.height;return n.style.width=i+"px",n.style.height=a+"px",n.width=i,n.height=a,n},t.tryPlayVideo=function(e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(r){switch(r.label){case 0:if(null==e?void 0:e.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.play()];case 2:return r.sent(),[2,!0];case 3:return n=r.sent(),console.warn("It was not possible to play the video.",n),[2,!1];case 4:return[2]}}))}))},t.createCanvasFromMediaElement=function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n},t.createBinaryBitmapFromMediaElem=function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)},t.destroyImageElement=function(t){t.src="",t.removeAttribute("src"),t=void 0},t.listVideoInputDevices=function(){return T(this,void 0,void 0,(function(){var t,e,n,r,o,i,a,c,s,u,l,d;return I(this,(function(f){switch(f.label){case 0:if(!C())throw new Error("Can't enumerate devices, navigator is not present.");if(!O())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=f.sent(),e=[];try{for(n=M(t),r=n.next();!r.done;r=n.next())o=r.value,"videoinput"===(i="video"===o.kind?"videoinput":o.kind)&&(a=o.deviceId||o.id,c=o.label||"Video device ".concat(e.length+1),s=o.groupId,u={deviceId:a,label:c,kind:i,groupId:s},e.push(u))}catch(t){l={error:t}}finally{try{r&&!r.done&&(d=n.return)&&d.call(n)}finally{if(l)throw l.error}}return[2,e]}}))}))},t.findDeviceById=function(e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(r){switch(r.label){case 0:return[4,t.listVideoInputDevices()];case 1:return(n=r.sent())?[2,n.find((function(t){return t.deviceId===e}))]:[2]}}))}))},t.cleanVideoSource=function(t){if(t){try{t.srcObject=null}catch(e){t.src=""}t&&t.removeAttribute("src")}},t.releaseAllStreams=function(){0!==t.streamTracker.length&&t.streamTracker.forEach((function(t){t.getTracks().forEach((function(t){return t.stop()}))})),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,n){return T(this,void 0,void 0,(function(){return I(this,(function(r){switch(r.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return r.sent()?[2,!0]:[2,new Promise((function(r,o){var i=setTimeout((function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",a))}),n),a=function(){t.tryPlayVideo(e).then((function(t){clearTimeout(i),e.removeEventListener("canplay",a),r(t)}))};e.addEventListener("canplay",a)}))]}}))}))},t.attachStreamToVideo=function(e,n,r){return void 0===r&&(r=5e3),T(this,void 0,void 0,(function(){var o;return I(this,(function(i){switch(i.label){case 0:return o=t.prepareVideoElement(n),t.addVideoSource(o,e),[4,t.playVideoOnLoadAsync(o,r)];case 1:return i.sent(),[2,o]}}))}))},t._waitImageLoad=function(e){return new Promise((function(n,r){var o=setTimeout((function(){t.isImageLoaded(e)||(e.removeEventListener("load",i),r())}),1e4),i=function(){clearTimeout(o),e.removeEventListener("load",i),n()};e.addEventListener("load",i)}))},t.checkCallbackFnOrThrow=function(t){if(!t)throw new r("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(t){t.getVideoTracks().forEach((function(t){return t.stop()})),t=void 0},t.prototype.decode=function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this.hints)},t.prototype.decodeFromCanvas=function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)},t.prototype.decodeFromImageElement=function(e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(o){switch(o.label){case 0:if(!e)throw new r("An image element must be provided.");return n=t.prepareImageElement(e),[4,this._decodeOnLoadImage(n)];case 1:return[2,o.sent()]}}))}))},t.prototype.decodeFromImageUrl=function(e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(o){switch(o.label){case 0:if(!e)throw new r("An URL must be provided.");(n=t.prepareImageElement()).src=e,o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.decodeFromImageElement(n)];case 2:return[2,o.sent()];case 3:return t.destroyImageElement(n),[7];case 4:return[2]}}))}))},t.prototype.decodeFromConstraints=function(e,n,r){return T(this,void 0,void 0,(function(){var o,i;return I(this,(function(a){switch(a.label){case 0:return t.checkCallbackFnOrThrow(r),[4,this.getUserMedia(e)];case 1:o=a.sent(),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.decodeFromStream(o,n,r)];case 3:return[2,a.sent()];case 4:throw i=a.sent(),t.disposeMediaStream(o),i;case 5:return[2]}}))}))},t.prototype.decodeFromStream=function(e,n,r){return T(this,void 0,void 0,(function(){var o,i,a,c,s,u,l,d,f=this;return I(this,(function(h){switch(h.label){case 0:return t.checkCallbackFnOrThrow(r),o=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,n,o)];case 1:return i=h.sent(),a=function(){t.disposeMediaStream(e),t.cleanVideoSource(i)},c=this.scan(i,r,a),s=e.getVideoTracks(),u=_(_({},c),{stop:function(){c.stop()},streamVideoConstraintsApply:function(t,e){return T(this,void 0,void 0,(function(){var n,r,o,i,a,c;return I(this,(function(u){switch(u.label){case 0:n=e?s.filter(e):s,u.label=1;case 1:u.trys.push([1,6,7,8]),r=M(n),o=r.next(),u.label=2;case 2:return o.done?[3,5]:[4,o.value.applyConstraints(t)];case 3:u.sent(),u.label=4;case 4:return o=r.next(),[3,2];case 5:return[3,8];case 6:return i=u.sent(),a={error:i},[3,8];case 7:try{o&&!o.done&&(c=r.return)&&c.call(r)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))}))},streamVideoConstraintsGet:function(t){return s.find(t).getConstraints()},streamVideoSettingsGet:function(t){return s.find(t).getSettings()},streamVideoCapabilitiesGet:function(t){return s.find(t).getCapabilities()}}),t.mediaStreamIsTorchCompatible(e)&&(l=null==s?void 0:s.find((function(e){return t.mediaStreamIsTorchCompatibleTrack(e)})),d=function(e){return T(f,void 0,void 0,(function(){return I(this,(function(n){switch(n.label){case 0:return[4,t.mediaStreamSetTorch(l,e)];case 1:return n.sent(),[2]}}))}))},u.switchTorch=d,u.stop=function(){return T(f,void 0,void 0,(function(){return I(this,(function(t){switch(t.label){case 0:return c.stop(),[4,d(!1)];case 1:return t.sent(),[2]}}))}))}),[2,u]}}))}))},t.prototype.decodeFromVideoDevice=function(e,n,r){return T(this,void 0,void 0,(function(){var o;return I(this,(function(i){switch(i.label){case 0:return t.checkCallbackFnOrThrow(r),o={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},[4,this.decodeFromConstraints(o,n,r)];case 1:return[2,i.sent()]}}))}))},t.prototype.decodeFromVideoElement=function(e,n){return T(this,void 0,void 0,(function(){var o,i;return I(this,(function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new r("A video element must be provided.");return o=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(o,i)];case 1:return a.sent(),[2,this.scan(o,n)]}}))}))},t.prototype.decodeFromVideoUrl=function(e,n){return T(this,void 0,void 0,(function(){var o,i,a;return I(this,(function(c){switch(c.label){case 0:if(t.checkCallbackFnOrThrow(n),!e)throw new r("An URL must be provided.");return(o=t.prepareVideoElement()).src=e,i=function(){t.cleanVideoSource(o)},a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(o,a)];case 1:return c.sent(),[2,this.scan(o,n,i)]}}))}))},t.prototype.decodeOnceFromConstraints=function(t,e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(r){switch(r.label){case 0:return[4,this.getUserMedia(t)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,e)];case 2:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromStream=function(e,n){return T(this,void 0,void 0,(function(){var r,o;return I(this,(function(i){switch(i.label){case 0:return r=Boolean(n),[4,t.attachStreamToVideo(e,n)];case 1:o=i.sent(),i.label=2;case 2:return i.trys.push([2,,4,5]),[4,this.scanOneResult(o)];case 3:return[2,i.sent()];case 4:return r||t.cleanVideoSource(o),[7];case 5:return[2]}}))}))},t.prototype.decodeOnceFromVideoDevice=function(t,e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(r){switch(r.label){case 0:return n={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},[4,this.decodeOnceFromConstraints(n,e)];case 1:return[2,r.sent()]}}))}))},t.prototype.decodeOnceFromVideoElement=function(e){return T(this,void 0,void 0,(function(){var n,o;return I(this,(function(i){switch(i.label){case 0:if(!e)throw new r("A video element must be provided.");return n=t.prepareVideoElement(e),o=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,o)];case 1:return i.sent(),[4,this.scanOneResult(n)];case 2:return[2,i.sent()]}}))}))},t.prototype.decodeOnceFromVideoUrl=function(e){return T(this,void 0,void 0,(function(){var n,o;return I(this,(function(i){switch(i.label){case 0:if(!e)throw new r("An URL must be provided.");(n=t.prepareVideoElement()).src=e,o=this.decodeOnceFromVideoElement(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,o];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(n),[7];case 4:return[2]}}))}))},t.prototype.scanOneResult=function(t,e,n,r){var c=this;return void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),new Promise((function(s,u){c.scan(t,(function(t,c,l){if(t)return s(t),void l.stop();if(c){if(c instanceof o&&e)return;if(c instanceof i&&n)return;if(c instanceof a&&r)return;l.stop(),u(c)}}))}))},t.prototype.scan=function(e,n,r){var c=this;t.checkCallbackFnOrThrow(n);var s,u=t.createCaptureCanvas(e);try{s=u.getContext("2d",{willReadFrequently:!0})}catch(t){s=u.getContext("2d")}if(!s)throw new Error("Couldn't create canvas for visual element scan.");var l,d=function(){s=void 0,u=void 0},f=!1,h={stop:function(){f=!0,clearTimeout(l),d(),r&&r()}},p=function(){if(!f)try{t.drawImageOnCanvas(s,e);var m=c.decodeFromCanvas(u);n(m,void 0,h),l=setTimeout(p,c.options.delayBetweenScanSuccess)}catch(t){if(n(void 0,t,h),t instanceof i||t instanceof a||t instanceof o)return void(l=setTimeout(p,c.options.delayBetweenScanAttempts));d(),r&&r(t)}};return p(),h},t.prototype._decodeOnLoadImage=function(e){return T(this,void 0,void 0,(function(){return I(this,(function(n){switch(n.label){case 0:return t.isImageLoaded(e)?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}}))}))},t.prototype.getUserMedia=function(e){return T(this,void 0,void 0,(function(){var n;return I(this,(function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=r.sent(),t.streamTracker.push(n),[2,n]}}))}))},t.streamTracker=[],t}(),R=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(t){function e(e,n){return t.call(this,new l,e,n)||this}return R(e,t),e}(A),F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(t){function e(e,n){return t.call(this,new d(e),e,n)||this}return F(e,t),e}(A),P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t){function e(e,n){return t.call(this,new f,e,n)||this}return P(e,t),e}(A),L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(t){function e(e,n){var r=this,o=new h;return o.setHints(e),(r=t.call(this,o,e,n)||this).reader=o,r}return L(e,t),Object.defineProperty(e.prototype,"possibleFormats",{set:function(t){this.hints.set(c.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)},e.prototype.setHints=function(t){this.hints=t,this.reader.setHints(this.hints)},e}(A),B=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(e,n){return t.call(this,new p,e,n)||this}return B(e,t),e}(A),G=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),H=function(t){function e(e,n){return t.call(this,new m,e,n)||this}return G(e,t),e}(A),U="http://www.w3.org/2000/svg",q=function(){function e(t){if("string"==typeof t){var e=document.getElementById(t);if(!e)throw new Error("Could not find a Container element with '".concat(t,"'."));this.containerElement=e}else this.containerElement=t}return e.prototype.write=function(n,r,o,i){if(0===n.length)throw new t("Found empty contents");if(r<0||o<0)throw new t("Requested dimensions are too small: "+r+"x"+o);var a=i&&void 0!==i.get(v.MARGIN)?Number.parseInt(i.get(v.MARGIN).toString(),10):e.QUIET_ZONE_SIZE,c=this.encode(i,n);return this.renderResult(c,r,o,a)},e.prototype.createSVGElement=function(t,n){var r=document.createElementNS(e.SVG_NS,"svg");return r.setAttributeNS(U,"width",n.toString()),r.setAttributeNS(U,"height",t.toString()),r},e.prototype.createSvgPathPlaceholderElement=function(t,n){var r=document.createElementNS(e.SVG_NS,"path");return r.setAttributeNS(U,"d","M0 0h".concat(t,"v").concat(n,"H0z")),r.setAttributeNS(U,"fill","none"),r},e.prototype.createSvgRectElement=function(t,n,r,o){var i=document.createElementNS(e.SVG_NS,"rect");return i.setAttributeNS(U,"x",t.toString()),i.setAttributeNS(U,"y",n.toString()),i.setAttributeNS(U,"height",r.toString()),i.setAttributeNS(U,"width",o.toString()),i.setAttributeNS(U,"fill","#000000"),i},e.prototype.encode=function(t,e){var n=y.L;if(t&&void 0!==t.get(v.ERROR_CORRECTION)){var r=t.get(v.ERROR_CORRECTION).toString();n=y.fromString(r)}return w.encode(e,n,t)},e.prototype.renderResult=function(t,e,n,r){var o=t.getMatrix();if(null===o)throw new g;var i=o.getWidth(),a=o.getHeight(),c=i+2*r,s=a+2*r,u=Math.max(e,c),l=Math.max(n,s),d=Math.min(Math.floor(u/c),Math.floor(l/s)),f=Math.floor((u-i*d)/2),h=Math.floor((l-a*d)/2),p=this.createSVGElement(u,l),m=this.createSvgPathPlaceholderElement(e,n);p.appendChild(m),this.containerElement.appendChild(p);for(var v=0,y=h;v<a;v++,y+=d)for(var w=0,b=f;w<i;w++,b+=d)if(1===o.get(w,v)){var E=this.createSvgRectElement(b,y,d,d);p.appendChild(E)}return p},e.QUIET_ZONE_SIZE=4,e.SVG_NS="http://www.w3.org/2000/svg",e}(),W="http://www.w3.org/2000/svg",Z=function(){function e(){}return e.prototype.write=function(n,r,o,i){if(0===n.length)throw new t("Found empty contents");if(r<0||o<0)throw new t("Requested dimensions are too small: "+r+"x"+o);var a=y.L,c=e.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(v.ERROR_CORRECTION)){var s=i.get(v.ERROR_CORRECTION).toString();a=y.fromString(s)}void 0!==i.get(v.MARGIN)&&(c=Number.parseInt(i.get(v.MARGIN).toString(),10))}var u=w.encode(n,a,i);return this.renderResult(u,r,o,c)},e.prototype.writeToDom=function(t,e,n,r,o){if("string"==typeof t){var i=document.querySelector(t);if(!i)throw new Error("Could no find the target HTML element.");t=i}var a=this.write(e,n,r,o);t instanceof HTMLElement&&t.appendChild(a)},e.prototype.renderResult=function(t,e,n,r){var o=t.getMatrix();if(null===o)throw new g;for(var i=o.getWidth(),a=o.getHeight(),c=i+2*r,s=a+2*r,u=Math.max(e,c),l=Math.max(n,s),d=Math.min(Math.floor(u/c),Math.floor(l/s)),f=Math.floor((u-i*d)/2),h=Math.floor((l-a*d)/2),p=this.createSVGElement(u,l),m=0,v=h;m<a;m++,v+=d)for(var y=0,w=f;y<i;y++,w+=d)if(1===o.get(y,m)){var b=this.createSvgRectElement(w,v,d,d);p.appendChild(b)}return p},e.prototype.createSVGElement=function(t,e){var n=document.createElementNS(W,"svg"),r=t.toString(),o=e.toString();return n.setAttribute("height",o),n.setAttribute("width",r),n.setAttribute("viewBox","0 0 "+r+" "+o),n},e.prototype.createSvgRectElement=function(t,e,n,r){var o=document.createElementNS(W,"rect");return o.setAttribute("x",t.toString()),o.setAttribute("y",e.toString()),o.setAttribute("height",n.toString()),o.setAttribute("width",r.toString()),o.setAttribute("fill","#000000"),o},e.QUIET_ZONE_SIZE=4,e}();export{x as BrowserAztecCodeReader,A as BrowserCodeReader,q as BrowserCodeSvgWriter,N as BrowserDatamatrixCodeReader,k as BrowserMultiFormatOneDReader,j as BrowserMultiFormatReader,D as BrowserPDF417Reader,H as BrowserQRCodeReader,Z as BrowserQRCodeSvgWriter,S as HTMLCanvasElementLuminanceSource};export default null;
//# sourceMappingURL=/sm/1a17f42980b61780fd0ae7b6c26702823aca111f118e6f286364248c1c9f2dad.map
